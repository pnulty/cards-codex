!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="af3285fc-d7da-3463-9ef8-f2ec60200c45")}catch(e){}}();
define(["exports","./e_ui_page_files_router","./c_sharing_sharing_pap_logging_common_util"],(function(e,i,n){"use strict";function o(e){return{class:"share",action:"send",object:"share_invite",properties:e}}const t=(e,i)=>{const o=e&&e.ext(),t=(null==e?void 0:e.filename())||(null==e?void 0:e.displayPath())||(null==i?void 0:i.name);return o||(t?n.getFileExtensionFromFileName(t):void 0)},d=e=>{const i={};for(const n in e)null===e[n]?i[n]=void 0:i[n]=e[n];return i};e.PAP_Send_ShareInvite=o,e.getPAPShareFolderModalProps=e=>({nsId:e.contentInfo().extras.targetNsId||void 0,numRecipients:e.recipientTokens().length||0,accessLevel:e.recipientAccess(),isEveryoneGroupAdded:e.recipientTokens().some((i=>i.group_id===e.contentInfo().extras.autoTeamGroupId)),areManualGroupsAdded:e.recipientTokens().some((i=>i.group_id&&i.group_id!==e.contentInfo().extras.autoTeamGroupId)),areUsersAdded:e.recipientTokens().some((e=>e.email||e.dbx_account_id)),hasUntokenizedInput:0!==e.recipientRawInput().length}),e.inbandShareResponseToErrorEnum={undefined:"undefined_error",null:"undefined_error",internal_error:"internal_error",other:"other",contacts_error:"contacts_error",rate_limit:"rate_limit",banned_member:"banned_member",bad_member:"bad_member",access_error:"access_error",cant_share_outside_team:"cant_share_outside_team",no_permission:"no_permission",not_authorized:"not_authorized",not_found:"not_found",settings_error:"settings_error",bad_path:"path",too_many_invitees:"too_many_invitees",invalid_logged_out_cookie:"invalid_logged_out_cookie",invalid_csrf_token:"invalid_csrf_token",invalid:"invalid",user_not_logged_in:"user_not_logged_in",too_many_files:"too_many_files",total_mounts_exceeded:"total_mounts_exceeded",home_mounts_exceeded:"home_mounts_exceeded",tree_size_exceeded:"tree_size_exceeded",invalid_shared_folder:"invalid_shared_folder",email_unverified:"email_not_verified",team_policy_disallows_member_policy:"team_policy_disallows_member_policy",disallowed_shared_link_policy:"disallowed_shared_link_policy",too_many_pending_invites:"too_many_pending_invites",access_denied:"access_denied",failed_copy_to_clipboard:"failed_copy_to_clipboard",insufficient_plan:"insufficient_plan",invalid_comment:"invalid_comment",invalid_email:"invalid_email",network:"network",team_folder:"team_folder",too_many_members:"too_many_members",already_shared:"already_shared"},e.logPAPSendShareInviteEvent=(e,r,_,l,a,s,c,u,m,v,f,p,g,h)=>{var y,I,j,E;const T=((e,o,r,_,l,a,s,c,u,m,v,f,p,g)=>{var h,y,I;const j=null!==(I=null!==(y=null!==(h=null==v?void 0:v.folder_id)&&void 0!==h?h:null==v?void 0:v.id)&&void 0!==y?y:null==s?void 0:s.fileId())&&void 0!==I?I:void 0,E=!(null==s?void 0:s.isFile()),T=null==s?void 0:s.isSharedFolder(),b=!E&&s?t(s,v):void 0,S=E&&s?i.getFolderTypeFromString(n.FILE_TYPE_TO_FOLDER_TYPE[n.getContentType(s)]):void 0;let A;try{A=T?null==s?void 0:s.sharedFolderId():null==s?void 0:s.nsId()}catch(e){A=void 0}const R=(null==s?void 0:s.extras.origin)===i.SHARE_ACTION_ORIGIN_TYPE.CREATE_SHARED_FOLDER_MODAL||(null==s?void 0:s.extras.origin)===i.SHARE_ACTION_ORIGIN_TYPE.WIZARD||(null==s?void 0:s.extras.origin)===i.SHARE_ACTION_ORIGIN_TYPE.BROWSE_NEW_FOLDER_MODAL||(null==s?void 0:s.extras.origin)===i.SHARE_ACTION_ORIGIN_TYPE.CDM_ROOT_LOCATION_PICKER,x={eventState:e,actionSurface:o,actionElement:r,contentAction:_?i.getContentActionFromString(_):void 0,inbandAccessLevel:l,numRecipients:a,isNewFolder:R,contentIdentifier:j,folderType:S,nsId:A,isDir:E,fileExtension:b,fromNotifyInherited:f,shareModalType:p?n.getShareModalTypeFromString("sm24"):void 0,screen:g},k={};return"success"===e?(k.httpStatusCode=u,k.sckeySha1=c):"canceled"!==e&&"failed"!==e&&"rejected"!==e||(k.httpStatusCode=u,k.shareInviteErrorReason=m),d({...x,...k})})(e,r,_,l,a,s,c,u,m,v,f,p,g,h),b=o(T),S=(null==c?void 0:c.fileId())||(null==c?void 0:c.displayPath());let A="unspecified",R="unspecified";(null==c?void 0:c.isFile())?(R=null!==(y=null==c?void 0:c.ext())&&void 0!==y?y:"unspecified",A="file"):(null==c?void 0:c.isSharedFolder())?(A="shared_folder",R="folder"):(null==c?void 0:c.isFolder())&&(A="file_folder",R="folder");const x={actionSurface:null!=r?r:"unspecified",actionElement:null!=_?_:"unspecified",tiburonOrigin:null!==(I=null==c?void 0:c.extras.origin)&&void 0!==I?I:"unspecified",contentAction:null!=l?l:"unspecified",isDir:null!==(E=null===(j=null==T?void 0:T.isDir)||void 0===j?void 0:j.toString())&&void 0!==E?E:"unspecified",screen:null!=h?h:"unspecified",isSm24:g?"true":"false",sharedObjType:A,fileType:R,eventState:e};"start"===e?i.UDCL.logStart(b,{tags:x,key:S}):"failed"===e||"rejected"===e?i.UDCL.logEnd(b,{tags:{...x,errorReason:null!=v?v:"unspecified"},key:S}):i.UDCL.logEnd(b,{tags:x,key:S})},e.shareInviteErrorReasonToTerminalState={undefined_error:"failed",internal_error:"failed",other:"failed",contacts_error:"rejected",rate_limit:"rejected",banned_member:"rejected",bad_member:"rejected",access_error:"rejected",cant_share_outside_team:"rejected",no_permission:"rejected",not_authorized:"rejected",not_found:"failed",settings_error:"rejected",bad_path:"rejected",too_many_invitees:"rejected",invalid_logged_out_cookie:"rejected",invalid_csrf_token:"rejected",invalid:"rejected",user_not_logged_in:"rejected",too_many_files:"rejected",total_mounts_exceeded:"rejected",home_mounts_exceeded:"rejected",tree_size_exceeded:"rejected",invalid_shared_folder:"rejected",email_unverified:"rejected",team_policy_disallows_member_policy:"rejected",disallowed_shared_link_policy:"rejected",too_many_pending_invites:"rejected",access_denied:"rejected",failed_copy_to_clipboard:"rejected",insufficient_plan:"rejected",invalid_comment:"rejected",invalid_email:"rejected",network:"failed",team_folder:"rejected",too_many_members:"rejected"}}));
//# sourceMappingURL=c_sharing_sharing_pap_logging_send_share_invite_util.js-vfl1B5SAZ.map

//# debugId=af3285fc-d7da-3463-9ef8-f2ec60200c45