!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="eceb81b4-69dd-3086-9864-b6eacbefca56")}catch(e){}}();
define(["exports","./c_fileops_downloads","./c_pap-events_replay_shown_modal","./e_ui_page_files_router","react","./c_core_i18n","./c__rollupPluginBabelHelpers","./c_dig-foundations_stack","./c_dig-components_banner_index","./c_action_bar_action_bar_constants","./c_lib_logging","./c_common_logging-contexts_sharing-keys","./c_common_logging-contexts_sharing-surface","./c_shared_link_logging_utils"],(function(e,t,o,a,n,l,s,r,d,i,c,_,g,m){"use strict";function u(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var p=u(n);const w=c.defineContext({sharedObjId:null,sharedObjType:null,sharedObjResolvedAccessLevel:null}),f=e=>({sharedObjType:e.sharedObjType||"unknown",sharedObjResolvedAccessLevel:e.sharedObjResolvedAccessLevel||"unknown"}),y=e=>({sharedObjId:e.sharedObjId||void 0,sharedObjType:e.sharedObjType||void 0,sharedObjResolvedAccessLevel:e.sharedObjResolvedAccessLevel||void 0});function h(e){return{class:"sharing_receiver",action:"generate",object:"shared_content_download_url",properties:e}}const E=Symbol("ON_TEST_DOWNLOAD_API_START"),O=Symbol("ON_TEST_DOWNLOAD_API_SUCCESS"),S=Symbol("ON_TEST_DOWNLOAD_API_FAILED"),k=Symbol("ON_GENERATE_DOWNLOAD_URL_API_START"),b=Symbol("ON_GENERATE_DOWNLOAD_URL_API_SUCCESS"),D=Symbol("ON_GENERATE_DOWNLOAD_URL_API_FAILED"),M=Symbol("ON_FETCH_DOWNLOAD_URL_API_START"),v=Symbol("ON_FETCH_DOWNLOAD_URL_API_SUCCESS"),L=Symbol("ON_FETCH_DOWNLOAD_URL_API_FAILED"),I=Symbol("ON_VIEW_POST_DOWNLOAD_PRE_SUSI_MODAL"),A=Symbol("ON_CLOSE_POST_DOWNLOAD_PRE_SUSI_MODAL"),T=Symbol("ON_POST_DOWNLOAD_PRE_SUSI_MODAL_OPEN_SUSI_MODAL"),C=Symbol("ON_VIEW_MALWARE_WARNING_MODAL"),N=Symbol("ON_VIEW_MALWARE_WARNING_MODAL"),U=Symbol("ON_CLOSE_MALWARE_WARNING_MODAL"),Z=Symbol("ON_CLOSE_MALWARE_WARNING_MODAL"),P=Symbol("ON_MOUNT_POST_DOWNLOAD_MODAL"),{defaultEmitter:j,useEmitter:R}=c.defineLogger((async({event:e,getContextValue:t})=>{const o=t(g.Context),n=t(_.Context),l=await _.getHashedKeys(n),s=t(w),r=e.payload&&"targetObjectMetadata"in e.payload?e.payload.targetObjectMetadata:t(m.Context),d={..._.getTags(l),...g.getTags(o),...f(s),...m.getTags(r)},i={..._.getProperties(l),...g.getProperties(o),...y(s),...m.getProperties(r)};if(e.key!==k)if(e.key!==b)if(e.key!==D)e.key!==E?e.key!==O?e.key!==S?e.key!==M?e.key!==v?e.key!==L?e.key!==I?e.key!==A?e.key!==T?e.key!==C?e.key!==N?e.key!==U?e.key!==Z?e.key!==P||a.UDCL.logEvent("view.post_download_modal",{tags:d}):a.UDCL.logEvent("ops.sharing_download.report_malware_modal",{tags:{...d}}):a.UDCL.logEvent("ops.sharing_download.close_malware_modal",{tags:{...d}}):a.UDCL.logEvent("ops.sharing_download.download_malware_modal",{tags:{...d}}):a.UDCL.logEvent("ops.sharing_download.view_malware_modal",{tags:{...d}}):a.UDCL.logEvent("ops.sharing_download.post_download_modal",{tags:{status:"open_susi_modal",...d}}):a.UDCL.logEvent("ops.sharing_download.post_download_modal",{tags:{status:"close",...d}}):a.UDCL.logEvent("ops.sharing_download.post_download_modal",{tags:{status:"view",...d}}):a.UDCL.logEnd("ops.sharing_download.fetch_download_url_api",{key:await _.getHashedString(e.payload.sessionId),tags:{status:e.payload.errorType,...d},eventState:"failed"}):a.UDCL.logEnd("ops.sharing_download.fetch_download_url_api",{key:await _.getHashedString(e.payload.sessionId),tags:d,eventState:"success"}):a.UDCL.logStart("ops.sharing_download.fetch_download_url_api",{key:await _.getHashedString(e.payload.sessionId),tags:d}):a.UDCL.logEnd("ops.sharing_download.test_download_api",{key:await _.getHashedString(e.payload.sessionId),tags:{status:e.payload.errorType,...d},eventState:"failed"}):a.UDCL.logEnd("ops.sharing_download.test_download_api",{key:await _.getHashedString(e.payload.sessionId),tags:d,eventState:"success"}):a.UDCL.logStart("ops.sharing_download.test_download_api",{key:await _.getHashedString(e.payload.sessionId),tags:d});else{const t=["content_not_found","unknown_token_link_type","invalid_token","access_denied","too_large","permission_denied","token_owner_disabled","token_expired","token_double_encoded_path"].includes(e.payload.errorType)?"rejected":"failed";a.UDCL.logEnd(h({...i,eventState:t}),{key:await _.getHashedString(e.payload.sessionId),tags:{status:e.payload.errorType,...d}})}else a.UDCL.logEnd(h({...i,eventState:"success"}),{key:await _.getHashedString(e.payload.sessionId),tags:d});else a.UDCL.logStart(h({...i,eventState:"start"}),{key:await _.getHashedString(e.payload.sessionId),tags:d})}));const W="gb";function x(){return sessionStorage.getItem(W)||void 0}var F;!function(e){e.ContentNotFound="content_not_found",e.UnknownTokenLinkType="unknown_token_link_type",e.InvalidToken="invalid_token",e.AccessDenied="access_denied",e.TooLarge="too_large",e.PermissionDenied="permission_denied",e.TokenOwnerDisabled="token_owner_disabled",e.TokenExpired="token_expired",e.TokenDoubleEncodedPath="token_double_encoded_path",e.UnknownError="unknown_error",e.UnknownErrorFromStatusCode="unknown_error_from_status_code",e.UnknownErrorFromErrorString="unknown_error_from_error_string",e.InvalidZipFileInfo="invalid_zip_file_info",e.MissingSfjEntry="missing_sfj_entry"}(F||(F={}));class B extends Error{constructor(e){super(),this.type=e}}const H=e=>{switch(e[".tag"]){case"missing_link_url":case"inconsistent_rlkey":case"not_found":return F.ContentNotFound;case"unsupported_link_type":return F.UnknownTokenLinkType;case"bad_request":case"miscellaneous":case"other":default:return F.UnknownError;case"forbidden":return F.PermissionDenied;case"too_many_requests":case"bandwidth_limit_exceeded":return F.AccessDenied}};async function $(e){const{sharedLinkUrl:t,targetObjectMetadata:n,loggingSessionId:l,rlkey:s,userId:r}=e,d=r||o.getActiveUserId();let i;j.select(M).emit({targetObjectMetadata:n,sessionId:l});try{i=await async function(){async function e(e,o){try{const a=e.ns("sharing_receiving");return(await a.rpc("generate_download_url",{link_url:t,optional_rlkey:s||"",optional_grant_book:x()||""},{subjectUserId:o})).download_url}catch(e){let t=F.UnknownError;if(e instanceof a.ApiError){const o=e.error;t=H(o)}throw new B(t)}}let n;try{n=await e(new a.ActiveUserApiV2Client,d)}catch(t){if(!(t instanceof B&&t.type===F.PermissionDenied))throw t;{if(!(o.getAuthedUserIds().length>1))throw t;const l=o.getAuthedUserIds()[1],s=(await a.fetchViewer()).get_user_by_id(l);n=await e(new a.DefaultUserApiV2Client({id:s.id,root_ns_id:s.root_ns_id}),s.id)}}if(void 0===n)throw new B(F.UnknownError);return n}()}catch(e){throw j.select(L).emit({errorType:e instanceof B?e.type:F.UnknownError,targetObjectMetadata:n,sessionId:l}),e}return j.select(v).emit({targetObjectMetadata:n,sessionId:l}),i}const G=({onEscapeHatchClick:e})=>p.default.createElement(a.Modal$1.Footer,{style:{justifyContent:"center",paddingTop:0}},p.default.createElement(a.ThemeProvider,{theme:"vis2020"},p.default.createElement(a.ThemeContainer,null,p.default.createElement(a.Button,{variant:"transparent",onClick:e,size:"medium"},z))));G.displayName="PreDownloadSUSIModalFooter";const z=l.intl.formatMessage(l.defineMessage({id:"GS0V1G",defaultMessage:"Or continue with download only"})),V=["aspectRatio","altText","inverse"];var q=e=>{let t,{aspectRatio:o,altText:n,inverse:l}=e,r=s._objectWithoutProperties(e,V);switch(o){case"16:9":t="0 0 1696 954";break;case"1:1":t="371 0 954 954";break;case"5:6":t="450 0 795 954"}const{getInverseProps:d}=a.useTheme(),{className:i}=d(),c="dig-Illustration dig-13or4mr2_4-5-0 dig-Illustration-hero"+(l?i+" dig-Illustration--inverse":"");return p.createElement("svg",s._objectSpread2(s._objectSpread2({role:"presentation"},r),{},{className:c,viewBox:t,fill:"none",xmlns:"http://www.w3.org/2000/svg"}),p.createElement("title",null,n),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M792.259 30.907c-26.243 57.041-53.797 112.587-102.909 150.365-54.172 41.144-128.963 40.957-193.07 32.541 35.615 20.386 64.107 46.194 79.103 86.965 3.936 8.79 4.311 20.198 5.811 28.053 1.312.748 4.123 18.328 4.873 24.126-3.936 27.866-20.619 43.201-42.738 63.961-22.681 21.32-48.736 41.144-72.917 52.927 43.488 4.675 96.536 15.896 131.026 45.446 25.868 27.492-17.058 99.12-26.618 140.265-6.373 20.385-10.684 31.793-13.496 41.893 28.117-5.985 83.039-33.29 114.343-35.721 14.058-.561 24.93-3.18 40.676-1.871 9.935-.187 15.558 2.432 20.432 0 5.248-7.106-11.997-21.507-12.934-24.686 0-.374 8.435-5.237 8.435-5.798.187-.561-8.435-3.553-8.81-3.179-.188.187 5.623 2.431 6.56 2.431 1.687 0-.749.935-4.498 1.87-4.686 1.122-4.124 1.496-8.061-5.61-1.874-3.554-5.998-10.1-6.935-12.718 8.248-2.431 23.806-8.229 31.491-11.782 11.059-12.905-6.748-30.11-21.369-41.519-2.999-2.057-5.811-3.74-6.186-3.927-.749-.187 0-.748 8.81-7.855 7.311-5.985 36.927-30.671 37.115-28.24 5.623-1.87 8.248-1.87 19.119.374 20.995 4.114 23.431 5.424 42.926 22.629 12.934 11.596 33.74 32.168 39.739 39.649 20.244 21.32 43.112 85.655 53.984 121.563 7.498 21.882 14.621 50.87 24.931 57.79 1.874-.187 1.687.748 1.499-10.1-1.124-7.48 11.997-48.812 19.682-59.285 7.686 25.996 17.808 62.278 23.806 89.77.562 10.099 7.873 5.984 6.373-1.122-.562-3.367 2.625-34.599 5.436-52.553.937-7.107 1.125-6.546-1.874.187-2.999 7.481-4.312 9.538-6.373 10.66-5.061 2.992-1.5-4.675-1.5-8.977 3.561-29.362 14.999-54.797 27.739-83.037 6.75-19.45 20.62-44.885 35.43-59.099 55.48-36.282 101.78-36.469 175.64-28.614-31.87-22.629-83.98-58.911-100.29-92.201-11.99-25.622-19.49-48.064-15.93-74.247 13.68-27.118 44.8-38.152 78.92-40.583-41.99-17.206-105.72-31.046-134.4-66.019-12.37-21.881-28.31-49.747-27.37-78.735.56-43.95-1.31-43.015 9.75-98.373 3.18-15.71 5.62-28.614 5.43-28.614-9.37 5.05-22.68 14.213-31.11 21.133-27.37 22.255-68.421 42.08-104.411 34.599-46.675-9.538-102.534-63.961-108.345-109.407-1.499-12.157-1.687-4.676-6.935 4.675Z",fill:"#FAD24B"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M828.436 171.36c-10.872 3.554-11.621 23.378-15.37 36.282-5.249 16.084-6.561 20.573-9.748 27.492-5.623-17.392-10.122-38.9-30.179-31.98-20.619 7.481-13.683 28.427-11.059 54.797 3.936 34.038 1.875 55.358 11.809 86.777 4.124 15.71 8.435 34.225 7.498 46.195-.562 3.366-8.997 13.652-14.621 17.954-11.059 8.79-20.244-20.386-26.055-28.615-10.497-22.255-21.181-41.331-30.179-61.903-6.186-14.214-14.996-20.386-25.118-17.393-10.122 4.114-15.37 7.106-14.246 18.889 0 17.393 12.559 34.225 19.87 50.869 7.685 15.897 14.246 26.183 18.182 40.771.375 5.236.937 6.359 5.811 11.969 6.186 6.733 36.552 51.244 45.55 71.068 27.179 47.69 41.8 106.415 62.044 153.544 23.244 58.724 34.303 112.96 43.863 174.677 5.623 25.996 2.437 59.286 24.556 72.751 39.926 23.191 80.977 14.588 119.406-2.431 13.12-8.79 27.36-24.687 37.11-37.591-21.93-50.87-50.421-128.857-62.605-181.223-14.059-40.023 0-44.324 26.805-67.702 52.11-41.331 25.3-80.98 78.35-125.491 14.62-14.213 15-14.774 14.62-22.442.19-8.416-4.87-15.897-11.24-18.702-18.19-7.855-50.61 9.725-62.61 20.385-12.18 6.92-33.741 54.797-56.048 49.374-9.184-12.157-37.114-115.953-36.927-141.388-2.624-36.095-8.622-74.995-15.933-115.205-4.686-33.85-4.873-35.159-7.498-39.835-6.373-11.969-19.307-11.969-28.679-2.057-6.186 2.992-2.624 21.32-7.498 25.435-9.56-5.798-15.745-21.321-18.932-31.046-1.312-4.301-2.062-5.236-3.187-5.049-.562.187-.937-.748-1.499-3.367-2.624-13.091-11.059-30.297-26.243-25.809Z",fill:"#793C23"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M857.303 169.864c-22.119 15.523-28.679 54.984-36.552 80.793-9.185 29.175-26.992 89.022-33.741 114.644-4.686 10.847-.187-24.313 1.313-25.622 5.061-19.076 21.743-75.183 26.43-89.396 9.559-28.801 26.992-70.32.749-73.125-29.616 6.359-40.301 55.171-53.235 81.167-34.49 76.117-50.235 138.208-68.605 222.554-22.119-24.686-34.116-64.335-59.796-82.289-22.493-17.58-67.856-8.229-38.989 24.5 37.865 33.103 37.49 70.507 53.61 119.693 9.372 27.866 21.369 41.332 30.929 66.579.187 19.638.375 63.026-4.124 70.32-2.812 8.79-5.811 20.572-9.747 30.11-17.058 47.13-32.429 97.438-54.36 142.697-19.307 37.778 28.117-25.622 173.201 46.381 2.437.935 10.685 10.66 11.247 8.229 1.125-8.79 2.249-23.938 3.561-32.541 6.749-49.187 16.871-113.709 33.928-158.594 10.872-35.721 18.745-31.793 40.114-62.278 34.303-59.285 39.739-142.509 60.545-205.909 4.499-37.217 32.241-121.377 27.93-151.487-5.811-14.588-20.244-19.637-31.116-6.546-8.81 5.05-22.306 68.45-29.617 88.274-1.687 3.927-3.936 21.133-8.06 19.263-3.374-3.366-.562-8.603-.375-13.839 2.437-26.37 4.686-29.924 6.561-43.202-.563-3.741 2.249-15.523 3.936-17.206 1.312.187 3.936-38.526 4.499-40.21.187-26.556 15.745-79.296-23.993-76.491 4.311-22.629 2.436-42.641-26.243-36.469Z",fill:"#D19063"}),p.createElement("g",{fill:"currentColor"},p.createElement("path",{d:"M1639.12 0c-130.38 62.399-258.57 129.112-386.48 196.27-.68-2.407 2.41-4.518 1.74-6.925C1375.92 123.428 1500.1 62.214 1623.45 0h15.67ZM28.894 0c65.912 37.44 132.918 72.064 202.929 101.005 73.905 34.365 146.234 73.379 218.247 110.8-4.784 8.276-22.922-7.018-30.155-8.907-48.646-25.33-97.013-51.233-146.234-75.397-39.28-19.201-79.302-37.032-119.639-53.696C105.841 51.937 62.11 21.312 13.612 0h15.282ZM1696.94 314.05c-65.41 10.998-130.95 21.219-196.25 32.903-15 .333-79.62 18.608-84.2 4.777 93.83-10.48 187-31.144 280.45-45.827v8.147ZM800.884 954.5c-2.727-13.98 5.155-34.421-1.28-46.031a295.604 295.604 0 0 0-141.727-47.327c-17.359 0-33.976 5.555-51.15 7.406a4.01 4.01 0 0 0-3.95 3.278c-8.105 27.774-18.787 54.918-26.725 82.711h-4.117c5.564-30.7 19.64-59.64 27.819-89.803 61.776-16.664 127.966-2.296 182.547 29.422 6.528 4.425 14.354 7.221 19.936 12.961 5.063 14.535-1.224 32.052.26 47.494l-1.613-.111Zm259.496-101.875-2.28-1.704c-27.36 27.441-64.544 53.697-104.621 55.974-27.559-3.333-59.254-1.481-80.786-21.682 1.039 24.071 11.517 45.698 14.67 69.287h-4.117c-2.152-18.96-28.505-74.712-8.049-84.822l3.486 3.444c-30.007 22.793 73.145 33.329 85.497 28.404 33.697-9.536 65.67-27.645 89.19-53.697 7.92-15.479-15.21-4.684-18.4-12.054 13.22-6.702 23.57 4.204 25.41 16.85ZM1298.82 0c-47.37 30.718-93.67 62.455-138.83 96.283-15.45 6.962-60.15 50.234-70.81 43.698 21.07-24.756 54.34-40.106 80.84-59.621 36.98-29.2 77.89-52.993 116.06-80.267L1298.82 0Zm398.12 931.003c-73.38-53.437-148.36-104.597-223.16-156.182.86-1.537 1.56-2.815 2.52-4.592 74.32 50.622 147.33 103.171 220.7 155.219l-.06 5.555ZM1260.43 954.5c-44.77-64.01-87.89-129.612-126.63-197.233 45.72 64.658 87.07 132.316 132.4 197.233h-5.77ZM630.725 0c21.514 31.903 41.395 64.806 63.65 96.283 1.724 3.13 6.843 7.61.927 9.684C668.874 72.009 647.25 34.754 621.879 0h8.846Z"}),p.createElement("path",{d:"M1097.36 954.5c-11.93-34.181-26.23-67.491-37.09-102.042a1055.398 1055.398 0 0 1 39.5 102.042h-2.41Zm78.58-353.452a4.77 4.77 0 0 1 .61-3.591 4.836 4.836 0 0 1 2.97-2.13c120.23 85.784 243.45 167.532 361.34 256.576l-5.56 4.351c-117.23-88.71-239.93-169.662-359.36-255.206ZM0 422.294v-5.017c114.428 3.703 228.726 11.109 343.098 15.183 42.878 1.5 85.682 5.203 128.578 3.981 3.431 0 4.173.703 4.581 6.147C317.523 440.496 158.678 429.145 0 422.294Zm1239.66-28.366c98.07-8.851 196.44-18.349 294.4-26.682 17.11-1.425 34.66-.777 51.61-3.092 8.68-3.333 17.67-3.37 26.78-2.666 5.56 0 5.71.111 6.58 6.332-75.52 5.333-151 10.925-226.7 18.85-42.42 5.554-85.07 4.888-127.41 9.017-6.51-.796-23.2 5.499-25.26-1.759Zm-193.67-58.214c102-47.105 211.62-77.397 312.68-126.594l3.58 5.24c-82.18 41.846-172.2 67.805-257.46 103.245-17.45 7.184-35.77 12.48-52.5 21.256-2.3 1.259-3.89.593-6.3-3.147ZM288.443 890.101c48.85-36.162 87.388-83.933 132.9-124.057 32.344-31.274 65.763-61.362 99.016-91.636 19.659-16.016 35.367-39.309 56.621-51.993-58.179 64.714-126.316 119.836-187.517 181.605-14.448 10.369-91.654 102.468-101.02 86.081ZM123.831 560.72l-1.744-4.925c93.675-13.591 186.126-35.31 280.042-47.327 21.477-3.703 42.656-8.777 64.225-12.406 2.485-.185 6.713-1.851 6.732 2.093-59.514 15.905-121.271 21.867-181.824 33.254-55.73 10.851-110.792 22.997-167.431 29.311Zm147.161 171.773C189.928 786.578 109.643 842.145 25.964 891.99c-7.177-10.795 71.847-48.29 82.492-58.955 53.486-34.495 103.857-75.027 162.165-101.246l.371.704ZM1172.99 483.99c103.09 57.399 211.42 104.041 320.1 149.98-.65 1.851-1.28 3.703-2.06 5.869-95.59-42.254-192.54-81.711-283.75-132.908-4.97-4.703-39.36-17.812-34.29-22.941ZM602.999 313.698c-103.856-26.459-206.953-59.603-311.904-83.47l.798-5.759c103.634 28.978 208.437 55.548 311.218 88.322l-.112.907ZM711.53 32.607c24.387 47.549 45.307 96.801 68.619 144.924l-4.377 3.074c-24.276-46.29-42.395-95.542-66.765-141.87-2.17-3.758-1.335-5.758 2.523-6.128Z"})),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M860.302 172.857c-4.499 3.741-12.184 29.362-6.186 33.477 17.058 11.408 26.805-3.553 28.305-21.32.749-7.668.562-8.416-2.999-8.416-1.5 0-1.687.187-1.5 1.309.375 2.431-.75 10.66-2.249 15.522-3.749 8.603-6.186 19.451-16.496 13.84-5.248-1.87-1.499-9.351-1.687-13.278 1.312-5.237 3.187-22.63 7.873-19.825 1.874-1.87-4.311-1.496-5.061-1.309Zm-38.614 6.546c1.874 2.431 5.248 4.114 3.561 7.107-2.249 8.229-4.686 19.263-10.684 25.996-20.244-1.123-9.935-16.271-4.874-27.118.938-2.993 6.748-5.05 1.687-5.798-3.561-.561-6.56 3.553-9.934 13.652-4.499 13.653-2.812 17.393 9.185 19.825 6.185 1.309 6.748 1.309 9.372-1.31 4.686-7.667 9.56-23.377 5.061-.374-6.373 28.241-21.931 68.45-29.054 98.373-3.937 13.653-10.685 36.843-13.309 51.057-1.687 4.301-.375 12.156-5.061 12.717-2.624 0 1.874 1.871 10.309 4.115 4.499 1.122 6.374.561 2.437-.748-5.436-1.496-.75-3.928.937-11.596 9.373-26.931 12.934-48.999 21.369-75.743 8.248-25.809 15.184-46.007 22.682-73.686 2.999-10.847 7.122-23.939 12.558-32.729.938-1.496.938-1.496-.187-1.87-9.56 2.805-16.87 32.355-20.244 43.389-14.059 49.373-27.555 89.583-41.426 140.452-3.187 10.848.187-4.862 1.125-8.416 6.748-27.866 19.682-77.052 27.179-97.063 6.186-22.817 31.304-73.125 5.999-82.476-.188 0 .375.935 1.312 2.244Zm-35.803 24.126c-7.31 10.099-13.871 28.801-18.182 41.331-1.312 4.863-7.31 15.523-5.623 17.954 5.061 2.057 12.746-27.305 15.933-33.29 4.311-14.774 11.996-27.866 7.872-25.995Zm96.161 5.797c-8.81 37.404-16.87 71.442-28.867 109.968-7.31 24.687-9.372 41.706-16.12 64.335-3.562 10.661-3.562 11.035-1.313 10.661 5.811-.935 3.374-9.913 8.248-10.1 8.248-3.179 19.869 5.237 27.742 10.474 23.993 19.263 9.747 17.58 17.058 29.736 5.061 0 2.249-8.042 6.373-16.458 2.062-6.733 6.186-19.45 8.06-26.183 8.248-25.061 20.057-65.27 26.993-88.461-1.875-1.87-5.811 8.229-6.374 9.726-5.061 12.53-8.435 22.629-12.184 37.217-5.436 20.385-12.559 39.835-18.557 57.789 3.937-40.396 12.934-88.648 15.371-128.67.75-12.905 3.561-38.9.375-51.057-2.625-10.66-17.433-10.286-24.931-7.294l.375-1.87c.937-2.805-1.874-2.244-2.249.187Zm15.745 2.244c8.81 2.432 3.937 23.565 0 29.363-5.81 4.862-11.621.748-10.122-8.977 0-7.107 1.875-14.962 3.187-20.573.375-1.122 3.936-.935 6.935.187Zm-13.496 7.481c-1.687 3.741-1.687 14.027-1.874 19.824 5.623 8.79 21.556 7.294 23.993-4.301-2.437 49.186-9.185 97.438-15.746 145.876-.749 6.359-.749 6.359-2.624 3.928-8.435-10.474-28.304-22.069-42.175-14.775 6.748-33.29 17.057-63.213 25.867-96.316 4.874-17.58 4.311-23.003 7.873-37.965.375-2.244 7.685-30.11 4.686-16.271Zm-30.929-.935c0 1.309 5.062 3.367 9.748 4.115 3.374.561 1.687-.374-2.625-1.497-2.999-.187-5.81-4.114-7.123-2.618Zm-55.484 1.496c-1.312.561 12.559 5.05 15.371 4.302-4.124-1.496-9.935-4.489-15.371-4.302Zm86.038 31.42c1.125 1.309 7.311 3.74 10.31 4.114 2.999.187-9.56-4.114-9.185-4.675-.562-.561-2.812-1.122-1.125.561Zm52.673 34.412c-3.187 3.179-6.561 18.515-5.998 28.614 11.059 17.019 28.304 2.431 28.304-16.084.562-5.237.188-6.546-1.874-7.294-5.624-3.179-4.312 24.126-11.247 27.492-2.437 2.806-3.749.561-6.561-.374-5.248-.374-3.749-13.091-3.374-17.019 2.437-14.587 2.999-16.458 5.436-15.896.937.187 1.312.187.937-.187-.75-1.31-4.124-.749-5.623.748Zm-167.578 7.106c.938 2.806 3.187 2.245 8.435 2.619 15.746.748-8.81-4.489-8.435-2.619Zm60.733 3.741c1.125 1.683 2.062 2.057 2.062 1.122.75-.561 11.247 2.992 9.372 1.122 0 .187-15.183-6.546-11.434-2.244Zm43.113 18.328c1.499 2.431 10.497 6.733 12.746 4.862-.749-1.122-3.374-.935-6.748-2.992-5.248-2.431-5.998-2.618-5.998-1.87Zm56.796 10.847c0 1.683 10.31 4.863 12.184 3.74.75-.748-10.872-5.61-12.184-3.74Zm-2.811 8.416c.937 1.309 12.559 5.424 15.933 5.798 5.623 1.683-18.183-8.603-15.933-5.798ZM709.407 350.34c-2.999 1.87-12.746 6.733-15.933 8.229 6.186 6.171 29.054-12.531 15.933-8.229Zm17.433 5.236c-1.687 1.871-26.618 89.209-15.558 63.774 0 2.058 23.993-79.67 15.558-63.774Zm131.962 16.084 3.374.935c-2.624 2.431-3.936 5.985-2.249 8.977-5.998-2.805-13.309-.561-18.182 2.057.937-2.244 3.186-11.221 4.498-11.969 4.312-1.122 5.624-1.683 12.559 0Zm-73.854.187c0 1.309-1.124 1.496-.75 0 .375-1.309.75-1.496.75 0Zm84.164 4.115c4.124 1.87.187 4.114-1.312 6.545-6.748 3.554-4.874-11.782 1.312-6.545Zm48.174 2.805c14.996 9.912 12.559 4.114-1.125-1.122l1.125 1.122Zm-38.989 3.553c2.437 1.87 8.06 7.855 10.684 10.66-.749 17.393-4.873-.748-23.243-8.602 10.872 2.244 7.123-7.107 12.559-2.058Zm-129.526 3.928c-1.5 6.171-7.123 16.645-3.561 19.45 3.748 1.683 3.374-2.618 5.061-8.229 4.123-14.775 1.874-17.954-1.5-11.221Zm7.873.187c-2.25 3.553-5.811 19.076-.937 20.385.749-2.805 8.81-26.183.937-20.385Zm136.461 13.091c-.187.374-.375.374-.375-.374 0-1.496.75-.374.375.374Zm-84.913 3.18c-.938 1.683-2.25 20.385-.375 24.499 3.561 14.214 9.185-31.98.375-24.499Zm133.649 2.618c-21.743 57.228-26.055 134.842-44.987 190.387-.75-2.057-6.935 14.961-7.31 16.084-2.437 8.041-6.748 15.522-10.872 23.938-8.435 20.011-35.615 45.633-39.364 61.904.187 3.553 2.437 1.496 3.749-1.683 2.062-5.237 14.246-20.011 18.932-26.744 25.305-29.736 45.55-80.045 50.611-116.327 7.685-16.458 31.866-35.721 44.05-47.129-6.186.561-30.554 22.442-38.802 31.419-4.124 4.863-2.437 2.432-1.499-2.431 6.748-30.297 13.871-68.823 20.806-100.617.375-2.244 9.373-34.599 4.686-28.801Zm-347.339 4.675c-5.811-.187-7.685 5.798-2.624 7.107 2.812.374 0-.748.187-2.618 1.875-9.538 14.059 3.927 17.245 8.416 4.874 2.618 2.625 15.897 5.811 18.141 2.625 1.496 4.686-2.806 4.124-8.603-1.874-10.099-13.496-23.939-24.743-22.443Zm257.552 20.386c-.562 6.732 0 17.018.938 19.076 3.748 4.114 7.497 7.855 5.998-3.741-.563-8.229-.375-10.473-1.875-16.832-2.436-2.431-5.061-4.488-5.061 1.497Zm-225.124 12.53c-1.312 1.122-3.561 5.05-5.061 5.611-.749 0-1.312 1.122-1.312 2.431 3.562 3.74 13.122-14.214 6.373-8.042Zm263.926 8.229c-4.686 25.809 3.749 34.786 3.749 3.74 0-3.553-1.687-4.114-3.749-3.74Zm201.694 7.481c-9 6.171-23.06 16.083-20.43 29.362.18 3.927.93 4.488 3.18 4.488-1.12-14.213 10.88-24.873 23.06-32.728 6.75 7.294 3.75-5.798-5.81-1.122Zm-292.981 4.301c-4.499 33.664-3.186 98.373-.187 125.865 1.312.374 4.124 0 3.374-2.244-.375-3.367-.937-25.996-.75-35.347.75-27.492-.75-52.366-.562-77.801 0-11.595.562-15.148-1.875-10.473Zm-106.095 17.019c-4.686 5.985-5.248 21.881-9.747 24.5-1.125.935-.937 1.309.937 1.309 5.436 0 8.248-5.798 11.247-22.63.375-3.74 2.812-8.416-2.437-3.179Zm358.966 14.588c1.12 2.618 5.99 13.278 10.87 13.091 3.93.374 4.5 0 2.25-2.057-2.25-1.122-10.31-15.149-13.12-11.034Zm-22.69 66.766c2.07 2.244 9.38 4.863 13.31 4.676-2.43 0-13.87-7.668-13.31-4.676Zm-92.22 87.526c-8.06 1.87-20.806 1.309-26.805 5.423-6.373 3.554 2.999-3.553-1.687-2.244-2.812.935-24.93 21.881-24.18 22.63.374.374 3.748.748 4.873.935 8.435-9.538 22.494-21.508 35.24-23.004 10.122-.374 32.241-7.294 12.559-3.74Zm-24.555 47.503c-1.687 8.79 12.559 61.156 15.558 77.426.749 1.684.937 1.871 2.249 1.684 4.124-.935-1.687-12.157-1.874-19.077-2.25-14.587-10.685-41.705-12.747-55.171-.937-5.797-1.125-6.919-3.186-4.862Z",fill:"#1E1919"}))};a.injectInternalStyle("/static/metaserver/static/js/sharing/features/download/components/post-signup-download-modal.module.out-vflN5Nvk_.css",(e=>"._post-download-welcome-modal_1sgcb_1 .dig-Modal-content{overflow:hidden}._post-download-modal-title_1sgcb_5{margin-bottom:var(--dig-spacing__macro__xsmall);margin-top:var(--dig-spacing__macro__medium)}._post-download-modal-header_1sgcb_10{background-color:var(--color__core__secondary)}"));const K="_post-download-welcome-modal_1sgcb_1",Y="_post-download-modal-title_1sgcb_5",Q="_post-download-modal-header_1sgcb_10",J=({open:e,onClose:t=(()=>{})})=>p.default.createElement(a.Modal$1,{open:e,isCentered:!0,onRequestClose:t,className:K,"aria-labelledby":Y},p.default.createElement(a.Modal$1.Header,{hasBottomSpacing:"title-standard",className:Q},p.default.createElement(q,{aspectRatio:"16:9"})),p.default.createElement(a.Modal$1.Body,null,p.default.createElement(a.Modal$1.Title,{className:Y},X.modalTitle),p.default.createElement(a.Text,null,X.modalText)),p.default.createElement(a.Modal$1.Footer,null,p.default.createElement(a.Button,{variant:"primary",onClick:t},X.modalClose)));J.displayName="PostSignupDownloadModal";const X={modalClose:l.intl.formatMessage({id:"hjZUzW",defaultMessage:"Close"}),modalTitle:l.intl.formatMessage({id:"5g3FPz",defaultMessage:"Thanks for joining Dropbox! Your download should start soon."}),modalText:l.intl.formatMessage({id:"ShbcTQ",defaultMessage:"If it doesnâ€™t, go back to try again."})};a.injectInternalStyle("/static/metaserver/static/js/sharing/features/download/components/download-warning-modal.module.out-vflN5ct3N.css",(e=>"._download-warning-modal-body_673gf_1{padding-left:0;padding-right:0}._download-warning-illustration-container_673gf_6{max-width:296px}._warning-icon-spacing_673gf_10{margin-top:2px}._download-anyway-cta-mobile_673gf_14{order:1}._download-warning-mobile-container_673gf_18{bottom:0;height:min-content;top:unset}"));const ee="_download-anyway-cta-mobile_673gf_14",te="_download-warning-mobile-container_673gf_18",oe=({continueDownload:e,fileName:t})=>{const[o,l]=p.default.useState(!0),s=i.is_supported_mobile_browser(),c=window.location&&encodeURIComponent(window.location.href);return n.useEffect((()=>{j.select(C).emit(null)}),[]),p.default.createElement(a.Modal$1,{className:s?te:void 0,open:o,isCentered:!0,withCloseButton:re,onRequestClose:()=>{l(!1),j.select(U).emit(null)},"aria-labelledby":"download-warning-modal-title"},p.default.createElement(a.Modal$1.Header,{hasBottomSpacing:"title-standard"},p.default.createElement(a.Modal$1.Title,{id:"download-warning-modal-title"},ae)),p.default.createElement(a.Modal$1.Body,null,p.default.createElement(r.Stack,{align:"start",gap:"Micro Medium",display:"flex"},p.default.createElement(d.Banner,{type:"alert",withLeftIcon:p.default.createElement(a.UIIcon,{src:a.WarningLine}),style:{width:"100%"}},p.default.createElement(d.Banner.Message,null,p.default.createElement(a.Text,{isBold:!0},`[${t}]`))),p.default.createElement(a.Text,{size:"medium"},ne))),p.default.createElement(a.Modal$1.Footer,{preferComposition:!0},p.default.createElement(a.Split,{isFlexGap:!1,direction:s?"vertical":"horizontal",gap:"Micro Small",alignY:"center"},!s&&p.default.createElement(a.Split.Item,null,p.default.createElement(a.Button,{variant:"transparent",onClick:()=>{l(!1),j.select(U).emit(null)}},re)),p.default.createElement(a.Split.Item,{marginRight:s?void 0:"auto",className:s?ee:void 0},p.default.createElement(a.Button,{variant:s?"borderless":"opacity",onClick:()=>{e(),l(!1),j.select(N).emit(null)},fullWidth:s,size:s?"large":"medium"},se)),p.default.createElement(a.Split.Item,null,p.default.createElement(a.Button,{variant:"primary",href:`/report_abuse?ssu=${c}`,target:"_blank",withIconEnd:p.default.createElement(a.UIIcon,{src:a.OpenLine}),fullWidth:s,size:s?"large":"medium",onClick:()=>{l(!1),j.select(Z).emit(null)}},le)))))};oe.displayName="DownloadWarningModal";const ae=l.intl.formatMessage({id:"wDgAfq",defaultMessage:"Heads up! This file seems malicious"}),ne=l.intl.formatMessage({id:"LsKLpz",defaultMessage:"We found a file which is commonly associated with viruses. Be sure to trust the sender before downloading. You can also report this file to Dropbox."}),le=l.intl.formatMessage({id:"/Dc+KA",defaultMessage:"Report to Dropbox"}),se=l.intl.formatMessage({id:"cKh/Q6",defaultMessage:"Download anyway"}),re=l.intl.formatMessage({id:"xuJw2w",defaultMessage:"Cancel"});e.Context=w,e.DownloadWarningModal=oe,e.ON_CLOSE_POST_DOWNLOAD_PRE_SUSI_MODAL=A,e.ON_MOUNT_POST_DOWNLOAD_MODAL=P,e.ON_POST_DOWNLOAD_PRE_SUSI_MODAL_OPEN_SUSI_MODAL=T,e.ON_VIEW_POST_DOWNLOAD_PRE_SUSI_MODAL=I,e.PostSignupDownloadModal=J,e.PreDownloadSUSIModalFooter=G,e.defaultEmitter=j,e.downloadFileOrFolder=async function(e){const{sharedLinkUrl:o,origin:a,targetObjectMetadata:n,rlkey:l,userId:s,useSharedLinkUrlAsDownloadUrl:r,loggingParams:d,source:i,downloadCallbacks:c}=e;return new Promise((async e=>{const _=Math.random().toString();j.select(k).emit({targetObjectMetadata:n,sessionId:_});try{let g=o;r||(g=await $({sharedLinkUrl:o,targetObjectMetadata:n,loggingSessionId:_,rlkey:l,origin:a,userId:s})),j.select(b).emit({targetObjectMetadata:n,sessionId:_}),t.get({url:g,source:i||"share_download",loggingParams:d,error:null==c?void 0:c.onError,getProxyUrl:null==c?void 0:c.getProxyUrl}),e("success")}catch(t){j.select(D).emit({errorType:t instanceof B?t.type:F.UnknownError,targetObjectMetadata:n,sessionId:_}),t instanceof B?t.type===F.AccessDenied?e("accessDenied"):t.type===F.ContentNotFound?e("contentNotFound"):t.type===F.InvalidToken?e("invalidToken"):t.type===F.TooLarge?e("tooLarge"):t.type===F.UnknownTokenLinkType?e("unknownTokenLinkType"):t.type===F.PermissionDenied?e("permissionDenied"):t.type===F.InvalidZipFileInfo?e("invalidZipFileInfo"):t.type===F.MissingSfjEntry?e("missingSfjEntry"):e("unknownError"):e("unknownError")}}))},e.fetchFileAsBytes=async function(e){const{sharedLinkUrl:t,targetObjectMetadata:o,userId:a}=e,n=Math.random().toString(),l=await $({sharedLinkUrl:t,targetObjectMetadata:o,loggingSessionId:n,userId:a});return(await fetch(l)).arrayBuffer()},e.getGrantBookFromSessionStorage=x,e.getProperties=y,e.getTags=f,e.isDownloadAllowed=function(e){return e.canDownloadRoles.length>0},e.setGrantBookInSessionStorage=function(e){void 0===e?sessionStorage.removeItem(W):sessionStorage.setItem(W,e)},e.useEmitter=R}));
//# sourceMappingURL=c_download_components_download-warning-modal.js-vfl8n4yUX.map

//# debugId=eceb81b4-69dd-3086-9864-b6eacbefca56