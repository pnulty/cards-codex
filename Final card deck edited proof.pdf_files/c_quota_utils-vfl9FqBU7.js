!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="3764ed97-a240-3276-a530-5474836b1ab7")}catch(e){}}();
define(["exports","./c_ui_async_overquota_modal_controller"],(function(t,e){"use strict";t.calculateOverquotaState=t=>{var e,o;const i=null!==(e=null==t?void 0:t.show_restrictions_warning)&&void 0!==e&&e,n=null!==(o=null==t?void 0:t.enforce_restrictions)&&void 0!==o&&o,l=0===(null==t?void 0:t.restrictions_start_time_utc_seconds)||null==t?void 0:t.restrictions_start_time_utc_seconds;if(!(null==t?void 0:t.overquota_start_time_utc_seconds))return{secondsOverquota:0,isInGracePeriod:!1,restrictionStartTimestamp:l,showRestrictionWarning:i,enforceRestrictions:n};const s=Math.floor(Date.now()/1e3)-t.overquota_start_time_utc_seconds;return{secondsOverquota:s,isInGracePeriod:s<1209600,restrictionStartTimestamp:l,showRestrictionWarning:i,enforceRestrictions:n}},t.getOverQuotaReason=t=>(null==t?void 0:t.organic_or_churned)?t.organic_or_churned[".tag"]:"unknown",t.getPipelineStatusInfo=t=>{const e=!!(null==t?void 0:t.estimated_deletion_ts_unix_seconds);return{inPipeline:e,deletionDate:e?new Date(1e3*t.estimated_deletion_ts_unix_seconds).toISOString():""}},t.getQuotaAllocationAndUsage=t=>{var e,o,i,n;return{allocation:(null===(o=null===(e=null==t?void 0:t.allocation)||void 0===e?void 0:e.individual)||void 0===o?void 0:o.allocated)||(null===(n=null===(i=null==t?void 0:t.allocation)||void 0===i?void 0:i.team)||void 0===n?void 0:n.allocated)||0,usage:(null==t?void 0:t.used)||0}},t.uploadsWillExceedQuota=(t,o,i)=>{var n,l,s,a;const r=[...o.filter((t=>[e.FileStatusType.UPLOADING,e.FileStatusType.PENDING,e.FileStatusType.PAUSED].includes(t.status))),...t].reduce(((t,e)=>t+e.fileSize),0),u=null!==(s=null===(l=null===(n=i.allocation)||void 0===n?void 0:n.individual)||void 0===l?void 0:l.allocated)&&void 0!==s?s:0;return r+(null!==(a=i.used)&&void 0!==a?a:0)>u}}));
//# sourceMappingURL=c_quota_utils.js-vflhKW0q7.map

//# debugId=3764ed97-a240-3276-a530-5474836b1ab7