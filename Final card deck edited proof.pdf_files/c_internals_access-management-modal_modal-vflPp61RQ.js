!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="eec75e69-e62e-3d4b-9f01-ffc6e6699057")}catch(e){}}();
define(["exports","react","./e_ui_page_files_router","./c_src_bindings_provider","./c_core_i18n","./c_internals_content-manager-integration_async-show-access-management","./c_internals_access-management-modal_types","./c_common_components_buttons","./c_src_utils_initials","./c_content-member-list_internals_content-member-list","./c_settings-page_internals_settings-page-wrapper","./c_dig-foundations_stack","./c_inband-screen_internals_share-modal-share","./c_react_query_api_helpers_queries_seen_state_info","./c_bem","./c_action_bar_action_bar_constants","./e_data_modules_stormcrow","./c_src_bindings_api-context","./c_dig-components_label_group_index","./c_dig-components_combinations_index","./c_dig-components_metadata_index","./e_core_exception","./c_lib_logging","./c_common_logging-contexts_desktop-platform-logging-metadata","./c_dig-icons_assets_ui-icon_line_video","./c_dig-icons_assets_ui-icon_line_show"],(function(e,t,n,a,i,s,r,o,l,c,d,m,g,u,E,p,S,b,f,_,C,M,I,L,k,h){"use strict";function y(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var x=y(t);const N=e=>e.formatMessage({id:"azBLeN",defaultMessage:"Close"}),T=e=>e.formatMessage({id:"fFhvfv",defaultMessage:"Couldn’t load member list"}),v={$props:a.atom({objectIdentifier:{".tag":"file",fileId:""},fileOrFolderName:"file_name",isOpen:!0,onRequestClose:()=>{},initialScreen:r.Screen.MANAGE_ACCESS,initialSettingsTab:"object_settings"}),$currentScreen:a.atom(r.Screen.MANAGE_ACCESS),$initialSettingsTab:a.atom("object_settings"),$objectIdentifier:a.atom({".tag":"file",fileId:""})},{StoreProvider:A,useStore:w}=a.defineStoreProvider((e=>{var t,n;return{$props:e,$objectIdentifier:a.store(e.get().objectIdentifier),$currentScreen:a.atom(null!==(t=e.get().initialScreen)&&void 0!==t?t:r.Screen.MANAGE_ACCESS),$initialSettingsTab:a.atom(null!==(n=e.get().initialSettingsTab)&&void 0!==n?n:"object_settings")}}),v),B=e=>x.createElement(A,{...e});B.displayName="Provider";const j=()=>{const e=w(),{fileOrFolderName:t,onRequestClose:d}=e.$props.get(),m=a.useStore(e.$currentScreen),g=s.useEmitter(),u=x.useCallback((()=>{g.select(s.ON_CLICK_SETTINGS_BUTTON).emit(null),e.$currentScreen.set(r.Screen.SETTINGS),e.$initialSettingsTab.set("object_settings")}),[g,e.$currentScreen,e.$initialSettingsTab]),E=x.useMemo((()=>{switch(m){case r.Screen.SETTINGS:return e=i.intl,a=t,e.formatMessage({id:"a0hOt7",defaultMessage:"Settings for {contentName}"},{contentName:l.Emstring.em_snippet(a,n.SNIPPET_SIZES.FILENAME)});case r.Screen.MANAGE_ACCESS:default:return((e,t)=>e.formatMessage({id:"uXba7s",defaultMessage:"Manage access to {contentName}"},{contentName:l.Emstring.em_snippet(t,n.SNIPPET_SIZES.FOLDER_NAME)}))(i.intl,t)}var e,a}),[m,t]);return x.createElement(x.Fragment,null,x.createElement(n.Box,{className:c.classes.headerSectionTextContainer},x.createElement(n.Text,{style:{display:"flex",justifyContent:"flex-start"},size:"large",isBold:!0,className:c.classes.headerSectionPrimaryText},E)),x.createElement(n.Box,{className:c.classes.headerSectionButtonContainer},m===r.Screen.SETTINGS?null:x.createElement(o.HeaderIconButton,{onClick:u,variant:"borderless","aria-label":(p=i.intl,p.formatMessage({id:"XAZa6R",defaultMessage:"Settings"})),"data-testid":"access-management-settings-button"},x.createElement(n.UIIcon,{src:n.SettingsLine})),x.createElement(o.HeaderIconButton,{onClick:d,variant:"borderless","aria-label":N(i.intl),"data-testid":"access-management-close-button"},x.createElement(n.UIIcon,{src:n.CloseLine}))));var p};j.displayName="AccessManagementHeader";const $=()=>x.createElement(n.Box,{style:{width:"100%"},marginTop:"Macro Small","data-testid":"people-list-placeholder"},x.createElement(m.Stack,{gap:"Macro Small"},Array.from({length:5}).map(((e,t)=>x.createElement(n.Box,{style:{padding:"0 8px 0 0",display:"flex",alignItems:"center",justifyContent:"center",height:"32px"},key:t},x.createElement(n.Box,{style:{paddingRight:"12px"}},x.createElement(n.Skeleton.Avatar,null)),x.createElement(n.Box,{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around"}},x.createElement(m.Stack,{gap:"Micro XSmall"},x.createElement(n.Skeleton.Box,{height:16,width:231}),x.createElement(n.Skeleton.Box,{height:12,width:139}))))))));$.displayName="PeopleListPlaceholder";const O=({objectIdentifier:e,inviteMessage:t,inviteTargets:n,setInviteMessage:a,setInviteTargets:i,onRequestClose:s,onStartInband:r,initialInput:o,onInitialInputUsed:l})=>{const c=x.useCallback((e=>{a(e)}),[a]),d=x.useCallback((e=>{i(e)}),[i]),m=x.useCallback((()=>{i([]),a(""),s()}),[i,a,s]),u=x.useCallback((()=>{i([]),a(""),s()}),[i,a,s]);return x.createElement(g.Inband,{oid:e,inviteMessage:t,inviteTargets:n,onInviteMessageChange:c,hasUpdatedAccountMetadata:!1,onCloseClick:()=>{},onTargetsDropdownFocusChange:()=>{},onInviteTargetsChange:d,onShareStart:()=>{},onInbandShareSuccess:m,onShareFailure:u,onStartInband:r,shouldStyleForSM21:!0,onRefreshObjectMetadata:()=>{},onRefreshModal:()=>{},shouldTransitionAccessoryAreaEnter:!0,initialInput:o,onInitialInputUsed:l})};O.displayName="AccessManagementInband";const R=({title:e,subtitle:t,adminConsoleInbandView:a})=>x.createElement(n.Box,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderWidth:"2",borderStyle:"Solid",borderColor:"Border Subtle",borderRadius:"Large",height:"100%",style:{padding:a===r.AdminConsoleInbandView.INBAND?"35px 8px":"65px 8px"}},x.createElement(n.Title,{size:"small",color:"subtle",style:{textAlign:"center"}},e),x.createElement(n.Text,{color:"subtle",style:{textAlign:"center"}},t));R.displayName="CustomScreen";const P=({objectIdentifier:e,onRequestClose:t,onSettingsClick:n,adminConsoleInbandView:a,onObjectIdentifierChanged:s,onMemberListDataLoading:r})=>{const o=i.useIntl(),d=x.useCallback((()=>{t(),l.invalidateSharingObjectMetadata(e),l.invalidateNewApiObjectMetadata(e),c.invalidateListSharedLinks(e),u.invalidateObjectMembers(e)}),[e,t]),m=x.useCallback((()=>{n()}),[n]),g=x.useCallback((()=>{}),[]),E=x.useCallback((()=>{}),[]),p="function"==typeof s?s:()=>{},S=x.useMemo((()=>{const t=(e=>e.formatMessage({id:"SWV1dE",defaultMessage:"Keep track of people and permissions"}))(o),n=((e,t)=>e.formatMessage({id:"ajXUcE",defaultMessage:"When specific people are invited to this {isFile, select, true {file} other {folder}}, they’ll be listed here."},{isFile:t?"true":"false"}))(o,"file"===e[".tag"]);return x.createElement(R,{title:t,subtitle:n,adminConsoleInbandView:a})}),[a,o,e]);return x.createElement(c.ContentMemberList,{objectIdentifier:e,openLinkSettings:m,onRequestClose:t,onChangeConfidentiality:E,onTransferFolderOwnership:d,onObjectIdentifierChanged:p,onConfirmationModalShownChange:g,memberNameTruncationLimit:300,inheritedListTitleTruncationLimit:450,customNoOtherMembersScreen:S,customErrorScreenWrapper:({errorMessage:e})=>x.createElement(R,{title:T(o),subtitle:e,adminConsoleInbandView:a}),useSimpleDowngradeBanner:!0,onMemberListDataLoading:r})};P.displayName="AccessManagementMemberList";const D=({objectIdentifier:e,isOpen:t,setIsOpen:a})=>{const{user:s}=n.useActiveUser(),r=i.useIntl(),o=l.useSharingObjectMetadata(e.fileId),d=u.useObjectMembers(e),m=c.useAccountDataBatch(V(d,s)),g=!o.isLoading&&!o.isError,E=!m.isLoading&&!m.isError,p=d.isFirstPageLoaded&&d.isFirstPageOnly;return g&&p&&E?x.createElement(n.Box,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",onClick:()=>{a(!t)},cursor:"pointer"},x.createElement(n.Box,{display:"flex",alignItems:"center",style:{width:"100%"}},x.createElement(n.Box,{marginRight:"Micro Small"},x.createElement(c.ContentMemberFacepileButton,{oid:e,disableRightChevron:!0,onClick:()=>{a(!t)},onView:()=>{}})),x.createElement(n.Text,{size:"small",style:{maxWidth:"calc(100% - 78px)"}},(e=>e.formatMessage({id:"cx2Oxf",defaultMessage:"People with access"}))(r))),x.createElement(n.Box,null,x.createElement(n.IconButton,{variant:"opacity",size:"small","aria-expanded":t,"aria-controls":"sm24-access-management-member-list","data-testid":"access-management-member-list-dropdown-toggle"},x.createElement(n.UIIcon,{src:t?n.ChevronUpLine:n.ChevronDownLine})))):null};D.displayName="AccessManagementMemberListDropdown";const V=(e,t)=>{const n=[];return e.isFirstPageLoaded&&e.isFirstPageOnly?(e.firstPage.users.map((e=>n.push(e.user.account_id))),0===e.firstPage.users.length&&t&&n.push(t.account_id),n):[]},G=(e,t)=>"editor"===t?e.formatMessage({id:"z7dGdQ",defaultMessage:"Link for editing"}):e.formatMessage({id:"gL4fDf",defaultMessage:"Link for viewing"}),U=(e,t,n,a)=>n?e.formatMessage({id:"Ee/uzy",defaultMessage:"Link settings are unavailable right now"}):t?e.formatMessage({id:"Hpj0Wp",defaultMessage:"Active"}):a?e.formatMessage({id:"CMAwE0",defaultMessage:"Not available – you don’t have permission to create this link"}):e.formatMessage({id:"yJ0Cty",defaultMessage:"Not created – set up in Settings"}),z=(e,t)=>"editor"===t?e.formatMessage({id:"vEhq9Y",defaultMessage:"Edit link settings"}):e.formatMessage({id:"ZFSdE4",defaultMessage:"View link settings"}),F={$props:a.atom({objectIdentifier:{".tag":"file",fileId:""},openLinkSettings:()=>{},listSharedLinksResult:{isLoading:!0},objectMetadataResult:{isLoading:!0}})},{StoreProvider:W,useStore:q}=a.defineStoreProvider((e=>({$props:e})),F),K=e=>{const t=c.useListSharedLinks(e.objectIdentifier,!0),n=l.useSharingObjectMetadata(e.objectIdentifier.fileId);return x.createElement(W,{listSharedLinksResult:t,objectMetadataResult:n,...e})};K.displayName="Provider";const X=Symbol("ON_VIEW_MANAGE_ACCESS_LINKS"),H=Symbol("ON_FAILURE_RENDER"),{useEmitter:Y,defaultEmitter:Z}=I.defineLogger((async({event:e,getContextValue:t})=>{const a=t(L.Context),i=t(L.Context$1),s=t(L.Context$2),r=t(L.Context$3),o={...L.getTags(a),...L.getTags$1(i),...L.getTags$2(s),...L.getTags$3(r),isSm24:"true"},l={...L.getProperties(a),...L.getProperties$1(i),...L.getProperties$2(s),...L.getProperties$3(r)};e.key===X?n.UDCL.logEvent(c.PAP_View_ManageAccess({...l,manageAccessElement:"manage_access_links"}),{tags:{...o,element:"manage_access_links"}}):e.key===H&&n.UDCL.logEvent("ops.view_manage_access_failure",{tags:{...o,eventState:"failed",element:"manage_access_links"}})})),J=({iconSrc:e})=>e?x.createElement(n.Box,{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"Circular",backgroundColor:"Background Subtle",style:{width:"32px",height:"32px"}},x.createElement(n.UIIcon,{src:e,size:"standard"})):null;J.displayName="CircularIconContainer";const Q=({iconSrc:e})=>x.createElement(n.List.Item,{padding:0},x.createElement(n.List.Accessory,null,x.createElement(J,{iconSrc:e})),x.createElement(n.List.Content,null,x.createElement(f.LabelGroupNamespace,{withLabel:x.createElement(n.Skeleton.Text,{size:"medium",width:230,borderRadius:"XSmall"}),withSubText:x.createElement(n.Skeleton.Text,{size:"small",width:140,borderRadius:"XSmall"})})));Q.displayName="SkeletonListItem";const ee=()=>x.createElement(n.List,{"data-testid":"manage-links-list-skeleton"},x.createElement(Q,{iconSrc:k.EditLine}),x.createElement(Q,{iconSrc:h.ShowLine}));ee.displayName="ManageLinksSkeleton";const te=()=>{const e=q(),t=Y(),{objectMetadataResult:i,listSharedLinksResult:s,openLinkSettings:r}=a.useAtom(e.$props),o=s.isLoading||s.isError?void 0:s.output,l=!s.isLoading&&s.isError,c=i.isLoading||i.isError?void 0:i.output,d=!i.isLoading&&i.isError||l,{editLink:m,viewLink:g}=(e=>({editLink:e?n.getEditLinkMetadata(e):null,viewLink:e?n.getViewLinkMetadata(e):null}))(o),{canCreateEditLink:u,canCreateViewLink:E}=(e=>({canCreateEditLink:e?n.getCanDoAction(e,n.CREATE_EDIT_LINK_TAG):void 0,canCreateViewLink:e?n.getCanDoAction(e,n.CREATE_VIEW_LINK_TAG):void 0}))(c),p=!u&&!E,S=!!m||u||p||d,b=!!g||E||p||d,f=!d&&(!!g||E),_=e=>t=>{t.preventDefault(),r(e)},C={isLinkExisting:!!m,onLinkSettingsClick:!d&&(!!m||u)?_("edit_link_settings"):void 0,linkAccessLevel:n.EDITOR,iconSrc:k.EditLine,isError:d,isNoPermissions:!1===u},M={isLinkExisting:!!g,onLinkSettingsClick:f?_("view_link_settings"):void 0,linkAccessLevel:n.VIEWER,iconSrc:h.ShowLine,isError:d,isNoPermissions:!1===E};return x.useEffect((()=>{d||t.select(X).emit(null)}),[t,d]),x.createElement(n.List,{"data-testid":"manage-links-list",paddingY:0},S&&x.createElement(ne,{...C}),b&&x.createElement(ne,{...M}))};te.displayName="ManageLinksInner";const ne=({isLinkExisting:e,linkAccessLevel:t,onLinkSettingsClick:a,iconSrc:s,isError:r,isNoPermissions:o})=>{const l=i.useIntl(),c=(null==t?void 0:t[".tag"])||"",d=e&&!r;return["viewer","editor"].includes(c)?x.createElement(n.List.Item,{paddingX:0},x.createElement(n.List.Accessory,null,x.createElement(J,{iconSrc:s})),x.createElement(n.List.Content,null,x.createElement(f.LabelGroupNamespace,{verticalAlignment:"center",labelGap:"0",withLabel:x.createElement(n.Text,{variant:"label"},G(l,c)),withMeta:x.createElement(C.Metadata2,{size:"small"},x.createElement(C.Metadata2.Item,null,x.createElement(C.Metadata2.ArbitraryIcon,{src:x.createElement(n.Badge,{variant:d?"success":"standard",style:d?void 0:{backgroundColor:"var(--dig-color__disabled__on-surface)"}}),style:{display:"flex",alignItems:"center",width:"auto",height:"100%",paddingRight:"4px"}}),x.createElement(C.Metadata2.Label,null,U(l,e,r,o))))})),x.createElement(n.List.Accessory,null,!!a&&x.createElement(_.IconButtonGroup,null,(({getButtonProps:e})=>x.createElement(n.IconButton,{variant:"borderless",onClick:a,"aria-label":z(l,c),"data-uxa-log":"sm24-manage-links-settings-button","data-testid":`manage-links-${c}-link-settings-button`,"data-uxa-interactions":"click",...e()},x.createElement(n.UIIcon,{src:n.SettingsLine})))))):null};ne.displayName="ManageLinksListItem";const ae=()=>{const e=q(),t=Y(),{objectMetadataResult:n,listSharedLinksResult:i}=a.useAtom(e.$props),s=n.isLoading,r=!s&&n.isError,o=i.isLoading,l=!o&&i.isError,c=s||o;return(r||l)&&(t.select(H).emit(null),M.reportStack("Error fetching data for Manage Links.",{severity:M.SEVERITY.CRITICAL,tags:["manage-links"],silent:!0})),c?x.createElement(ee,null):x.createElement(te,null)};ae.displayName="ManageLinksWithStore";const ie=e=>x.createElement(K,{...e},x.createElement(n.ErrorBoundary$1,{fallback:null,onError:e=>{M.reportException({err:e,severity:M.SEVERITY.CRITICAL,tags:["manage-links","sharing"],exc_extra:{message:"Error loading Manage Links"}})}},x.createElement(ae,null)));ie.displayName="ManageLinks";const se=({objectIdentifier:e,onSettingsClick:t})=>{const n=x.useCallback((e=>{t&&t(e)}),[t]);return x.createElement(ie,{objectIdentifier:e,openLinkSettings:n})};se.displayName="AccessManagementManageLinks";const re=()=>{const e=w(),{isOpen:t,onRequestClose:o}=e.$props.get(),l=Date.now(),m=a.useStore(e.$objectIdentifier),{isNonUserRelativeContext:g}=b.useSharingApiContext(),[u,E]=x.useState([]),[p,S]=x.useState(""),[f,_]=x.useState(""),[C,M]=x.useState(r.AdminConsoleInbandView.BUTTON),[I,L]=x.useState(null),[k,h]=x.useState(!1),[y,N]=x.useState(!0),T=!g,v=T?520:354,A=T?716:578,B=s.useEmitter(),j=oe()<600;x.useEffect((()=>{if(!t||C!==r.AdminConsoleInbandView.BUTTON)return;const e=e=>{1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey||(e.preventDefault(),_(e.key),h(!0),B.select(s.ON_CLICK_INBAND_ENTRY_BUTTON).emit(null))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[t,C,B]);const R=x.useMemo((()=>C===r.AdminConsoleInbandView.INBAND),[C]),V=x.useCallback((()=>{h(!0),B.select(s.ON_CLICK_INBAND_ENTRY_BUTTON).emit(null)}),[h,B]),G=x.useCallback((()=>{M(r.AdminConsoleInbandView.INBAND)}),[M]),U=x.useCallback((()=>{L(!I),B.select(s.ON_CLICK_MEMBER_LIST_TOGGLE).emit(null)}),[I,B]),z=x.useCallback((t=>{e.$objectIdentifier.set(t)}),[e.$objectIdentifier]),F=x.useCallback((t=>{B.select(s.ON_CLICK_LINK_SETTINGS_BUTTON).emit(null),e.$currentScreen.set(r.Screen.SETTINGS),t&&("file_settings"===t||"folder_settings"===t?e.$initialSettingsTab.set("object_settings"):"view_link_settings"!==t&&"edit_link_settings"!==t||e.$initialSettingsTab.set(t))}),[B,e.$currentScreen,e.$initialSettingsTab]),W=x.useCallback((e=>{N(e)}),[]);return x.createElement(n.Modal$1.Body,{style:{minHeight:`${v}px`,maxHeight:j?"100%":`${A}px`,overflow:"hidden",display:"flex",flexDirection:"column"}},x.createElement(n.Box,{style:{flex:"0 0 auto"}},T&&x.createElement(n.Box,{marginBottom:"Micro Medium"},x.createElement(n.Text,{size:"medium",isBold:!0},i.intl.formatMessage({id:"XlibN2",defaultMessage:"People"}))),x.createElement(n.Box,{marginTop:"Micro Medium"},C===r.AdminConsoleInbandView.BUTTON&&x.createElement(d.TokenizerButton,{oid:m,onTokenizerButtonClick:V,componentViewTime:l}),k&&x.createElement(n.Box,{style:{display:C!==r.AdminConsoleInbandView.INBAND?"none":void 0}},x.createElement(O,{objectIdentifier:m,inviteMessage:p,inviteTargets:u,setInviteMessage:S,setInviteTargets:E,onRequestClose:o,onStartInband:G,initialInput:f,onInitialInputUsed:()=>_("")})))),x.createElement(n.Box,{display:"flex",flexDirection:"column",justifyContent:"flex-start",width:"100%",overflow:"hidden",marginBottom:"Micro Large"},R&&x.createElement(n.Box,{paddingX:"Micro Small",paddingTop:"Micro Large",borderTop:"Solid",borderWidth:"1",borderColor:"Border Subtle",marginTop:"Micro Medium","data-testid":"access-management-member-list-dropdown"},x.createElement(D,{objectIdentifier:m,isOpen:!!I,setIsOpen:U})),y&&x.createElement($,null),x.createElement(n.Box,{className:n.cx(c.classes.accessManagementPeopleList,{[c.classes.accessManagementPeopleListDropdownDefault]:R&&!I,[c.classes.accessManagementPeopleListDropdownExpand]:R&&!0===I,[c.classes.accessManagementPeopleListDropdownCollapse]:R&&!1===I}),display:y?"none":void 0,width:"100%",marginTop:R?"Micro Small":"Micro Large",paddingX:R?"Micro Small":void 0,"data-testid":"sm24-access-management-member-list",id:"sm24-access-management-member-list"},x.createElement(P,{objectIdentifier:m,onRequestClose:o,onSettingsClick:F,adminConsoleInbandView:C,onObjectIdentifierChanged:z,onMemberListDataLoading:W}))),T&&x.createElement(n.Box,{paddingTop:"Micro Medium",paddingBottom:"Micro Medium","data-testid":"access-management-manage-links"},x.createElement(n.Box,{paddingBottom:"Micro XSmall"},x.createElement(n.Text,{size:"medium",isBold:!0},(e=>e.formatMessage({id:"YZPZOn",defaultMessage:"Links"}))(i.intl))),x.createElement(se,{objectIdentifier:m,onSettingsClick:F})))};re.displayName="ManageAccessScreen";const oe=()=>{const[e,t]=x.useState(window.innerWidth);return x.useEffect((()=>{const e=()=>t(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e},le=()=>{const e=w(),{onRequestClose:t}=e.$props.get(),n=a.useAtom(e.$initialSettingsTab),i=a.useAtom(e.$objectIdentifier),s=x.useCallback((async t=>{e.$objectIdentifier.set(t)}),[e.$objectIdentifier]),o=x.useCallback((()=>{e.$currentScreen.set(r.Screen.MANAGE_ACCESS)}),[e.$currentScreen]),l=x.useCallback((()=>{e.$currentScreen.set(r.Screen.MANAGE_ACCESS)}),[e.$currentScreen]),c=x.useCallback((()=>{t()}),[t]),m=x.useCallback((()=>{e.$currentScreen.set(r.Screen.MANAGE_ACCESS)}),[e.$currentScreen]),g=x.useCallback((()=>{t()}),[t]);return x.createElement(d.SettingsPage,{objectIdentifier:i,initialTab:n,onClose:c,onCancel:m,onComplete:g,onManageLinkAccess:o,onConfirmationModalShownChange:()=>{},onObjectIdentifierChanged:s,onRefreshModal:async()=>{},onFallback:void 0,onUnshareCompleted:l})};le.displayName="SettingsScreen";const ce=()=>{const e=w(),{isOpen:t,onRequestClose:o}=e.$props.get(),l=a.useStore(e.$currentScreen),d=a.useStore(e.$props).objectIdentifier,m=a.useStore(e.$objectIdentifier),g=s.useEmitter(),u=me()<600;return x.useEffect((()=>{n.Modal$1.setAppElement(document.body)}),[]),x.useEffect((()=>{d[".tag"]===m[".tag"]&&e.$objectIdentifier.set(d)}),[d,m,e.$objectIdentifier]),x.createElement(n.Modal$1,{contentStyles:{height:u?"100%":"auto"},width:540,isCentered:!0,open:t,onRequestClose:()=>{o(),g.select(s.ON_CLICK_CLOSE_BUTTON).emit(null)},"aria-label":i.intl.formatMessage({id:"oP7zBj",defaultMessage:"Access Management Modal"}),"data-testid":"shareme24-modal"},x.createElement(n.Box,{"data-test-id":"access-management-modal"},x.createElement(n.Modal$1.Header,{className:c.classes.headerSection,style:{padding:"24px 24px 16px",marginBottom:"0",maxWidth:"100%"}},x.createElement(j,null)),l===r.Screen.MANAGE_ACCESS&&x.createElement(re,null),l===r.Screen.SETTINGS&&x.createElement(le,null)))};ce.displayName="AccessManagementModalInner";const de=e=>x.createElement(B,{...e},x.createElement(n.ErrorBoundary,{componentTag:"access-management-modal",exceptionTags:["error_boundary:access_management_modal","access_management"],reportMetrics:!0,fallback:null},x.createElement(ce,null)));de.displayName="AccessManagementModalWithErrorBoundaryAndStore";const me=()=>{const[e,t]=x.useState(window.innerWidth);return x.useEffect((()=>{const e=()=>t(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e};e.AccessManagementModalWithErrorBoundaryAndStore=de}));
//# sourceMappingURL=c_internals_access-management-modal_modal.js-vflucoF3W.map

//# debugId=eec75e69-e62e-3d4b-9f01-ffc6e6699057