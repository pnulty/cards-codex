!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="63734a2f-29d6-3e7f-be48-fc4321f4885d")}catch(e){}}();
define(["exports","./c_flows_redux_reducer","./e_core_exception","./c_flows_redux_selectors"],(function(e,t,o,r){"use strict";const i=[t.UI_EXPERIMENTS.SAVED_WORKFLOW_TEMPLATE_CREATE,t.UI_EXPERIMENTS.ADOPTION_UI_VARIANT];function n(e){return{type:t.Actions.SetUserExperiments,payload:e}}const a=e=>({type:t.Actions.UpdateWorkflowTriggerStep,payload:e}),l=(e,o)=>({type:t.Actions.UpdateWorkflowActionStep,payload:{id:e,action:o}});function s(e){return{type:t.Actions.SetWorkflowStepsConfig,payload:e}}e.addUserAutomation=function(e){return{type:t.Actions.AddUserAutomation,payload:e}},e.collapseAllWorkflowBuilderSteps=function(){return async(e,t)=>{e(a({isExpanded:!1}));r.getWorkflowBuilderActions(t()).forEach((t=>e(l(t.id,{isExpanded:!1}))))}},e.deleteWorkflowActionStep=e=>({type:t.Actions.DeleteWorkflowActionStep,payload:{id:e}}),e.editUserAutomation=function(e){return{type:t.Actions.EditUserAutomation,payload:e}},e.expandOrCollapseWorkflowActionStep=(e,t)=>l(e,{isExpanded:t}),e.expandOrCollapseWorkflowTriggerStep=e=>a({isExpanded:e}),e.getSavedWorkflowTemplates=function(){return e=>{t.getSavedWorkflowTemplates(!1).then((o=>{if(o&&o.saved_workflow_templates){const i=o.saved_workflow_templates.map(t.createSavedWorkflowTemplateObject),n=[];i.forEach((e=>{e&&n.push(e)})),e((r=n,{type:t.Actions.UpdateSavedWorkflowTemplates,payload:r}))}var r}),(e=>{const r=JSON.stringify(e);o.NOISY_ERROR_SUBSTRINGS.some((e=>r.includes(e)))||o.reportException({err:new Error(`ListSavedWorkflowTemplatesError: ${r}`),force:!0,tags:[t.EXCLOG_TAG_SAVED_WORKFLOW_TEMPLATE],severity:"critical"})}))}},e.getUserExperiments=function(e=i){return async o=>{if(0!==e.length){o(n({status:"pending"}));try{const r=await t.getUserExperiments(e);o(n({status:"completed",data:(null==r?void 0:r.variantInfos)||[]}))}catch(e){o(n({status:"errored",error:e instanceof Error?e.message:String(e)}))}}else o(n({status:"completed",data:[]}))}},e.getWorkflowStepsConfig=function(){return async e=>{var o,r,i,n;e(s({status:"pending"}));try{const a=await t.getFolderRulesConfig(),l=(null===(o=a.folder_rules_config)||void 0===o?void 0:o.actions)||[],d=(null===(r=a.folder_rules_config)||void 0===r?void 0:r.triggers)||[],p=(null===(i=a.folder_rules_config)||void 0===i?void 0:i.action_experiments)||[];e(s({status:"completed",actionExperiments:p,allowedActions:l,allowedTriggers:d,triggerActionMaps:((null===(n=a.folder_rules_config)||void 0===n?void 0:n.trigger_action_maps)||[]).reduce(((e,t)=>{const{trigger:o,actions:r}=t;return o&&r&&(e[o]=r),e}),{})}))}catch(t){e(s({status:"errored",error:t instanceof Error?t.message:String(t)}))}}},e.initWorkflowBuilder=e=>({type:t.Actions.InitWorkflowBuilder,payload:e}),e.mergeUserAutomations=function(e){return{type:t.Actions.MergeUserAutomations,payload:e}},e.removeUserAutomation=function(e){return{type:t.Actions.RemoveUserAutomation,payload:{fqPath:e}}},e.setInheritanceBlockingFqPaths=function(e){return{type:t.Actions.SetInheritanceBlockingFqPaths,payload:e}},e.setShouldSubscribeToBolt=e=>({type:t.Actions.SetShouldSubscribeToBolt,payload:e}),e.setWorkflowBuilderActions=e=>({type:t.Actions.SetWorkflowBuilderActions,payload:e}),e.setWorkflowBuilderApplyToExisting=function(e){return{type:t.Actions.SetWorkflowBuilderApplyToExisting,payload:e}},e.setWorkflowBuilderInheritable=function(e){return{type:t.Actions.SetWorkflowBuilderInheritable,payload:e}},e.setWorkflowBuilderOperation=e=>({type:t.Actions.SetWorkflowBuilderOperation,payload:e}),e.setWorkflowBuilderWidth=e=>({type:t.Actions.SetWorkflowBuilderWidth,payload:e}),e.tearDownWorkflowBuilder=()=>({type:t.Actions.TearDownWorkflowBuilder,payload:{}}),e.updateSavedWorkflowTemplateState=e=>({type:t.Actions.UpdateSavedWorkflowTemplateState,payload:e}),e.updateWorkflowActionStep=l,e.updateWorkflowBuilderIsEnabled=e=>({type:t.Actions.UpdateWorkflowBuilderIsEnabled,payload:e}),e.updateWorkflowBuilderPreviewAction=e=>({type:t.Actions.UpdateWorkflowBuilderPreviewAction,payload:e}),e.updateWorkflowTriggerStep=a}));
//# sourceMappingURL=c_flows_redux_actions.js-vflOMFiPs.map

//# debugId=63734a2f-29d6-3e7f-be48-fc4321f4885d