!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c754b0c2-a5c0-3c43-a0a3-b3f0aa348b55")}catch(e){}}();
define(["exports","./c_flows_redux_reducer","./e_ui_page_files_router","./c_flows_logging_flows_loggers","./e_core_exception","./c_lodash-es_lodash","react","./c_core_i18n","./c_src_sink_index","./c_action_bar_action_bar_constants","./c_pap-events_replay_shown_modal","./c_pap-events_pdf_edit_select_replace_original_confirmation","metaserver/static/js/langpack","./c_bem","react-dom","./c_ncct_manual_assist_util","./c_core_notify","./e_edison","./c__rollupPluginBabelHelpers","./e_data_modules_stormcrow","./c_memoize-one","react/jsx-runtime","./c_security_csrf_hmac","./c_react-use_useEffectOnce","./c_chat_chat_constants"],(function(e,t,r,o,n,i,l,a,s,d,u,c,_,f,g,p,w,v,m,k,h,E,A,W,S){"use strict";const T=e=>e[r.AUTOMATIONS_NAMESPACE_KEY]||t.defaultAutomationsState,B=e=>{const{userAutomations:r}=T(e);if("completed"===r.status&&r.data){const e=new Map;return r.data.forEach(((r,o)=>{t.isInherited(r)||e.set(o,r)})),e}return new Map},b=e=>T(e).workflowBuilder,x=e=>{const t=b(e);return(null==t?void 0:t.actions)||[]},I=e=>{const{workflowStepsConfig:t}=T(e);return t},P=r.createSelector(I,x,((e,t)=>"completed"===e.status?0===t.length?e.allowedTriggers:1===t.length?Object.keys(e.triggerActionMaps).filter((r=>e.triggerActionMaps[r].includes(t[0].actionType))):e.allowedTriggers.filter((e=>"scheduled"!==e)):["file_add"])),O=e=>{var r;return(null===(r=b(e))||void 0===r?void 0:r.width)||t.MODAL_DEFAULT_WIDTH},F=r.createSelector(O,(e=>e===t.MODAL_FULL_WIDTH));const M=e=>{var t;return null===(t=b(e))||void 0===t?void 0:t.savedWorkflowTemplateState},C=e=>t=>{const{inheritanceBlockingFqPaths:r}=T(t);return!!e&&r.has(e)};e.canWorkflowBuilderRenderPreview=F,e.getAllowedWorkflowActions=e=>{const{workflowStepsConfig:t}=T(e);return"completed"===t.status?t.allowedActions:[]},e.getAllowedWorkflowTriggers=P,e.getAutomationsState=T,e.getFlowsFolderRulesActionExperiments=e=>{const{workflowStepsConfig:t}=T(e);return"completed"===t.status&&t.actionExperiments||[]},e.getFqPathToUserAutomations=B,e.getOptOutCheckboxState=e=>{const t=M(e);return t&&t.optOut||!1},e.getSavedWorkflowTemplateCheckboxState=e=>{const t=M(e);return t&&t.isChecked||!1},e.getSavedWorkflowTemplateExperiment=function(e){const{userExperiments:r}=T(e);let o;return"completed"===r.status&&r.data&&(o=r.data.find((e=>e.feature===t.UI_EXPERIMENTS.SAVED_WORKFLOW_TEMPLATE_CREATE))),o},e.getSavedWorkflowTemplateName=e=>{const t=M(e);return void 0!==t&&t.name||""},e.getSavedWorkflowTemplateVariant=function(e){const{userExperiments:r}=T(e);let o;return"completed"===r.status&&r.data&&(o=r.data.find((e=>e.feature===t.UI_EXPERIMENTS.SAVED_WORKFLOW_TEMPLATE_CREATE))),(null==o?void 0:o.variant)||"OFF"},e.getSavedWorkflowTemplates=e=>{const{savedWorkflowTemplates:t}=T(e);return t||[]},e.getUserAutomation=e=>t=>{if(!e)return;return B(t).get(e)},e.getUserAutomationWithInheritance=e=>t=>{const{userAutomations:o}=T(t);if(!e||"completed"!==o.status||!o.data)return;if(o.data.has(e))return o.data.get(e);if(C(e)(t))return;let n=r.parent_dir(e);for(;"/"!==n;){const i=o.data.get(n);if(i)return i.inheritable?{...i,fqPath:e,inheritedFromFqPath:i.fqPath}:void 0;if(C(n)(t))return;n=r.parent_dir(n)}},e.getUserExperiments=e=>{const{userExperiments:t}=T(e);return"completed"===t.status&&t.data?t.data:[]},e.getWorkflowBuilderActions=x,e.getWorkflowBuilderApplyToExisting=e=>{var t;return(null===(t=b(e))||void 0===t?void 0:t.applyToExistingFiles)||!1},e.getWorkflowBuilderDashboardActionSource=e=>{var t;return null===(t=b(e))||void 0===t?void 0:t.dashboardActionSource},e.getWorkflowBuilderEntryPoint=e=>{var t;return null===(t=T(e).workflowBuilder)||void 0===t?void 0:t.entryPoint},e.getWorkflowBuilderInheritable=e=>{var t;return(null===(t=b(e))||void 0===t?void 0:t.inheritable)||!1},e.getWorkflowBuilderIsEnabled=e=>{const t=b(e);return Boolean(null==t?void 0:t.isEnabled)},e.getWorkflowBuilderModalSessionId=e=>{var t;return(null===(t=T(e).workflowBuilder)||void 0===t?void 0:t.modalSessionId)||""},e.getWorkflowBuilderOperation=e=>{var t;return(null===(t=T(e).workflowBuilder)||void 0===t?void 0:t.operation)||"create"},e.getWorkflowBuilderPreviewActionId=e=>{const t=b(e);return null==t?void 0:t.previewActionId},e.getWorkflowBuilderStatus=e=>{var t;return null===(t=b(e))||void 0===t?void 0:t.isEnabled},e.getWorkflowBuilderSurface=e=>{var t;return null===(t=b(e))||void 0===t?void 0:t.surface},e.getWorkflowBuilderTrigger=e=>{const t=b(e);return null==t?void 0:t.trigger},e.getWorkflowBuilderWidth=O,e.getWorkflowStepsConfig=I,e.isInheritanceBlockingFqPath=C,e.shouldSubscribeToBolt=e=>T(e).shouldSubscribeToBolt}));
//# sourceMappingURL=c_flows_redux_selectors.js-vflP9axRv.map

//# debugId=c754b0c2-a5c0-3c43-a0a3-b3f0aa348b55