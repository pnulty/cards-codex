!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5f5fbdcb-8c61-3de4-b59e-a053a8c80988")}catch(e){}}();
define(["exports","./e_ui_page_files_router","./c_bem","./c_action_bar_action_bar_constants","./e_data_modules_stormcrow","./c_react_query_api_helpers_queries_seen_state_info"],(function(e,t,i,n,r,a){"use strict";const o="fp_app_id:slack_dropbox",_="fp_app_id:trello",s="fp_app_id:zoom",l="fp_app_id:word_online",d="fp_app_id:excel_online",f="fp_app_id:powerpoint_online";function c(e){return function(e){return void 0!==e.ext}(e)?e.ext:function(e){return void 0!==e.fq_path}(e)?"."+t.file_extension(t.filename(e.fq_path)):function(e){return void 0!==e.filename}(e)?"."+t.file_extension(e.filename):void 0}function u(e,t){return!(e.length>1&&!t.multiselect_enabled)&&e.every((e=>function(e,t){return void 0===t.filters||t.filters.every((t=>"matcher_any"===t[".tag"]&&!!t.matcher_any.some((t=>{if("extension"===t[".tag"]){const i=c(e);return t.extension===i}return"max_size_bytes"===t[".tag"]?e.bytes<=t.max_size_bytes:"is_file"===t[".tag"]?e.is_dir!==t.is_file:"is_cloud_doc"!==t[".tag"]||function(e){return!!e.is_cloud_doc}(e)===t.is_cloud_doc}))))}(e,t)))}function p(e){var t;const n=e.is_dir,r=function(e){return!!e.is_encrypted}(e),a=null===(t=e.per_node_metadata)||void 0===t?void 0:t.link_node,o=function(e){const t=e.href;return!!t&&i.URI.parse(t).getPath().startsWith("/scl/fo/")}(e);return!(n||r||a||o)}function g(e){const t=e.per_node_metadata;return!((null==t?void 0:t.link_node)||(null==t?void 0:t.suppress_ns_partition)||(null==t?void 0:t.suppress_shared_link))}function h(e,t){return function(e,t){return e.every(p)?t.filter((t=>u(e,t))):[]}(t,e)}function m(e,t){return t.every(g)?h(e,t).filter((e=>y(e)&&![o,s,_].includes(e.app_id))):[]}function y(e){return"share_menu"===e.menu_alignment[".tag"]}const A=async(e,i)=>{await t.sharingListFileMembersPackage.prefetchQuery(r.queryClient,{apiArg:{file:e,actions:a.MEMBER_ACTIONS,limit:100},pkgArg:{isNonUserRelativeContext:i}},{staleTime:3e5})},v=async(e,i)=>{let n;"shared_folder"===e[".tag"]?n={shared_folder_id:e.sharedFolderId}:"file_folder"===e[".tag"]&&(n={shared_folder_id:"0",path:e.path}),await t.sharingListFolderMembersPackage.prefetchQuery(r.queryClient,{apiArg:{shared_folder_id:(null==n?void 0:n.shared_folder_id)||"",path:null==n?void 0:n.path,actions:a.MEMBER_ACTIONS,limit:100},pkgArg:{isNonUserRelativeContext:i}},{staleTime:3e5})};e.DOCSEND_PROD_APP_ID="dbaid:AAA6hDRnKKWTEvY7Xb4xVXwWZA8c8Af3GOM",e.HELLOSIGN_PROD_APP_ID="dbaid:AAA8M7BsKD8QVXgtkUl5Rs7oFykwEx3Vm7U",e.TRANSFER_FP_APP_ID="fp_app_id:dropbox_transfer",e.getFileExt=c,e.getNonHellosignActionsForFiles=function(e,t,i){return m(e,t).filter((e=>e.app_id!==i))},e.getOpenActionsForFile=function(e,t){return h(e,[t]).filter((e=>!y(e)&&!function(e){return n.is_mobile_or_tablet()&&[l,d,f].includes(e.app_id)}(e)))},e.getShareActionsForFiles=m,e.isShareAction=y,e.prefetchListObjectMembersData=async(e,t)=>{"file"===e[".tag"]?A(e.fileId,t):"shared_folder"!==e[".tag"]&&"file_folder"!==e[".tag"]||v(e,t)},e.prefetchSeenStateInfoData=async e=>{a.seenStateInfoPackage.prefetchQuery(r.queryClient,{apiArg:{file_infos:[{file_identifier:e}],limit:150}},{staleTime:3e5})},e.prefetchSharingObjectMetadata=async(e,i)=>{await t.sharingObjectMetadataPackage.prefetchQuery(r.queryClient,{apiArg:{file_id:e},pkgArg:{isNonUserRelativeContext:i}},{staleTime:3e5})}}));
//# sourceMappingURL=c_extensions_data_selectors.js-vfly_mn5K.map

//# debugId=5f5fbdcb-8c61-3de4-b59e-a053a8c80988