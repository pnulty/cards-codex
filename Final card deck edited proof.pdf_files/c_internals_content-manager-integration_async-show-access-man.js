!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="efb5ae1d-5f83-3b7c-b2b4-1988c0f68213")}catch(e){}}();
define(["require","exports","react","./e_ui_page_files_router","./e_data_modules_stormcrow","./c_core_i18n","./c_bem","./c_pap-events_replay_shown_modal","./e_edison","./c_lib_logging","./c_action_bar_action_bar_constants","./c_src_sink_index","./c_common_logging-contexts_desktop-platform-logging-metadata","./e_core_exception"],(function(e,t,n,a,o,i,s,r,l,c,_,g,m,d){"use strict";function u(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var f=u(n);function E(e){return{class:"sharing_sender",action:"click",object:"access_management_modal",properties:e}}const y="ON_ASYNC_SHOW_ACCESS_MANAGEMENT",C="ON_EXCLUDE_FALLBACK",p="ON_CLICK_INBAND_ENTRY_BUTTON",T="ON_CLICK_MEMBER_LIST_TOGGLE",b="ON_CLICK_CLOSE_BUTTON",N="ON_CLICK_SETTINGS_BUTTON",O="ON_CLICK_LINK_SETTINGS_BUTTON",{useEmitter:L,defaultEmitter:S}=c.defineLogger((async({event:e,getContextValue:t})=>{const n=t(m.Context),o=t(m.Context$1),i=t(m.Context$2),s=t(m.Context$3),r={...m.getTags(n),...m.getTags$1(o),...m.getTags$2(i),...m.getTags$3(s)},l={...m.getProperties(n),...m.getProperties$1(o),...m.getProperties$2(i),...m.getProperties$3(s)};e.key!==y?e.key!==C?e.key!==p?e.key!==T?e.key!==b?e.key!==N?e.key!==O||a.UDCL.logEvent(E({...l,accessManagementElement:"link_settings_button"}),{tags:{...r,element:"link_settings_button"}}):a.UDCL.logEvent(E({...l,accessManagementElement:"settings_button"}),{tags:{...r,element:"settings_button"}}):a.UDCL.logEvent(E({...l,accessManagementElement:"close_button"}),{tags:{...r,element:"close_button"}}):a.UDCL.logEvent(E({...l,accessManagementElement:"member_list_toggle"}),{tags:{...r,element:"member_list_toggle"}}):a.UDCL.logEvent(E({...l,accessManagementElement:"inband_entry_button"}),{tags:{...r,element:"inband_entry_button"}}):a.UDCL.logEvent("ops.access_management.exclude_fallback",{tags:{actionElement:e.payload.actionElement,actionSurface:e.payload.actionSurface}}):a.UDCL.logEvent(function(e){return{class:"sharing_sender",action:"view",object:"access_management_modal",properties:e}}({fileExtension:e.payload.fileExtension,isDir:e.payload.isDir,actionSurface:e.payload.actionSurface,actionElement:e.payload.actionElement}),{tags:{actionElement:e.payload.actionElement,actionSurface:e.payload.actionSurface,isDir:e.payload.isDir?"true":"false"}})}));"undefined"==typeof jest&&a.loadAfterDisplay((async()=>(await new Promise((function(t,n){e(["./c_internals_content-manager-integration_content-manager.after-display"],t,n)})),{default:null}))),a.lazyAfterDisplay((async()=>{const{AccessManagementContentManager:t}=await new Promise((function(t,n){e(["./c_internals_content-manager-integration_content-manager.after-display"],t,n)}));return{default:t}})),"undefined"==typeof jest&&a.loadAfterDisplay((async()=>(await new Promise((function(t,n){e(["./c_internals_browse-integration_browse.after-display"],t,n)})),{default:null})));const v=e=>({fileExtension:e.ext||void 0,isDir:e.is_dir,sharedObjectType:e.is_dir?e.target_ns?"shared_folder":"folder":"file"}),I="access-management-modal-id",M=a.lazyAfterDisplay((async()=>{const{AccessManagementBrowse:t}=await new Promise((function(t,n){e(["./c_internals_browse-integration_browse.after-display"],t,n)}));return{default:t}})),w=e=>f.createElement(f.Suspense,{fallback:f.createElement(f.Fragment,null)},f.createElement(a.Provider,{store:a.getStoreForBrowse()},f.createElement(o.QueryClientProvider,{client:o.queryClient},f.createElement(M,{...e,isOpen:!0}))));w.displayName="AccessManagement";t.ON_CLICK_CLOSE_BUTTON=b,t.ON_CLICK_INBAND_ENTRY_BUTTON=p,t.ON_CLICK_LINK_SETTINGS_BUTTON=O,t.ON_CLICK_MEMBER_LIST_TOGGLE=T,t.ON_CLICK_SETTINGS_BUTTON=N,t.asyncShowAccessManagementBrowse=e=>{if(S.select(y).emit({...e,...v(e.fileOrFolder)}),!M)return;a.mountModal(f.createElement(w,{...e,onRequestClose:()=>{a.unmountModal(void 0,I)},onFallback:()=>{var t,n,o,i;S.select(C).emit({...e,...v(e.fileOrFolder)}),d.reportStack("SM24 Access Management - falling back to legacy handler",{severity:d.SEVERITY.CRITICAL,tags:["sm24_fallback","access_management_browse"],exc_extra:{file_id:null!==(n=null===(t=e.fileOrFolder)||void 0===t?void 0:t.file_id)&&void 0!==n?n:"",action_surface:null!==(o=e.actionSurface)&&void 0!==o?o:"",action_element:null!==(i=e.actionElement)&&void 0!==i?i:""},silent:!1}),e.onFallback(),a.unmountModal(void 0,I)},onInbandShareCompleted:()=>{a.unmountModal(void 0,I)}}),void 0,I)},t.useEmitter=L}));
//# sourceMappingURL=c_internals_content-manager-integration_async-show-access-management.js-vfl7uRsJ6.map

//# debugId=efb5ae1d-5f83-3b7c-b2b4-1988c0f68213