!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="47e7ce28-a0ae-3d48-94fe-675294e98b19")}catch(e){}}();
define(["exports","./e_ui_page_files_router","./c_file_viewer_hooks_lifecycle_logging"],(function(e,t,i){"use strict";const o=t.fileViewerAtom(!1),r=t.previewKeyAtom(0),s=t.previewKeyAtom(!1),u=t.previewKeyAtom(!0),a=t.previewKeyAtom(!1),l=t.previewKeyAtom({isOpen:!1,state:""}),n=t.fileViewerAtom(void 0),m=t.fileViewerAtom([]),d=t.fileViewerAtom({searchResult:void 0,segments:[]}),A=t.fileViewerAtom(null),c=t.fileViewerAtom(!1),w=t.fileViewerAtom(!1),v=t.fileViewerAtom(!1),V=t.fileViewerAtom(!1),f=t.fileViewerAtom(5e3),y=t.fileViewerAtom(!1),P=t.fileViewerAtom((e=>{const t=e(f);return e(y)?void 0:t})),p=t.fileViewerAtom(!1),S=t.fileViewerAtom(!1),F=t.fileViewerAtom(!1),g=t.fileViewerAtom((e=>{const t=e(c);return e(t?S:F)}),((e,t,i)=>{t(e(c)?S:F,i)})),K=t.fileViewerAtom(!1),h=t.fileViewerAtom((e=>!e(c)&&e(K)),((e,t,i)=>{t(K,i)})),C=t.previewKeyAtom(0),I=t.previewKeyAtom(0,((e,t,i,o,r,s)=>(r<0?r=0:s&&r>=s-1&&(r=s-1),r))),T=t.previewKeyAtom(void 0),D=t.previewKeyAtom(void 0),b=t.fileViewerAtom(!1),M={max:64,min:.01,multiplier:1.25,delta:.05},x=(e,t,i)=>Math.abs(e-t)<Math.abs(e-i)?e:t,_=(e,t)=>{const{delta:i,multiplier:o}=M;let r=e*(t?o:1/o);return i&&(r=Math.round(r/i)*i,Math.abs(r-e)<i&&(r+=t?i:-i)),(e=>{const{min:t,max:i}=M;return Math.min(Math.max(e,t),i)})(r)},z=({scaleFactor:e,ascend:t,fitScaleFactor:i})=>{if(!e)return 1;const o=_(e,t),r=_(o,t);for(const s of((e,t)=>{const i=[1];return t&&Math.abs(1-t)>.02&&i.push(t),((e,t)=>e?e.sort(((e,i)=>t?e-i:i-e)):[])(i,e)})(t,i))if(t){if(e<s&&r>=s)return x(s,o,r)}else if(e>s&&r<=s)return x(s,o,r);return o},H=t.previewKeyAtom(0),O=t.previewKeyAtom(0),R=t.previewKeyAtom("fitToPage"),k=t.previewKeyAtom(void 0),E=t.fileViewerAtom((e=>{var i;const o=e(t.currentPreviewKeyAtom);switch(e(R(o))){case"fitToWidth":return e(O(o));case"zoomPercent":return null!==(i=e(k(o)))&&void 0!==i?i:e(H(o));default:return e(H(o))}}),((e,i,o)=>{const r=e(t.currentPreviewKeyAtom);i(R(r),o.zoomType),"zoomPercent"===o.zoomType&&i(k(r),o.newZoom)})),L=t.fileViewerAtom(null,((e,i,o)=>{const r=e(t.currentPreviewKeyAtom),s=e(E),u=e(H(r)),a=z({scaleFactor:s,ascend:o,fitScaleFactor:u});i(E,{newZoom:a,zoomType:"zoomPercent"})})),W=t.fileViewerAtom((e=>{const i=e(t.currentPreviewKeyAtom),o=e(E),r=e(H(i));return!!o&&o>r})),Z=(e,i)=>{var o,r,s;return null===(s=null===(r=null===(o=t.useSsrDocMetadataQuery(e,i))||void 0===o?void 0:o.data)||void 0===r?void 0:r.apiData.metadata)||void 0===s?void 0:s.pageCount},N=()=>t.useFileViewerAtomValue(t.rightSidebarIdAtom),Q=()=>t.useFileViewerAtomValue(E);e.areLineNumbersHiddenAtom=b,e.areToolsHiddenAtom=g,e.audioVideoAreControlsHiddenAtom=a,e.audioVideoCurrentTimestampAtom=r,e.audioVideoDynamicTimestampAtom=n,e.audioVideoIsDefaultAudioTrackSelectedAtom=u,e.audioVideoIsPlayingAtom=s,e.audioVideoIsThumbnailSnackbarOpenAtom=l,e.audioVideoTranscriptSegmentsAtom=m,e.docCurrentPageIndexAtom=I,e.docPageNavigationAtom=T,e.docPasswordAttemptsAtom=C,e.effectiveSlideshowDelayAtom=P,e.fitScaleFactorAtom=H,e.fitToWidthScaleFactorAtom=O,e.isCurrentPreviewZoomedAtom=W,e.isDashChatClosedByFullscreenPreviewAtom=p,e.isDeleteFileModalOpenAtom=w,e.isDocSidebarOpenAtom=h,e.isFullScreenAtom=c,e.isSlideshowAtom=V,e.isSlideshowPausedAtom=y,e.isTitleBarRenameActiveAtom=v,e.slideshowDelayMillisecondAtom=f,e.textEncodingAtom=D,e.transcriptSearchResultAtom=d,e.useActiveEditorId=()=>t.useFileViewerAtomValue(t.activeEditorIdAtom),e.useActiveTextHighlighterId=()=>t.useFileViewerAtomValue(t.activeTextHighlighterIdAtom),e.useAreAudioVideoControlsHidden=()=>{const e=i.useCurrentPreviewKey();return t.usePreviewKeyAtomValue(a,e)},e.useAreLineNumbersHidden=()=>t.useFileViewerAtomValue(b),e.useAreToolsHidden=()=>t.useFileViewerAtomValue(g),e.useAudioVideoCurrentTimestamp=()=>{const e=i.useCurrentPreviewKey();return t.usePreviewKeyAtomValue(r,e)},e.useAudioVideoIsDefaultAudioTrackSelected=()=>{const e=i.useCurrentPreviewKey();return t.usePreviewKeyAtomValue(u,e)},e.useAudioVideoIsPlaying=()=>{const e=i.useCurrentPreviewKey();return t.usePreviewKeyAtomValue(s,e)},e.useCurrentDocPage=()=>{const e=i.useCurrentPreviewKey();return t.usePreviewKeyAtomValue(I,e)},e.useCurrentPageCount=()=>{const e=i.useCurrentPreviewKey(),o=t.useCurrentPreviewMetadata();return Z(e,o)},e.useEditorActivationParams=()=>t.useFileViewerAtomValue(t.editorActivationParamsAtom),e.useGetCurrentDocPageCallback=()=>{const e=i.useCurrentPreviewKey();return t.usePreviewKeyAtomCallback(I,e)},e.useIsCommentsModeActive=()=>{const e=t.useFileViewerAtomValue(o);return"comments"===N()||e},e.useIsFullscreen=()=>t.useFileViewerAtomValue(c),e.useIsPasswordProtected=(e,i)=>{var o,r,s;return null===(s=null===(r=null===(o=t.useSsrDocMetadataQuery(e,i))||void 0===o?void 0:o.data)||void 0===r?void 0:r.apiData.metadata)||void 0===s?void 0:s.isPasswordProtected},e.useIsRenameActive=()=>t.useFileViewerAtomValue(v),e.useIsSlideshow=()=>t.useFileViewerAtomValue(V),e.useIsTranscriptEditingEnabled=()=>{const{isLoggedIn:e}=t.useFileViewerContext();return e},e.useLeftSidebarId=()=>t.useFileViewerAtomValue(t.leftSidebarIdAtom),e.usePageCount=Z,e.useRightSidebarId=N,e.useRootDocUi=()=>({scaleFactor:Q()}),e.useRootImageUi=()=>({scaleFactor:Q()}),e.useScrollToSegment=()=>t.useFileViewerAtomValue(A),e.useSetAudioVideoDynamicTimestamp=()=>{const[e,i]=t.useFileViewerAtom(n);return i},e.useSetIsCommentsModeActiveCallback=()=>{const[e,i]=t.useFileViewerAtom(o);return i},e.useSetScrollToSegment=()=>t.useSetFileViewerAtom(A),e.useSetTranscriptSearchResult=()=>t.useSetFileViewerAtom(d),e.useSidebarWillAutoOpen=()=>t.useFileViewerAtomValue(t.sidebarWillAutoOpenAtom),e.useSsrDocPageDimensions=(e,i)=>{var o,r,s;return null===(s=null===(r=null===(o=t.useSsrDocMetadataQuery(e,i))||void 0===o?void 0:o.data)||void 0===r?void 0:r.apiData.metadata)||void 0===s?void 0:s.dimensions},e.useZoomScaleFactor=Q,e.zoomInOrOutAtom=L,e.zoomPercentAtom=E}));
//# sourceMappingURL=c_file_viewer_api_ui.js-vfl3ISeKi.map

//# debugId=47e7ce28-a0ae-3d48-94fe-675294e98b19