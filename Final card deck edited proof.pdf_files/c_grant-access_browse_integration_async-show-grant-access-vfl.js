!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="81ea69ed-d7a8-3049-bda5-81964d0965b8")}catch(e){}}();
define(["require","exports","react","./e_ui_page_files_router","./e_data_modules_stormcrow","./c_lib_logging"],(function(e,t,a,n,r,o){"use strict";function i(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}var l=i(a);const c="ON_ASYNC_SHOW_GRANT_ACCESS",s="ON_EXCLUDE_FALLBACK",{defaultEmitter:d}=o.defineLogger((async({event:e})=>{if(e.key!==c)if(e.key!==s);else n.UDCL.logEvent("ops.grant_access.exclude_fallback",{tags:{actionElement:e.payload.actionElement,actionSurface:e.payload.actionSurface}});else n.UDCL.logEvent({class:"sharing_sender",action:"view",object:"grant_access_modal",properties:{fileExtension:e.payload.fileExtension,isDir:e.payload.isDir,actionSurface:e.payload.actionSurface,actionElement:e.payload.actionElement}})}));"undefined"==typeof jest&&n.waitForTTI().then((()=>n.loadAfterDisplay((async()=>(await new Promise((function(t,a){e(["./c_grant-access_browse_integration_index.after-display"],t,a)})),{default:null})))));const u=e=>({fileExtension:e.ext||void 0,isDir:e.is_dir,sharedObjectType:e.is_dir?e.target_ns?"shared_folder":"folder":"file"}),f="grant-access-modal-id",_=n.lazyAfterDisplay((async()=>{const{GrantAccessBrowse:t}=await new Promise((function(t,a){e(["./c_grant-access_browse_integration_index.after-display"],t,a)}));return{default:t}})),m=e=>l.createElement(l.Suspense,{fallback:l.createElement(l.Fragment,null)},l.createElement(n.Provider,{store:n.getStoreForBrowse()},l.createElement(r.QueryClientProvider,{client:r.queryClient},l.createElement(_,{...e,isOpen:!0}))));m.displayName="GrantAccess";t.asyncShowGrantAccess=e=>{if(d.select(c).emit({...e,...u(e.fileOrFolder)}),!_)return;n.mountModal(l.createElement(m,{...e,onRequestClose:()=>{n.unmountModal(void 0,f)},onFallback:()=>{d.select(s).emit({...e,...u(e.fileOrFolder)}),e.onFallback(),n.unmountModal(void 0,f)},onInbandShareCompleted:()=>{n.unmountModal(void 0,f)}}),void 0,f)}}));
//# sourceMappingURL=c_grant-access_browse_integration_async-show-grant-access.js-vflhG5PL8.map

//# debugId=81ea69ed-d7a8-3049-bda5-81964d0965b8