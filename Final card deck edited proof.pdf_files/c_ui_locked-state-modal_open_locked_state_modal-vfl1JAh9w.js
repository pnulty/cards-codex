!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a551d510-5f23-37b9-b1f9-991b4eb05aa8")}catch(e){}}();
define(["exports","react","./e_ui_page_files_router","./c_pap-events_replay_shown_modal","./e_data_modules_stormcrow","./c_bem","./e_core_exception","./c_core_i18n","./c_dig-components_card_index","./c_trial-plan-card_components_header","./c_dig-icons_assets_ui-icon_line_table","react-dom","./c_ncct_manual_assist_util","./c_core_notify","./e_edison","./c_action_bar_action_bar_constants","./c__rollupPluginBabelHelpers","./c_lodash-es_lodash","./c_src_sink_index","./c_pap-events_pdf_edit_select_replace_original_confirmation","./c_memoize-one","react/jsx-runtime","./c_security_csrf_hmac","./c_react-use_useEffectOnce","./c_chat_chat_constants","metaserver/static/js/langpack","./c_dig-components_combinations_index","./c_dig-components_label_group_index","./c_dig-icons_assets_ui-icon_line_tag"],(function(e,t,a,o,n,l,r,s,i,c,d,u,m,_,p,f,E,S,T,M,L,A,C,g,y,P,k,h,D){"use strict";function N(e){return e&&e.__esModule?e:{default:e}}var x=N(t);function b(e){return{class:"locked_state",action:"shown",object:"locked_state_message",properties:e}}const U=(e,t,o,n)=>{const l={actionSurface:e,actionElement:t,userRole:o?a.UserRole.TEAM_ADMIN:a.UserRole.TEAM_MEMBER,fssTeamType:n||a.FssTeamType.FSS_TEAM_TYPE_UNKNOWN};a.UDCL.logEvent(function(e){return{class:"locked_state",action:"select",object:"locked_state_message",properties:e}}(l),{tags:l})};var O,B,v;!function(e){e[e.SURFACE_UNKNOWN=0]="SURFACE_UNKNOWN",e[e.LOCKED_STATE_PLUS_UPSELL_MODAL=1]="LOCKED_STATE_PLUS_UPSELL_MODAL"}(O||(O={})),o.proto3.util.setEnumType(O,"growth_trials_teams.Surface",[{no:0,name:"SURFACE_UNKNOWN"},{no:1,name:"LOCKED_STATE_PLUS_UPSELL_MODAL"}]),function(e){e[e.FSS_TEAM_TYPE_UNKNOWN=0]="FSS_TEAM_TYPE_UNKNOWN",e[e.FSS_CHURNED_TEAM=1]="FSS_CHURNED_TEAM",e[e.FSS_EXPIRED_TRIAL_TEAM=2]="FSS_EXPIRED_TRIAL_TEAM"}(B||(B={})),o.proto3.util.setEnumType(B,"growth_trials_teams.TeamType",[{no:0,name:"FSS_TEAM_TYPE_UNKNOWN"},{no:1,name:"FSS_CHURNED_TEAM"},{no:2,name:"FSS_EXPIRED_TRIAL_TEAM"}]),function(e){e[e.MISSING_SURFACE=0]="MISSING_SURFACE",e[e.USER_NOT_ON_TEAM=1]="USER_NOT_ON_TEAM",e[e.TEAM_SURFACE_PROPS_FETCH_FAILED=2]="TEAM_SURFACE_PROPS_FETCH_FAILED"}(v||(v={})),o.proto3.util.setEnumType(v,"growth_trials_teams.GetTeamSurfacePropsError",[{no:0,name:"MISSING_SURFACE"},{no:1,name:"USER_NOT_ON_TEAM"},{no:2,name:"TEAM_SURFACE_PROPS_FETCH_FAILED"}]);class F extends o.Message{constructor(e){super(),this.surface=O.SURFACE_UNKNOWN,o.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new F).fromBinary(e,t)}static fromJson(e,t){return(new F).fromJson(e,t)}static fromJsonString(e,t){return(new F).fromJsonString(e,t)}static equals(e,t){return o.proto3.util.equals(F,e,t)}}F.runtime=o.proto3,F.typeName="growth_trials_teams.GetTeamSurfacePropsRequest",F.fields=o.proto3.util.newFieldList((()=>[{no:1,name:"surface",kind:"enum",T:o.proto3.getEnumType(O)}]));class R extends o.Message{constructor(e){super(),this.isTeamAdmin=!1,this.numberOfActiveMembersInTeam=0,this.teamUsageBytes=o.protoInt64.zero,this.isFssIndividualBasicPlan=!1,this.fssTeamType=B.FSS_TEAM_TYPE_UNKNOWN,this.currentFssTeamPlanDisplayName="",this.currentFssTeamPlanDropboxBrandDisplayName="",this.currentFssTeamPlanAdvertisedMonthlyPricePerLicenseInYearContract="",o.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new R).fromBinary(e,t)}static fromJson(e,t){return(new R).fromJson(e,t)}static fromJsonString(e,t){return(new R).fromJsonString(e,t)}static equals(e,t){return o.proto3.util.equals(R,e,t)}}R.runtime=o.proto3,R.typeName="growth_trials_teams.GetTeamSurfacePropsResponse",R.fields=o.proto3.util.newFieldList((()=>[{no:1,name:"is_team_admin",kind:"scalar",T:8},{no:2,name:"number_of_active_members_in_team",kind:"scalar",T:5},{no:3,name:"team_usage_bytes",kind:"scalar",T:3},{no:4,name:"is_fss_individual_basic_plan",kind:"scalar",T:8},{no:5,name:"fss_team_type",kind:"enum",T:o.proto3.getEnumType(B)},{no:6,name:"current_fss_team_plan_display_name",kind:"scalar",T:9},{no:7,name:"current_fss_team_plan_dropbox_brand_display_name",kind:"scalar",T:9},{no:8,name:"current_fss_team_plan_advertised_monthly_price_per_license_in_year_contract",kind:"scalar",T:9},{no:9,name:"locked_state_plus_upsell_modal_props",kind:"message",T:w}]));class w extends o.Message{constructor(e){super(),this.currentTeamPlanFeatureList=[],this.plusPlanDisplayName="",this.plusPlanDropboxBrandDisplayName="",this.plusPlanAdvertisedMonthlyPriceInYearContract="",this.plusPlanFeatureList=[],o.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new w).fromBinary(e,t)}static fromJson(e,t){return(new w).fromJson(e,t)}static fromJsonString(e,t){return(new w).fromJsonString(e,t)}static equals(e,t){return o.proto3.util.equals(w,e,t)}}w.runtime=o.proto3,w.typeName="growth_trials_teams.SurfaceProps",w.fields=o.proto3.util.newFieldList((()=>[{no:1,name:"current_team_plan_feature_list",kind:"scalar",T:9,repeated:!0},{no:2,name:"plus_plan_display_name",kind:"scalar",T:9},{no:3,name:"plus_plan_dropbox_brand_display_name",kind:"scalar",T:9},{no:4,name:"plus_plan_advertised_monthly_price_in_year_contract",kind:"scalar",T:9},{no:5,name:"plus_plan_feature_list",kind:"scalar",T:9,repeated:!0}]));const I={typeName:"growth_trials_teams.TeamSurfaceProps",methods:{getTeamSurfaceProps:{name:"GetTeamSurfaceProps",I:F,O:R,kind:l.MethodKind.Unary}}},K=a.createAPIv2GRPCWebPromiseClient(I),H="growth_trials_teams.TeamSurfaceProps:GetTeamSurfaceProps",W=n.createGenericQuery({queryRouteFilter:["custom",H],queryFn:({apiArg:e})=>async({})=>({apiData:await K.getTeamSurfaceProps({surface:e.surface}),pkgData:null}),getQueryKey:n.getGenericQueryKey("custom",H)}),Y=async()=>{var e;try{const[t,o,l]=await Promise.all([a.fetchViewer(),a.fetchQueryExperiment("trials_2025_05_08_upsell_plus_locked_state_modal"),W.fetchQuery(n.queryClient,{apiArg:{surface:O.LOCKED_STATE_PLUS_UPSELL_MODAL},pkgArg:null})]),r=null===(e=null==o?void 0:o.apiData)||void 0===e?void 0:e.variant,s=l.apiData,i=(e=>{switch(e.fssTeamType){case B.FSS_CHURNED_TEAM:return a.FssTeamType.FSS_CHURNED_TEAM;case B.FSS_EXPIRED_TRIAL_TEAM:return a.FssTeamType.FSS_EXPIRED_TRIAL_TEAM;default:return a.FssTeamType.FSS_TEAM_TYPE_UNKNOWN}})(s),c=l&&((e,t)=>e.isTeamAdmin&&1===e.numberOfActiveMembersInTeam&&e.teamUsageBytes<BigInt(2199023255552)&&e.isFssIndividualBasicPlan&&!t.is_paired)(s,t),d=c&&"V1"===r;return c&&"OFF"!==r&&a.logExposure({feature:"trials_2025_05_08_upsell_plus_locked_state_modal",variant:r}),{shouldShowLockedStatePlusUpsellModal:d,teamSurfaceProps:s,fssTeamType:i}}catch(e){return r.reportException({err:e,tags:["trials","locked_state_modal"]}),{shouldShowLockedStatePlusUpsellModal:!1,teamSurfaceProps:null,fssTeamType:a.FssTeamType.FSS_TEAM_TYPE_UNKNOWN}}},G=e=>{const[o,n]=t.useState(!0);return x.default.createElement(a.Modal$1,{open:o,isCentered:!0,withCloseButton:e.closeAriaLabel,onAfterClose:e.onAfterClose,onRequestClose:()=>{e.closeButtonOnClick(),n(!1)},"aria-labelledby":"locked-state-modal-title"},x.default.createElement(a.Modal$1.Header,null),x.default.createElement(a.Modal$1.Body,{className:a.atoms({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"})},x.default.createElement(a.Box,null,x.default.createElement(a.Title,null,e.modalTitleText),x.default.createElement(a.Text,{variant:"paragraph"},e.modalBodyText))),x.default.createElement(a.Modal$1.Footer,{preferComposition:!0},x.default.createElement(a.Box,{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:{small:"row",xsmall:"column-reverse"},rowGap:{xsmall:"Macro Small"},width:"100%"},e.tertiaryCTA&&x.default.createElement(a.Button,{variant:"transparent",onClick:()=>{var t;null===(t=e.tertiaryCTA)||void 0===t||t.onClick(),n(!1)}},e.tertiaryCTA.text),x.default.createElement(a.Box,{display:"flex",justifyContent:{xsmall:"center",small:"flex-end"},flexWrap:"wrap-reverse",columnGap:"Micro Small",rowGap:{xsmall:"Macro Small"},width:"100%"},x.default.createElement(a.Button,{variant:"opacity",onClick:()=>{e.secondaryCTA.onClick(),n(!1)}},e.secondaryCTA.text),x.default.createElement(a.Button,{variant:"primary",onClick:()=>{e.primaryCTA.onClick(),n(!1)}},e.primaryCTA.text)))))};G.displayName="LockedStateModal";const q=s.intl.formatMessage({id:"bBu9g1",defaultMessage:"Upgrade to keep uploading"}),J=s.intl.formatMessage({id:"KSor86",defaultMessage:"To keep uploading, ask admin to upgrade"}),X=s.intl.formatMessage({id:"qhA0AP",defaultMessage:"Upgrade to access advanced sharing"}),V=s.intl.formatMessage({id:"rvfXAf",defaultMessage:"For advanced sharing, ask admin to upgrade"}),j=s.intl.formatMessage({id:"SuuWCu",defaultMessage:"Upgrade to use all features"}),z=s.intl.formatMessage({id:"urJGUK",defaultMessage:"To use all features, ask admin to upgrade"}),$=s.intl.formatMessage({id:"NDfnKy",defaultMessage:"Leave team"}),Q=s.intl.formatMessage({id:"UV1N5Y",defaultMessage:"Cancel team"}),Z=s.intl.formatMessage({id:"JF7/t9",defaultMessage:"Purchase plan"}),ee=s.intl.formatMessage({id:"frsN3v",defaultMessage:"Close"}),te=s.intl.formatMessage({id:"TrW3XA",defaultMessage:"Your team is in <a>locked state</a>—your content and account may be deleted. Purchase a plan to send invites, access shared storage space, get advanced sharing options, and to upload and sync files. Or, cancel your team to use your Dropbox Basic plan."},{a:e=>x.default.createElement("a",{href:"https://help.dropbox.com/account-access/team-locked-state",target:"_blank",rel:"noopener noreferrer",onClick:()=>{U(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,a.LockedStateModalCTA.HELP,!0)}},e)}),ae=s.intl.formatMessage({id:"fNBK3J",defaultMessage:"Continue to share"}),oe=s.intl.formatMessage({id:"Bap3K+",defaultMessage:"Continue to download"}),ne=s.intl.formatMessage({id:"4Zj7Sc",defaultMessage:"Find a plan that works for you"}),le=s.intl.formatMessage({id:"90xcsE",defaultMessage:"Your trial has ended, and your account might be deleted. We have a plan that gives you full access to your content at a lower cost."}),re=s.intl.formatMessage({id:"U7Ox0Y",defaultMessage:"Your subscription has ended, and your account might be deleted. We have a plan that gives you full access to your content at a lower cost."}),se=s.intl.formatMessage({id:"m9B+Dl",defaultMessage:"Your trial has ended and your account might be deleted. Based on your usage, the Plus plan might be a great fit to regain full access and keep you productive—at a lower cost."}),ie=s.intl.formatMessage({id:"SZBBS1",defaultMessage:"Your subscription has ended and your account might be deleted. Based on your usage, the Plus plan might be a great fit to regain full access and keep you productive—at a lower cost."}),ce=s.intl.formatMessage({id:"feaT+T",defaultMessage:"A plan for teams"}),de=s.intl.formatMessage({id:"EHq+Jq",defaultMessage:"/ user / month"}),ue=e=>s.intl.formatMessage({id:"5XNl2+",defaultMessage:"Buy {planDropboxBrandDisplayName}"},{planDropboxBrandDisplayName:e}),me=s.intl.formatMessage({id:"XVhF+U",defaultMessage:"A plan for one"}),_e=s.intl.formatMessage({id:"ZoAz6A",defaultMessage:"/ month"}),pe=s.intl.formatMessage({id:"OrBoZf",defaultMessage:"Suggested for you"}),fe=(e,t)=>{switch(e){case a.LockedStateModalAction.SHARE_MODAL:case a.LockedStateModalAction.SHARE_LINK:return t?X:V;case a.LockedStateModalAction.DOWNLOAD:return t?j:z;case a.LockedStateModalAction.UPLOAD:return t?q:J;case a.LockedStateModalAction.CLICK_LOCKED_STATE_PLUS_UPSELL_BANNER:return ne;default:return""}},Ee=({action:e,isAdmin:t,teamName:o,continueCallback:n,abortCallback:l,unmountLockedStateModal:r})=>{const i=t?te:(e=>s.intl.formatMessage({id:"y7B3B0",defaultMessage:"The {team_name} is in <a>locked state</a>—your content and account may be deleted. Ask your admin to upgrade to continue collaborating, or leave your team."},{team_name:e,a:e=>x.default.createElement("a",{href:"https://help.dropbox.com/account-access/team-locked-state",target:"_blank",rel:"noopener noreferrer",onClick:()=>{U(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,a.LockedStateModalCTA.HELP,!1)}},e)}))(o),c={text:t?Z:ee,onClick:()=>{U(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,t?a.LockedStateModalCTA.PURCHASE:a.LockedStateModalCTA.CLOSE,t),l(),t?a.open_tab("/business/billing"):r()}},d={text:t?Q:$,onClick:()=>{U(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,t?a.LockedStateModalCTA.DISBAND:a.LockedStateModalCTA.LEAVE,t),l(),a.open_tab("/team/decide")}},u={text:e===a.LockedStateModalAction.SHARE_MODAL||e===a.LockedStateModalAction.SHARE_LINK?ae:e===a.LockedStateModalAction.DOWNLOAD?oe:"",onClick:()=>{U(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,e===a.LockedStateModalAction.SHARE_MODAL||e===a.LockedStateModalAction.SHARE_LINK?a.LockedStateModalCTA.SHARE:a.LockedStateModalCTA.DOWNLOAD,t),n()}};return x.default.createElement(G,{onAfterClose:r,modalTitleText:fe(e,t),modalBodyText:i,primaryCTA:c,secondaryCTA:d,tertiaryCTA:u,closeAriaLabel:ee,closeButtonOnClick:()=>{U(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,a.LockedStateModalCTA.CLOSE,t),l()}})};Ee.displayName="FunctionalLockedStateModal";const Se=({eyebrowText:e,heading:t,monthlyPricePerUser:o,monthlyPricePerUserText:n,ctaProps:l,featureList:r,recommendationProps:s})=>{const{isRecommended:d,recommendedText:u}=s||{},{ctaText:m,ctaVariant:_,onCtaClick:p}=l;return x.default.createElement(a.Box,{width:"100%",borderColor:d?"Identity Green":"Border Base",borderWidth:d?"2":"0",borderRadius:"Large",borderStyle:"Solid",position:"relative"},x.default.createElement(a.Box,{visibility:d?"visible":"hidden"},x.default.createElement(c.RecommendationComponent,{text:u,recommendationVariant:c.TrialCardRecommendationVariants.PILL_HAT,recommendationIcon:a.UpsellLine})),x.default.createElement(i.CardNamespace,{hasBorders:!d,borderRadius:"Large"},x.default.createElement(i.CardNamespace.Content,null,x.default.createElement(a.Box,{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"Micro Large",paddingBottom:"Macro Medium"},x.default.createElement(a.Text,{color:"subtle",variant:"label",size:"medium"},e),x.default.createElement(a.Title,{weightVariant:"emphasized"},t),x.default.createElement(a.Text,{size:"large",isBold:!0},o,x.default.createElement(a.Text,{color:"subtle",variant:"label",isBold:!0,style:{marginLeft:"4px"}},n)),x.default.createElement(a.Box,{padding:"Micro XSmall"}),x.default.createElement(a.Text,{color:"subtle",size:"small",variant:"label"},x.default.createElement(a.FormattedMessage,{id:"rejrOs",defaultMessage:"when billed annually"}))),x.default.createElement(a.Box,{display:"flex",flexDirection:"column"},x.default.createElement(a.Box,{marginLeft:"Macro XSmall",marginRight:"Macro XSmall"},x.default.createElement(a.Button,{variant:_,size:"large",fullWidth:!0,onClick:p},m)),x.default.createElement(a.List,null,r.map((([e,t])=>x.default.createElement(a.List.Item,{key:null==t?void 0:t.toString(),spacing:"xsmall"},x.default.createElement(a.List.Accessory,null,x.default.createElement(a.UIIcon,{src:e})),x.default.createElement(a.List.Content,null,x.default.createElement(a.PartialBoldText,{text:t}))))))))))};Se.displayName="LockedStatePlanCard";const Te=({onAfterClose:e,title:o,description:n,currentPlanCardProps:l,recommendedPlanCardProps:r,cancelCtaProps:s,continueCtaProps:i,closeAriaLabel:c,closeButtonOnClick:d})=>{const[u,m]=t.useState(!0),_=!a.useBreakpoint({strategy:"minWidth"}).small;return x.default.createElement(a.Modal$1,{open:u,isCentered:!0,width:750,withCloseButton:c,onAfterClose:e,onRequestClose:()=>{d(),m(!1)}},x.default.createElement(a.Box,{padding:_?"0":"Macro Small"},x.default.createElement(a.Modal$1.Header,null,x.default.createElement(a.Modal$1.Title,null,o)),x.default.createElement(a.Modal$1.Body,null,x.default.createElement(a.Box,{paddingBottom:_?"Macro Large":"Macro Medium"},x.default.createElement(a.Text,{size:"medium",color:"subtle"},n)),x.default.createElement(a.Box,{display:"flex",flexDirection:_?"column-reverse":"row",width:"100%",justifyContent:"space-between"},x.default.createElement(a.Box,{marginRight:_?"0":"Macro XSmall",marginTop:_?"Macro XSmall":"0",flexGrow:1},x.default.createElement(Se,{...l})),x.default.createElement(a.Box,{flexGrow:1},x.default.createElement(Se,{...r})))),x.default.createElement(a.Modal$1.Footer,{preferComposition:!0},x.default.createElement(a.Box,{display:"flex",flexDirection:_?"column":"row",justifyContent:"space-between",alignItems:"center"},x.default.createElement(a.Button,{variant:"transparent",onClick:()=>{s.cancelCtaOnClick(),m(!1)}},s.cancelCtaText),i&&x.default.createElement(a.Box,{marginTop:_?"Micro Medium":"0"},x.default.createElement(a.Button,{variant:"transparent",onClick:()=>{i.continueCtaOnClick(),m(!1)}},i.continueCtaText))))))};Te.displayName="LockedStateUpsellModal";const Me=(e,t)=>e===a.LockedStateModalAction.CLICK_LOCKED_STATE_PLUS_UPSELL_BANNER?t===B.FSS_CHURNED_TEAM?re:le:t===B.FSS_CHURNED_TEAM?ie:se,Le=({action:e,teamSurfaceProps:t,fssTeamType:o,continueCallback:n,abortCallback:l,unmountLockedStateModal:r})=>{var i,c,u,m,_;if(!t)return null;const p=(null===(i=t.lockedStatePlusUpsellModalProps)||void 0===i?void 0:i.currentTeamPlanFeatureList)||[],f=(null===(c=t.lockedStatePlusUpsellModalProps)||void 0===c?void 0:c.plusPlanFeatureList)||[],E={eyebrowText:t.currentFssTeamPlanDisplayName,heading:ce,monthlyPricePerUser:t.currentFssTeamPlanAdvertisedMonthlyPricePerLicenseInYearContract,monthlyPricePerUserText:de,ctaProps:{ctaText:ue(t.currentFssTeamPlanDropboxBrandDisplayName),ctaVariant:"outline",onCtaClick:()=>{U(a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL,a.LockedStateModalCTA.PURCHASE_TEAM_PLAN,!0,o),a.redirect("/business/billing")}},featureList:[[a.PersonLine,p[0]||""],[a.SpaceLine,p[1]||""],[d.SendLine,p[2]||""],[a.ClockLine,p[3]||""]]},S={eyebrowText:(null===(u=t.lockedStatePlusUpsellModalProps)||void 0===u?void 0:u.plusPlanDisplayName)||"",heading:me,monthlyPricePerUser:(null===(m=t.lockedStatePlusUpsellModalProps)||void 0===m?void 0:m.plusPlanAdvertisedMonthlyPriceInYearContract)||"",monthlyPricePerUserText:_e,ctaProps:{ctaText:ue((null===(_=t.lockedStatePlusUpsellModalProps)||void 0===_?void 0:_.plusPlanDropboxBrandDisplayName)||""),ctaVariant:"primary",onCtaClick:()=>{U(a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL,a.LockedStateModalCTA.PURCHASE_INDIVIDUAL_PLAN,!0,o),a.redirect("/buy/plus")}},recommendationProps:{isRecommended:!0,recommendedText:pe},featureList:[[a.PersonLine,f[0]||""],[a.SpaceLine,f[1]||""],[d.SendLine,f[2]||""],[a.ClockLine,f[3]||""]]},T={onAfterClose:r,title:fe(e,!0),description:Me(e,t.fssTeamType),currentPlanCardProps:E,recommendedPlanCardProps:S,cancelCtaProps:{cancelCtaText:Q,cancelCtaOnClick:()=>{U(a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL,a.LockedStateModalCTA.DISBAND,!0,o),l(),a.redirect("/team/decide")}},continueCtaProps:{continueCtaText:"share_modal"===e||"share_link"===e?ae:"download"===e?oe:"",continueCtaOnClick:()=>{U(a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL,e===a.LockedStateModalAction.SHARE_MODAL||e===a.LockedStateModalAction.SHARE_LINK?a.LockedStateModalCTA.SHARE:a.LockedStateModalCTA.DOWNLOAD,!0,o),n()}},closeAriaLabel:ee,closeButtonOnClick:()=>{U(a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL,a.LockedStateModalCTA.CLOSE,!0,o),l()}};return x.default.createElement(s.Provider,{value:s.intl},x.default.createElement(Te,{...T}))};Le.displayName="FunctionalUpsellLockedStateModal";const Ae="LOCKED_STATE_MODAL",Ce=()=>{a.unmountModal(void 0,Ae)};e.getIsUserEligibleForLockedStateModal=e=>Boolean(e.active_user&&e.active_user.is_team)&&e.team_is_locked,e.openLockedStateModal=async e=>{const{action:t,isAdmin:o,teamName:l,continueCallback:s,abortCallback:i}=e;let c=!0,d="";const u=(e,n,l=a.FssTeamType.FSS_TEAM_TYPE_UNKNOWN)=>{((e,t,o,n,l)=>{const r={eventState:e,actionSurface:t,actionElement:o,userRole:n?a.UserRole.TEAM_ADMIN:a.UserRole.TEAM_MEMBER,fssTeamType:l};"start"===e?a.UDCL.logStart(b(r),{tags:r}):a.UDCL.logEnd(b(r),{tags:r})})(e,n,t,o,l)};u("start",d);const{shouldShowLockedStatePlusUpsellModal:m,teamSurfaceProps:_,fssTeamType:p}=await Y();d=m?a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL:a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL;try{const e=()=>{if(m)return x.default.createElement(Le,{action:t,teamSurfaceProps:_,fssTeamType:p,continueCallback:s,abortCallback:i,unmountLockedStateModal:Ce});if(t===a.LockedStateModalAction.CLICK_LOCKED_STATE_PLUS_UPSELL_BANNER)throw new Error("User doesn't see plus upsell modal on plus upsell banner entry point. This should never happen.");return x.default.createElement(Ee,{action:t,isAdmin:o,teamName:l,continueCallback:s,abortCallback:i,unmountLockedStateModal:Ce})};a.mountModal(x.default.createElement(n.QueryClientProvider,{client:n.queryClient},e()),void 0,Ae),u("success",d,p)}catch(e){u("failed",d,p),r.reportException({err:e,tags:["trials","locked_state_modal"]}),c=!1}return c}}));
//# sourceMappingURL=c_ui_locked-state-modal_open_locked_state_modal.js-vflVVliyO.map

//# debugId=a551d510-5f23-37b9-b1f9-991b4eb05aa8