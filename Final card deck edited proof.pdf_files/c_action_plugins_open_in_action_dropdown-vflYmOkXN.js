!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="fb2631a0-a676-3d92-8ded-07c302fe61c7")}catch(e){}}();
define(["exports","react","./c_action_bar_action_bar_strings","./e_ui_page_files_router","./c_extensions_extensions_popover_content","./c_pap-events_previews_select_doc_page","./c_react_query_helpers_queries_upload_info","./c_core_i18n","./e_core_exception","./c_src_sink_index","./c_action_bar_action_bar_constants","./c_pap-events_replay_shown_modal","./c_lodash-es_lodash","./c_pap-events_pdf_edit_select_replace_original_confirmation","metaserver/static/js/langpack","./c_bem","react-dom","./c_ncct_manual_assist_util","./c_core_notify","./e_edison","./c__rollupPluginBabelHelpers","./e_data_modules_stormcrow","./c_memoize-one","react/jsx-runtime","./c_security_csrf_hmac","./c_react-use_useEffectOnce","./c_chat_chat_constants","./c_conversions_actions_unzip","./c_extensions_data_selectors","./c_react_query_api_helpers_queries_seen_state_info","./c_src_bindings_api-context","./c_pdf_editor_utils_entry_point_util","./c_unity_features","./c_ui_async_overquota_modal_controller","./c_pap-events_share_copy_shared_link","./c_pap-events_duplicate_files_open_duplicate_files_page","./c_integrations_hellosign_deep_integration_constants","./c_flows_redux_reducer","./c_flows_logging_flows_loggers","./c_flows_utils_browse_logger","./c_flows_redux_store","./c_flows_utils_async_modal_launchers","./c_flows_redux_actions","./c_flows_redux_selectors","./c_dig-icons_assets_ui-icon_line_rewind","./c_flows_utils_auto_folder_helpers","./c_dig-icons_assets_ui-icon_line_zip","./c_extensions_extensions_utils","./c_spectrum_modal_utility_modal","./c_spectrum_button","./c_spectrum_tertiary_link_tertiary_list","./c_spectrum_icon_action_index","./c_icon_templates_actionable_index","./c_spectrum_svg_icon_bundle","./c_spectrum_icon_form_index","./c_icon_templates_stateless_index","./c_spectrum_scroll_locker","./c_ux_analytics_modal_tracking","./c_ui_image","./c_dig-icons_assets_ui-icon_line_shuffle","./c_fileops_downloads","./c_ui_sprite","./c_dig-icons_assets_ui-icon_line_slides","./c_dig-icons_assets_ui-icon_line_show","./c_dig-icons_assets_ui-icon_line_restore","./c_dig-icons_assets_ui-icon_line_upload","./c_replay_replay_extensions","./c_google_one_tap_google_one_tap_platform","./c_google_one_tap_lib","./c_src_types_index","./c_ungated_idx_db_access_lib","./c_helpers_hooks_component-did-mount","./c_signup_signin_helpers","./c_profile_services_profile_services_constants","./c_react-transition-group_CSSTransition","./c_react-transition-group_Transition","./c_file_viewer_api_navigation","./c_file_viewer_api_ui","./c_file_viewer_hooks_lifecycle_logging","./c_file_viewer_hooks_usePrevious","./c_share_modal_evolution_utils_logging","./c_flux_action_type","./c_src_common_format_bytes","./c_sharing_sharing_pap_logging_common_util","./c_sharing_sharing_pap_logging_shared_link_util","./c_dig-components_breadcrumb_index","./c_portable_delete","./c_portable_delete_strings","./c_portable_delete_snackbars","./c_files_view_file_actions_snackbars","./c_file_viewer_api_data","./c_file_viewer_hooks_useExtractedText","./c_file_viewer_toolbar_utils","./c_viewer_helpers","./c_react_query_helpers_queries_file_content_metadata","./c_file_viewer_toolbar_action_bar","./c_core_utils_browser_detection","./c_preview_audio_video_video_editing_constants","./c_file_viewer_components_preview_button","./c_file_viewer_keyboard_keyboard_connector","./c_file_viewer_utils_auto_open","./c_file_viewer_components_preview","./c_file_viewer_hooks_logging","./c_core_utils_region","./c_file_viewer_loading_indicator","./c_file_viewer_logging_timing","./c_web-vitals","./c_file_viewer_preview_archive_utils","./c_dig-icons_assets_ui-icon_line_text-box","./c_dig-icons_assets_ui-icon_line_quota-reached","./c_dig-icons_assets_ui-icon_line_passwords","./c_file_viewer_preview_text","./c_api_v2_redux_base_action","./c_react-use_useBeforeUnload","./c_file_viewer_preview_logger","./c_contacts_fetch","./c_react_query_helpers_queries_contacts_constants","./c_dig-icons_assets_ui-icon_line_redo"],(function(e,_,i,n,t,o,s,c,r,a,l,p,u,d,f,g,v,w,m,x,b,h,y,I,A,O,k,E,S,U,C,q,F,D,V,P,H,K,W,M,R,T,B,N,L,Q,j,z,G,$,J,X,Y,Z,ee,_e,ie,ne,te,oe,se,ce,re,ae,le,pe,ue,de,fe,ge,ve,we,me,xe,be,he,ye,Ie,Ae,Oe,ke,Ee,Se,Ue,Ce,qe,Fe,De,Ve,Pe,He,Ke,We,Me,Re,Te,Be,Ne,Le,Qe,je,ze,Ge,$e,Je,Xe,Ye,Ze,e_,__,i_,n_,t_,o_,s_,c_,r_,a_){"use strict";function l_(e){return e&&e.__esModule?e:{default:e}}var p_=l_(_);const u_=new Set([".pptx",".docx",".xlsx",".ppt",".doc",".xls"]),d_="open_in_install_desktop_app",f_="previews",g_="preview_toolbar",v_=()=>{window.open("https://www.dropbox.com/downloading?_tk=open_in_explorer_install_dc","_blank")},w_={[o.OpenInUserAction.OpenInUnityFolder]:"desktop_folder",[o.OpenInUserAction.OpenInUnity]:"desktop_preview",[o.OpenInUserAction.OpenInReplay]:"replay_preview",[o.OpenInUserAction.PreviewFile]:"web_preview",[o.OpenInUserAction.OpenInDesktop]:"desktop_file",[o.OpenInUserAction.OpenMoreApps]:"connect_more_apps",[o.OpenInUserAction.OpenAddApps]:"connect_apps",[o.OpenInUserAction.OpenInOfficeOnline]:"office_online",[o.OpenInUserAction.InstallDropboxApp]:"downloading_page"},m_={surface:"previews"},x_=({actionContext:e,file:_,user:i,surface:o})=>{const{logUserAction:c,loggingSessionId:r}=n.useFileViewerContext(),a=s.useReplayActionHandler(_),{variant:l}=n.useExperimentVariant("open_in_explorer_install_dc"),p=((e,_,i,t)=>{if(!_||_===n.Variant.OFF)return!1;const o=`.${n.getExtension(e)}`,c=u_.has(o),r=t!==n.SDKPreviewSurface.QUICK_VIEW_BROWSE&&t!==n.SDKPreviewSurface.QUICK_VIEW_SEARCH;return c&&!(e instanceof n.FileSharedWithMe)&&s.isLiveFile(e)&&n.isBrowseFile(e)&&!n.isEncryptedFile(e)&&r})(_,l,0,o);n.useLogExposureOnce("open_in_explorer_install_dc",!p);const u=((e,_)=>{if(_===n.Variant.V1&&e)return v_})(p,l);p_.default.useEffect((()=>{u&&(e=>{const _=n.getExtension(e),i=_.startsWith(".")?_.slice(1):_,t=n.getFileTypeFromString(i);n.UDCL.logEvent({class:"navigation",action:"shown",object:"content_action_upsell",properties:{contentAction:d_,actionSurface:f_,actionElement:g_,fileType:t,upsellVariant:"v1"}},{tags:{content_action:d_,action_surface:f_,action_element:g_,...t&&{file_type:t},upsell_variant:"v1"}})})(_)}),[u,_]);const d=p_.default.useMemo((()=>({sessionId:r,event:(_,i)=>{var t;if("show_byline"===_)return;const s="string"==typeof(null==i?void 0:i.userAction)?i.userAction:"",r=null!==(t=w_[s])&&void 0!==t?t:"third_party_app";let a="previews";o===n.SDKPreviewSurface.QUICK_VIEW_BROWSE?a="browse_quick_view":o===n.SDKPreviewSurface.QUICK_VIEW_SEARCH&&(a="search_quick_view"),c(n.UserAction.OpenIn,e,{...i,destination_surface:r,actionSurface:a})}})),[e,c,r,o]);return p_.default.createElement(t.ExtensionsPopoverContent,{key:"open-in-action-btn",file:_,user:i,isInActionBar:!0,openDesktopActionHandler:s.makeOpenInDesktopHandler(_,i),replayActionHandler:a,installDropboxAppActionHandler:u,currentSession:d,telemetryContext:m_})};x_.displayName="OpenInMenuContent";const b_=s.withActionCondition(s.openInActionConditions,((e,_)=>_?{icon:n.OpenLine,label:i.OPEN_IN_ACTION_STRING,disabled:{disabled:!1},userAction:n.UserAction.OpenIn,action:{type:"menu",menu:p_.default.createElement(x_,{user:e.user,file:e.file,actionContext:n.UserActionContext.FileMenu})}}:void 0),void 0);e.OpenInMenuContent=x_,e.makeOpenInAction=b_}));
//# sourceMappingURL=c_action_plugins_open_in_action_dropdown.js-vflCl9_GS.map

//# debugId=fb2631a0-a676-3d92-8ded-07c302fe61c7