!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d6dbfd18-71a4-3141-80cd-0c514ba7d6df")}catch(e){}}();
define(["exports","./e_ui_page_files_router","react","./c_core_i18n","./c_action_bar_action_bar_strings","./c_action_bar_action_bar_constants","./c_portable_delete_strings","react-dom","./e_core_exception","./c_bem","./c_pap-events_replay_shown_modal","./c_ncct_manual_assist_util","./c_core_notify","./e_edison","./c__rollupPluginBabelHelpers","./c_lodash-es_lodash","./e_data_modules_stormcrow","./c_src_sink_index","./c_pap-events_pdf_edit_select_replace_original_confirmation","./c_memoize-one","react/jsx-runtime","./c_security_csrf_hmac","./c_react-use_useEffectOnce","./c_chat_chat_constants","metaserver/static/js/langpack"],(function(e,t,a,l,n,o,s,r,i,c,u,_,d,f,m,E,p,g,M,C,h,T,b,y,v){"use strict";function D(e){return e&&e.__esModule?e:{default:e}}var w=D(a);const B=({user:e,fq_path:a,totalFilesCount:r,onConfirm:i,onRequestClose:c,setDeleteFileModalOpen:u,title:_,content:d})=>{const[f,m]=w.default.useState(!0),E=()=>{m(!1),null==c||c()},p=e.is_cdm_member||e.is_tmr_member,g=l.intl.formatMessage({id:"FMtrmh",defaultMessage:"{fileCount, plural, one {# file} few {# files} many {# files} other {# files}}"},{fileCount:r}),M=1===r?t.filename(a):g,C=t.isBackupBrowse()&&!t.isInsideEDB(a),h={filename:M,b:e=>w.default.createElement(t.Text,{isBold:!0},e),u:e=>w.default.createElement("span",{style:{textDecoration:"underline"}},e)},T=l.intl.formatMessage({id:"yDuoGW",defaultMessage:"Cancel"}),b=l.intl.formatMessage(n.DELETE_ACTION_STRING);return w.default.createElement(t.Modal$1,{open:f,isCentered:!0,onRequestClose:E,onAfterOpen:()=>null==u?void 0:u(!0),onAfterClose:()=>null==u?void 0:u(!1)},w.default.createElement(t.Modal$1.Header,{hasBottomSpacing:"title-standard",className:"naming-conventions__header"},w.default.createElement(t.Title,null,_||(C?l.intl.formatMessage(s.BACKUP_DELETE_TITLE,h):l.intl.formatMessage(n.DELETE_ACTION_STRING)))),w.default.createElement(t.Modal$1.Body,{hasVerticalSpacing:!1,className:"uxa-modal",id:"delete-file-modal"},w.default.createElement(t.Text,null,d||(C?o.mac?l.intl.formatMessage(s.BACKUP_DELETE_CONTENT_MAC,h):l.intl.formatMessage(s.BACKUP_DELETE_CONTENT_WIN,h):p?l.intl.formatMessage({id:"emsobI",defaultMessage:"Are you sure you want to delete <b>{filename}</b> from your team member folder?"},h):l.intl.formatMessage({id:"8TOnv7",defaultMessage:"Are you sure you want to delete <b>{filename}</b> from your Dropbox?"},h)))),w.default.createElement(t.Modal$1.Footer,null,w.default.createElement(t.Button,{variant:"opacity",onClick:E},T),w.default.createElement(t.Button,{variant:"primary",autoFocus:!0,onClick:()=>{i(),m(!1)}},b)))};e.portableDelete=({user:e,filesPath:a,fq_path:n},{onSuccess:o,onError:s,onNetworkRequest:r,onRequestClose:i,setDeleteFileModalOpen:c,onSuccessResult:u},_)=>{var d;d={onConfirm:async()=>{null==r||r();const l=await t.deleteFiles(a,e,!0),n=l.isError?[]:l.result.entries.filter((e=>"success"===e[".tag"]));if(l.isError||0===n.length)return void(null==s||s(l.isError?l:t.createUndefinedRpcResult()));const i=new Set;n.forEach((e=>{e.metadata.path_lower&&i.add(e.metadata.path_lower)})),null==o||o(i),null==u||u(l)},fq_path:n,totalFilesCount:a.length,user:e,onRequestClose:i,setDeleteFileModalOpen:c,..._},t.Modal.showInstance(w.default.createElement(l.Provider,{value:l.intl},w.default.createElement(B,{...d})))}}));
//# sourceMappingURL=c_portable_delete.js-vflKd4pAf.map

//# debugId=d6dbfd18-71a4-3141-80cd-0c514ba7d6df