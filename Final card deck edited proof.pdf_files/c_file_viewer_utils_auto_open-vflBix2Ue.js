!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="90a02dff-ea69-3a64-9986-74608029dc78")}catch(e){}}();
define(["exports","./e_ui_page_files_router","react","./c_lodash-es_lodash","./c_file_viewer_api_navigation"],(function(e,t,o,n,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=a(o);const s=t.fileViewerAtom(1),l=t.fileViewerAtom(!1),d=t.fileViewerAtom((e=>({volume:e(s),muted:e(l)})));e.mutedAtom=l,e.useContentRect=()=>{const[e,t]=r.default.useState(null),[o,n]=r.default.useState();return r.default.useEffect((()=>{if(!e)return;const t=new ResizeObserver((e=>n(e[0].contentRect)));return t.observe(e),n(e.getBoundingClientRect()),()=>t.disconnect()}),[e]),{nodeRef:t,contentRect:o,node:e}},e.useMaybeOpenEditorBasedOnUrl=()=>{const{logUserAction:e}=t.useFileViewerContext(),o=t.useCurrentPreviewMetadata().previewType,n=i.useSetActiveEditorCallback(),a=r.default.useCallback((()=>{n(t.PDF_EDITOR_PLUGIN_ID,t.UserActionContext.PostDownloadEditModal),e(t.UserAction.EditPdf,t.UserActionContext.PostDownloadEditModal)}),[e,n]),s=r.default.useCallback((()=>{n(t.PHOTO_EDITOR_PLUGIN_ID,t.UserActionContext.PostDownloadEditModal,{initialAction:"adjust"}),e(t.UserAction.EditImageAttempt,t.UserActionContext.PostDownloadEditModal,{entryAction:"adjust"})}),[e,n]),l=r.default.useCallback((()=>{n(t.VIDEO_EDITOR_PLUGIN_ID,t.UserActionContext.Initialization,{initialEditAction:"crop"}),e(t.UserAction.EditVideoAttempt,t.UserActionContext.PostDownloadEditModal,{entryAction:"crop"})}),[e,n]),d=r.default.useCallback((()=>{n(t.VIDEO_EDITOR_PLUGIN_ID,t.UserActionContext.Initialization,{initialEditAction:"trim"}),e(t.UserAction.EditVideoAttempt,t.UserActionContext.PostDownloadEditModal,{entryAction:"trim"})}),[e,n]);r.default.useEffect((()=>{const e=()=>{"#edit"===window.location.hash&&(o===t.PreviewType.Image?s():o===t.PreviewType.Video?l():o===t.PreviewType.Audio?d():a())};return window.addEventListener("hashchange",e,!1),()=>{window.removeEventListener("hashchange",e)}}),[a,s,l,o,d])},e.useMaybeOpenTranscriptSidebarBasedOnUrl=()=>{const e=i.useSetRightSidebarCallback(t.UserActionContext.Initialization),{optionalIOClients:{urlClient:o}}=t.useFileViewerContext();r.default.useEffect((()=>{(null==o?void 0:o.getQueryStringParameter("transcript"))&&e(t.TRANSCRIPT_BLADE_PLUGIN_ID)}),[e,o])},e.useMouseActive=e=>{const[t,o]=r.default.useState(!0),i=r.default.useRef(void 0),a=r.default.useMemo((()=>n.lodashExports.throttle((()=>{const t=()=>{i.current&&window.clearTimeout(i.current)};return o(!0),t(),i.current=window.setTimeout((()=>{o(!1)}),e),t}))),[e]);r.default.useEffect((()=>(window.addEventListener("mousemove",a),()=>window.removeEventListener("mousemove",a))));return{isUserInteractingWithElement:t,handleFocus:r.default.useCallback((()=>{o(!0)}),[]),handleBlur:r.default.useCallback((()=>{o(!1)}),[])}},e.volumeAtom=s,e.volumeStateAtom=d}));
//# sourceMappingURL=c_file_viewer_utils_auto_open.js-vflBgcxG7.map

//# debugId=90a02dff-ea69-3a64-9986-74608029dc78