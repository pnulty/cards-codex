!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f22b55f9-8381-3474-9055-274a025a3b60")}catch(e){}}();
define(["require","exports","./e_ui_page_files_router","./c_keymaster","react","./c_core_i18n","./c_google_one_tap_google_one_tap_platform","./c_dash_bridge_gating_utils","./c_lib_logging","./c_pap-events_replay_shown_modal","./e_edison","./c_bem","./c_action_bar_action_bar_constants","./c_src_sink_index","./c_download_components_download-warning-modal","./c_react_query_helpers_queries_upload_info","./c_bug_reporting_routing","./c_dig-foundations_stack","./c_ncct_manual_assist_util","./e_core_exception","./c_common_logging-contexts_sharing-keys","./c_common_logging-contexts_sharing-surface","./c_dig-components_banner_index","./c_common_logging_uxa_udcl_double_logger","./c_file_viewer_common_logged_out_editing","./c_dig-icons_assets_ui-icon_line_redo","./c_flux_action_type","./c_sharing_ui_notifications_util","./c_share_modal_evolution_utils_logging","./c_sharing_sharing_pap_logging_create_shared_link_util","./c_sharing_sharing_pap_logging_copy_shared_link_util","./c_sharing_sharing_pap_logging_shared_link_util","./c_src_common_format_bytes","./c_shared-link-attribution-tracking_components_sender_trackey_vendor","./c_dig-icons_assets_ui-icon_line_link","./c_dig-icons_assets_ui-icon_fill_ai","./c_action_bar_action_bar_strings","./c_dig-icons_assets_ui-icon_line_upload","./c_file_actions_portable_select_destination","./c_dig-icons_assets_ui-icon_line_sidebar-hide","./c_shareme24_browse_integration_async-show-shareme24","./c_file_viewer_api_data","./e_data_modules_stormcrow","./c_dig-components_label_group_index","./c_dig-components_breadcrumb_index","./c_file_viewer_api_navigation","./c_file_viewer_preview_archive","./c_pass_pass_helpers","./c_core_utils_browser_detection","./c_file_viewer_hooks_lifecycle_logging","./c_internals_content-manager-integration_async-show-access-management","./c_react_query_api_helpers_queries_seen_state_info","./c_file_viewer_components_preview","./c_dig-icons_assets_ui-icon_line_zip","./c_pdf_editor_utils_entry_point_util","./c_preview_audio_video_video_editing_constants","./c_shared_link_logging_utils","./c_dig-icons_assets_ui-icon_line_rewind","./c_dropbox_ai_assistant_dash_chat_dash_chat_button_portal","./c_file_viewer_api_ui","./c_conversions_actions_unzip","./c_sharing_logger","./c_react_query_helpers_queries_file_content_metadata","./c_file_viewer_toolbar_utils","./c_dig-icons_assets_ui-icon_line_quota-reached","./c_file_viewer_components_preview_button","./c_file_viewer_titlebar_use_titlebar_editor_action","./c_src_components_loading","./c_src_components_action-bar-strings","./c_pdf_editor_utils_nonce_random_subdomain","./c_dig-icons_assets_ui-icon_line_slider","./c_dig-icons_assets_ui-icon_line_shape-rotate-right","./c_dig-icons_assets_ui-icon_line_image-enhance","./c_dig-icons_assets_ui-icon_line_text-box","./c_dig-icons_assets_ui-icon_line_scribble","./c_dig-icons_assets_ui-icon_line_video","./c_dig-icons_assets_ui-icon_line_cut","./c_file_viewer_keyboard_keyboard_connector","./c_file_viewer_toolbar_action_bar","./c_flows_redux_reducer","./c_file_viewer_hooks_usePrevious","./c_file_viewer_toolbar_toolbar_holder","./c_core_riviera_transcripts","./c__rollupPluginBabelHelpers","./c_over-quota_over-quota-sweep-blocking-modal_use_over_quota_sweep_blocking_modal","./c_file_viewer_preview_logger","./c_files_view_unity_listener","./c_sharing_async_share_modal_util","./c_styled-components","./c_continuous_onboarding_milestone_api","./c_portable_delete_snackbars","./c_api_v2_redux_base_action","./c_watermarking_utils_getImageDefaultSizes","./c_previews_util","./c_file_activity_data_store","./c_file_viewer_logging_timing","./c_src_right-rail_right_rail","./c_viewer_helpers","./c_mobile_web_assets_document_lottie","./c_sharing_ui_util","./c_dig-icons_assets_ui-icon_external-logo_twitter"],(function(e,t,i,a,n,r,o,s,l,c,d,u,_,m,p,f,g,S,E,v,h,w,T,I,b,y,A,P,C,N,D,L,M,O,k,R,x,F,U,B,V,W,H,K,G,z,j,Z,q,J,Y,X,Q,$,ee,te,ie,ae,ne,re,oe,se,le,ce,de,ue,_e,me,pe,fe,ge,Se,Ee,ve,he,we,Te,Ie,be,ye,Ae,Pe,Ce,Ne,De,Le,Me,Oe,ke,Re,xe,Fe,Ue,Be,Ve,We,He,Ke,Ge,ze,je){"use strict";function Ze(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}var qe=Ze(n);function Je(){const e=/comment_id=(.*)/.exec(i.get_uri().getFragment());return e?e[1]:void 0}function Ye(){const e=i.get_uri().getQuery().shouldFocusComment;return e?Boolean(e):void 0}const Xe=({file:e,previewType:t,sharePermission:a,user:n})=>{if(!n||!e)return!1;if(i.isEncryptedFile(e))return!1;if(a&&!p.isDownloadAllowed(a))return!1;if(!t||t===i.PreviewType.Loading){const a=i.getExtension(e);t=i.resolvePreviewTypeFromExtension(`.${a}`)}return!_.is_supported_mobile_browser()&&(t===i.PreviewType.Video||t===i.PreviewType.Audio)},Qe=e=>et()?qe.default.createElement(i.Text,{color:"faint",tagName:"div",...e},r.intl.formatMessage({id:"EvntjN",defaultMessage:"Tapping Get the app will copy a link and open the content in the app"})):null;Qe.displayName="CopyUrlLabelText";const $e=e=>et()?qe.default.createElement(i.Text,{color:"faint",tagName:"div",...e},r.intl.formatMessage({id:"9DAAGa",defaultMessage:"Tapping Open in app will copy a link and open the content in the app"})):null;function et(){return _.iOS&&(window.location.pathname.startsWith("/s/")||window.location.pathname.startsWith("/sh/")||window.location.pathname.startsWith("/scl/"))}$e.displayName="CopyUrlLabelTextInterstitial";let tt=!1;const it=(e,t)=>(function(){if(et()){const e=new URL(window.location.href);v.copyToClipboard(e.href)}}(),((e,t)=>{if(e.includes("launch_ios_or_fallback_page"))return i.redirect(e);if(tt)return;if(!t)return i.redirect(e);let a=null,n=!1;const r=()=>n=!0;document.addEventListener("visibilitychange",r),setTimeout((()=>{document.removeEventListener("visibilitychange",r)}),4e3),a&&document.body.removeChild(a),a=document.createElement("iframe"),a.src=t||"",a.style.display="none",document.body.append(a),setTimeout((()=>{tt=!1,document.removeEventListener("visibilitychange",r),n||e&&window.location.replace(e)}),3200),tt=!0})(e,t));i.injectInternalStyle("/static/metaserver/static/js/file_viewer/app_download_interstitial/app_download_interstitial.module.out-vflcdV3Ip.css",(e=>"._app-download-interstitial-container_xwnmd_1{align-items:stretch;background:var(--dig-color__background__base);bottom:0;box-sizing:border-box;display:flex;flex-direction:column;height:100%;justify-content:center;padding:20px;position:fixed;top:0;width:100vw;z-index:21}._dropbox-logo_xwnmd_19{align-content:baseline;align-items:baseline;display:flex;flex-direction:row;justify-content:center;margin:var(--dig-spacing__micro__small) 0;width:auto}._dropbox-logo_xwnmd_19>svg{height:60px}._app-download-interstitial-close_xwnmd_34{box-sizing:content-box;color:var(--dig-color__text__subtle);padding:var(--dig-spacing__micro__large);position:absolute;right:0;top:0;z-index:1}._app-download-interstitial-container_xwnmd_1>header,._app-download-interstitial-ctas_xwnmd_45{flex-shrink:0}._app-download-interstitial-ctas_xwnmd_45{flex-shrink:0;padding:0 40px}._app-download-interstitial-cta_xwnmd_45{display:block;margin-bottom:var(--dig-spacing__micro__large);width:100%}._app-download-interstitial-cta_xwnmd_45:last-child{margin-bottom:0}._app-download-interstitial-content_xwnmd_65{display:flex;flex-direction:column;flex-grow:1;justify-content:center;padding:0;text-align:center}._app-download-interstitial-content_xwnmd_65>header{flex-shrink:0}._app-download-interstitial-content-thumbnail_xwnmd_78{align-items:center;display:flex;flex-direction:column;flex-grow:1;font-weight:500;justify-content:center}._app-download-interstitial-content-thumbnail_xwnmd_78>div{max-width:100%;padding-bottom:var(--dig-spacing__micro__small)}._app-download-interstial-copy-notification_xwnmd_92{padding-bottom:var(--dig-spacing__micro__small);text-align:center}._file-icon_xwnmd_97{flex:1 1 0;max-height:160px}._vish-mweb-interstitial-container_xwnmd_105{background-color:var(--dig-color__background__subtle);justify-content:flex-start;overflow:auto;padding:var(--dig-spacing__macro__small,24px)}._vish-mweb-interstitial-content_xwnmd_112{display:flex;flex:1 1 auto;flex-direction:column;margin-top:var(--dig-spacing__macro__xsmall,16px);text-align:center}._vish-mweb-interstitial-content-child_xwnmd_120{flex:0 1 auto;margin-bottom:var(--dig-spacing__macro__xlarge,48px)}._vish-mweb-interstitial-content-subtitle_xwnmd_125{font-size:32px;letter-spacing:-.32px;line-height:120%;text-align:start}._vish-mweb-interstitial-file-name_xwnmd_132{display:inline-flex;font-weight:500}._vish-mweb-interstitial-dropbox-logo_xwnmd_138,._vish-mweb-interstitial-file-name_xwnmd_132{color:var(--dig-color__text__base)}._vish-mweb-interstitial-dropbox-logo_xwnmd_138>svg{height:auto}._vish-mweb-interstitial-content-thumbnail_xwnmd_146{align-items:center;display:flex;flex:1 1 auto;flex-direction:column;justify-content:center}._vish-mweb-lottie-container_xwnmd_154{border-radius:16px;height:100%;width:100%}._vish-mweb-lottie-container_xwnmd_154>canvas{border-radius:16px}._vish-mweb-interstitial-button-group_xwnmd_164{flex:0 1 auto}@media screen and (max-height:740px){._vish-mweb-interstitial-content_xwnmd_112{margin-top:0}._vish-mweb-interstitial-content-child_xwnmd_120{margin-bottom:var(--dig-spacing__macro__small,24px)}}@media screen and (max-height:670px){._vish-mweb-interstitial-dropbox-logo_xwnmd_138{margin:0}._vish-mweb-interstitial-content-subtitle_xwnmd_125{font-size:var(--type__title__standard--fontsize)}}@media screen and (max-height:600px){._vish-mweb-interstitial-content-child_xwnmd_120{margin-bottom:var(--dig-spacing__macro__xsmall,16px)}}"));const at="_vish-mweb-interstitial-content-child_xwnmd_120";function nt(e){return{class:"sharing_receiver",action:"select",object:"preview_interstitial_action",properties:e}}const rt=Symbol("ON_MOUNTED"),ot=Symbol("ON_CLOSE_CLICK"),st=Symbol("ON_CONTINUE_CLICK"),lt=Symbol("ON_OPEN_APP_CLICK"),{useEmitter:ct,defaultEmitter:dt}=l.defineLogger((async({event:e,getContextValue:t})=>{const a=t(w.Context),n=t(h.Context),r=await h.getHashedKeys(n),o={...h.getTags(r),...w.getTags(a)},s={...h.getProperties(r),...w.getProperties(a)};e.key!==ot?e.key!==st?e.key!==lt?e.key!==rt||i.UDCL.logEvent(function(e){return{class:"sharing_receiver",action:"view",object:"preview_interstitial",properties:e}}({...s}),{tags:{...o}}):i.UDCL.logEvent(nt({...s,previewInterstitialAction:"get_the_app"}),{tags:{...o,previewInterstitialAction:"get_the_app"}}):i.UDCL.logEvent(nt({...s,previewInterstitialAction:"continue_to_website"}),{tags:{...o,previewInterstitialAction:"continue_to_website"}}):i.UDCL.logEvent(nt({...s,previewInterstitialAction:"close"}),{tags:{...o,previewInterstitialAction:"close"}})})),ut={jpg:"image",jpeg:"image",png:"image",heic:"image",gif:"image",tiff:"image",bmp:"image",svg:"image",raw:"image",webp:"image",pdf:"document",doc:"document",docx:"document",xlx:"document",xlsx:"document",ppt:"document",pptx:"document",odt:"document",odp:"document",ods:"document",rtf:"document",txt:"document",csv:"document",html:"document",htm:"document",xml:"document",mp4:"video",mov:"video",avi:"video",mkv:"video",wmv:"video",flv:"video",mpeg:"video","3gp":"video",webm:"video",ogv:"video",rm:"video",swf:"video",mp3:"audio",wav:"audio",flac:"audio",aac:"audio",ogg:"audio",m4a:"audio",wma:"audio",aiff:"audio",ape:"audio",midi:"audio",tff:"font",otf:"font",zip:"zip",rar:"zip",tar:"zip",gz:"zip"};function _t(e,t=!1){i.areUrlsIOS(e)?it(e.iOSAppStoreUrl,t?void 0:e.iOSAppUrl):i.areUrlsAndroid(e)&&(e=>{const t=`intent://${E.getDomains().WEBSERVER}/`;u.assert(e.startsWith(t),"intentUrl must use intent:// protocol"),window.location.href=e})(e.androidAppUrl)}const mt=qe.default.lazy((()=>new Promise((function(t,i){e(["./c_lottie-react_index"],t,i)})))),pt=()=>qe.default.createElement("header",{style:{flex:"0 1 auto"}},qe.default.createElement("h1",{className:i.cx("_dropbox-logo_xwnmd_19","_vish-mweb-interstitial-dropbox-logo_xwnmd_138")},qe.default.createElement(i.WordmarkLogo,{size:40,src:i.FssWordmark,"aria-label":"FssWordmark"})));pt.displayName="Header";const ft=({appUrls:e,onContinue:t,onAppDownload:a})=>{const n=ct(),o=qe.default.useCallback((()=>{n.select(lt).emit(null),null==a||a(),_t(e)}),[e,a,n]),s=qe.default.useCallback((()=>{n.select(st).emit(null),null==t||t()}),[n,t]);return qe.default.createElement(S.Stack,{display:"flex",align:"center",className:"_vish-mweb-interstitial-button-group_xwnmd_164"},qe.default.createElement($e,{className:"_app-download-interstial-copy-notification_xwnmd_92"}),qe.default.createElement(i.Button,{size:"xlarge",variant:"primary",fullWidth:!0,onClick:o},r.intl.formatMessage({id:"pI0YMY",defaultMessage:"Open in app"})),qe.default.createElement(i.Button,{size:"large",variant:"transparent",onClick:s,style:{marginBottom:"24px",marginTop:"24px"}},r.intl.formatMessage({id:"FlezWD",defaultMessage:"Open in browser"})))};ft.displayName="ButtonSet";const gt=({fileOrFolderName:e,ownerName:t,ownerTeamName:a,animationData:n})=>{const o={loop:!1,autoplay:!0,animationData:n,rendererSettings:{preserveAspectRatio:"xMidYMid slice"},renderer:"canvas"};return qe.default.createElement("section",{className:"_vish-mweb-interstitial-content_xwnmd_112"},qe.default.createElement("header",{className:at},qe.default.createElement(i.Text,{variant:"paragraph",size:"xlarge",tagName:"div",color:"subtle","data-testid":"interstitialTitle"},r.intl.formatMessage({id:"aDzTn/",defaultMessage:"{name} shared <bold>{contentName}</bold> with you."},{name:(s=t,l=a,s&&l?`${s} (${l})`:s&&!l?s:!s&&l?l:""),bold:e=>qe.default.createElement(i.Truncate,{className:"_vish-mweb-interstitial-file-name_xwnmd_132",location:.5,observeParent:!0},e),contentName:e}))),qe.default.createElement("div",{className:i.cx("_vish-mweb-interstitial-content-thumbnail_xwnmd_146",at)},qe.default.createElement(qe.default.Suspense,{fallback:null},!!n&&0!==Object.keys(n).length&&qe.default.createElement(mt,{className:"_vish-mweb-lottie-container_xwnmd_154","aria-label":r.intl.formatMessage({id:"+VVQqK",defaultMessage:"file thumbnail animation"}),...o}))),qe.default.createElement(i.Title,{weightVariant:"normal",size:"large",className:i.cx("_vish-mweb-interstitial-content-subtitle_xwnmd_125",at)},r.intl.formatMessage({id:"1dxAlQ",defaultMessage:"Get the best experience in the app"})));var s,l};gt.displayName="Content";const St=({children:e})=>qe.default.createElement(i.ThemeProvider,{mode:"bright",theme:"vis2023",_dangerouslyEnableMultipleThemes:!0},qe.default.createElement(i.ThemeContainer,null,e));St.displayName="InterstitialTheme";const Et=t=>{const{className:a,openInAppData:n,fileOrFolderName:r,isFolder:o=!1,onContinue:s,onAppDownload:l,ownerName:c,ownerTeamName:d}=t,u=ct(),[_,m]=qe.default.useState({});qe.default.useEffect((()=>{u.select(rt).emit(null)}),[]),qe.default.useEffect((()=>{!async function(){let t="catch_all";const a=i.file_extension(r);let n;!o&&a in ut&&(t=ut[a]),n="document"===t?await new Promise((function(t,i){e(["./c_mobile_web_assets_document_lottie"],t,i)})).then((function(e){return e.document_lottie_esnext})):"image"===t?await new Promise((function(t,i){e(["./c_mobile_web_assets_image_lottie"],t,i)})):"audio"===t?await new Promise((function(t,i){e(["./c_mobile_web_assets_audio_lottie"],t,i)})):"video"===t?await new Promise((function(t,i){e(["./c_mobile_web_assets_video_lottie"],t,i)})):"font"===t?await new Promise((function(t,i){e(["./c_mobile_web_assets_font_lottie"],t,i)})):"zip"===t?await new Promise((function(t,i){e(["./c_mobile_web_assets_zip_lottie"],t,i)})):await new Promise((function(t,i){e(["./c_mobile_web_assets_catch_all_lottie"],t,i)})),m(null==n?void 0:n.LOTTIE_ANIMATION)}()}),[]);const p={...n};i.addCampaignToOpenInAppUrls(p,"interstitial");const f=qe.default.createElement(qe.default.Fragment,null,qe.default.createElement(gt,{fileOrFolderName:r,ownerName:c,ownerTeamName:d,animationData:_}),qe.default.createElement(ft,{onContinue:s,onAppDownload:l,appUrls:p}));return qe.default.createElement(St,null,qe.default.createElement("section",{className:i.cx("_app-download-interstitial-container_xwnmd_1",a,"_vish-mweb-interstitial-container_xwnmd_105")},qe.default.createElement(pt,null),f))};Et.displayName="AppDownloadInterstitial";const vt=i.requireCssWithComponent(Et,["/static/metaserver/static/css/dig-components/index.web-vflaJWt-u.css"]);i.injectInternalStyle("/static/metaserver/static/js/open_in_app/ui/banner.module.out-vflL_d5ex.css",(e=>"._banner_1tmhj_1{background-color:var(--color__highlight__temporary);display:flex;justify-content:space-between;z-index:10}._text-container_1tmhj_9{flex-grow:1;padding:var(--spacing__unit--2)}._copy-notification_1tmhj_14{padding-top:var(--spacing__unit--1)}._banner_1tmhj_1 ._close-button_1tmhj_18{align-self:center;box-sizing:content-box;display:flex;padding:0 var(--spacing__unit--1)}._open-app-store-button_1tmhj_25{margin-left:var(--spacing__base_unit)}"));const ht=e=>{const{onClick:t,onClose:a,urls:n,isMountedFile:o}=e,[s,l]=qe.default.useState(!1),c=qe.default.useCallback((()=>{l(!0),null==a||a()}),[a]),d=qe.default.useCallback((()=>{null==t||t(),_t(n)}),[t,n]),u=qe.default.useCallback((()=>{n&&i.areUrlsIOS(n)&&it(n.iOSAppStoreUrl,void 0)}),[n]),m=!(!_.iOS||!_.chrome&&!_.mozilla&&!_.edge);return s||!n?null:_.iOS?qe.default.createElement(T.Banner,{type:"attention",withLeftIcon:!1,withCloseButton:"Close",onRequestClose:c},qe.default.createElement(T.Banner.Message,null,r.intl.formatMessage({id:"eNdtXI",defaultMessage:"Browse files faster in the Dropbox app"})),qe.default.createElement(T.Banner.Actions,null,m?qe.default.createElement(i.Button,{onClick:d,variant:"outline",withIconLeft:qe.default.createElement(i.UIIcon,{src:i.DropboxLine})},r.intl.formatMessage({id:"pWCK/n",defaultMessage:"Open in App"})):qe.default.createElement(i.Button,{onClick:u,variant:"outline",withIconLeft:qe.default.createElement(i.UIIcon,{src:i.DropboxLine}),className:"_open-app-store-button_1tmhj_25"},r.intl.formatMessage({id:"u+BJBi",defaultMessage:"Get the App"})))):qe.default.createElement("div",{className:"_banner_1tmhj_1"},qe.default.createElement("div",{className:"_text-container_1tmhj_9"},qe.default.createElement(i.Button,{onClick:d,variant:"transparent",hasNoUnderline:!0},o&&n.platform===i.OpenInMobileAppPlatform.ANDROID_MARKET?r.intl.formatMessage({id:"gxO/+x",defaultMessage:"Open App"}):r.intl.formatMessage({id:"pezXnL",defaultMessage:"View In App"})),qe.default.createElement(Qe,{className:"_copy-notification_1tmhj_14",color:"standard",size:"small"})),qe.default.createElement(i.IconButton,{variant:"transparent",className:"_close-button_1tmhj_18",size:"large","aria-label":r.intl.formatMessage({id:"LwqLT7",defaultMessage:"Close"}),onClick:c},qe.default.createElement(i.UIIcon,{src:i.CloseLine})))};ht.displayName="OpenInAppBanner";const wt=e=>{const{file:t,sharedLinkInfo:a,onDismiss:n,openInAppData:r,onAppDownload:o,logUserAction:s,deviceId:l}=e,c=i.getFilename(t),d=qe.default.useCallback((e=>{null==s||s(e,i.UserActionContext.AppDownloadInterstitial)}),[s]);qe.default.useEffect((()=>{i.mark_time_to_interactive(),d(i.UserAction.AppDownloadInterstitialView),I.SUSIUXAEventLogger.logDeviceIdWithSource("file_viewer",l)}),[l,d]);const u=qe.default.useCallback((()=>{n(),d(i.UserAction.AppDownloadInterstitialContinue)}),[n,d]),_=qe.default.useCallback((()=>{d(i.UserAction.AppDownloadInterstitialInstall),null==o||o()}),[d,o]);return qe.default.createElement(g.RegisterComponentWithBugReporter,{jiraComponent:"previews",displayName:"File Preview"},qe.default.createElement("div",{"aria-label":c},qe.default.createElement(vt,{fileOrFolderName:c,openInAppData:r,onContinue:u,onAppDownload:_,ownerName:a.ownerName,ownerTeamName:a.ownerTeamName})))};wt.displayName="FvsdkAppDownloadInterstitial";const Tt=e=>{const{onHide:t,user:a,activePreviewFile:n}=e,{logUserAction:r}=i.useFileViewerContext(),o=qe.default.useCallback((()=>{r(i.UserAction.OpenInApp,i.UserActionContext.OpenInAppBanner)}),[r]),s=qe.default.useCallback((()=>{r(i.UserAction.OpenInAppBannerClose,i.UserActionContext.OpenInAppBanner),t()}),[r,t]);if(!_.is_mobile_or_tablet()&&(_.iOS||_.is_android()))return null;const{file:l,shareToken:c,sharePermission:d,sharedLinkInfo:u,openInAppData:m}=n,p=i.prepareOpenInAppData(m,l,a,i.UserActionContext.OpenInAppBanner);if(p){const e=!(l&&c&&d);return qe.default.createElement("div",{style:{width:"100%"},tabIndex:0},qe.default.createElement(ht,{urls:p,onClick:o,onClose:s,isMountedFile:e}))}return null};Tt.displayName="OpenInAppHeader",Tt.displayName="OpenInAppHeader";const It=qe.default.createContext(null);It.displayName="PluginMigrationContext";const bt=()=>qe.default.useContext(It),yt=It.Provider,At=e=>(e=>!!(e||new URL(window.location.href)).searchParams.get("transcript"))(e)||(e=>!!(e||new URL(window.location.href)).searchParams.get(i.DASH_CONVERSATION_ID_PARAM))(e),Pt=(e,t,a,n)=>{const r=qe.useRef(!1),o=void 0!==t.defaultRightSidebar,s=i.useIsMobileScreen(i.Breakpoint.MOBILE),l=(()=>{const[e,t]=qe.useState((()=>{const e=new URL(window.location.href);return At(e)}));return qe.useEffect((()=>{const e=new URL(window.location.href);t(At(e))}),[]),e})();qe.useEffect((()=>{r.current||!e||o||l||n||(r.current=!0,i.dispatchWebIAUserAction({type:"previews.auto_open",file:a,isMobile:s}))}),[l,a,o,s,e,n])};i.injectInternalStyle("/static/metaserver/static/js/file_viewer/file_viewer.module.out-vflVquNPf.css",(e=>":root{--file_viewer_z_index:500}._fvsdk-container_ba0ho_5{bottom:0;display:flex;flex-direction:column;left:0;position:fixed;right:var(--files-global-sidebar-width,0);top:0;z-index:var(--file_viewer_z_index)}[dir=rtl] ._fvsdk-container_ba0ho_5{left:var(--files-global-sidebar-width,0);right:0}body.global-sidebar-animated ._fvsdk-container_ba0ho_5{transition:right var(--duration__surface) var(--easing__transition)}._fvsdk-embed-viewport_ba0ho_25{height:100%;position:relative}body,html{height:100%}"));i.injectInternalStyle("/static/metaserver/static/js/file_viewer/file_viewer_layout.module.out-vflADVDnJ.css",(e=>"@media (max-width:600px){._container_10wwt_2{width:100%!important}}._editPluginFullscreenContainer_10wwt_6{background:var(--color__standard__background);height:100%}._rendererRow_10wwt_11{background:var(--dig-color__background__subtle);display:flex;flex:1;flex-direction:row;min-height:0;width:100%}._footerRow_10wwt_20{width:100%}._centerSection_10wwt_24{display:flex;flex-direction:column;height:100%;width:100%}._titleBarWrapper_10wwt_31{background:var(--dig-color__background__raised);opacity:1;transition:opacity var(--duration__micro) var(--easing__transition)}._titleBarBorder_10wwt_37{border-bottom:1px solid var(--dig-color__border__subtle)}._titleBarWrapper_10wwt_31._hidden_10wwt_41{opacity:0}._titleBarWrapper_10wwt_31._isVideo_10wwt_45._isFullScreen_10wwt_45{position:absolute;top:0;width:100%;z-index:1}"));var Ct,Nt;t.MobileWebActionSource=void 0,(Ct=t.MobileWebActionSource||(t.MobileWebActionSource={})).MOBILE_ACTION_SHEET="preview_overflow_menu",Ct.MOBILE_ACTION_BAR="preview_toolbar",Ct.MOBILE_TITLEBAR="preview_top_nav",Ct.MOBILE_LEGACY_BANNER="preview_legacy_banner",t.DownloadAppModalType=void 0,(Nt=t.DownloadAppModalType||(t.DownloadAppModalType={})).EditVideo="edit_video",Nt.EditImage="edit_image",Nt.Comment="comment",Nt.Sign="sign",Nt.AddText="add_text";const Dt=(a,n,o,s)=>({key:"comment",label:r.defineMessage({id:"HP8jmQ",defaultMessage:"Add a comment"}),icon:y.CommentLine,handler:async()=>{s(i.UserAction.Comment,o);const{DownloadAppModal:r}=await new Promise((function(t,i){e(["./c_actions_download_app_modal_modal"],t,i)}));i.Modal.showInstance(qe.default.createElement(r,{type:t.DownloadAppModalType.Comment,activePreviewFile:a,user:n,source:o}))},dismissDrawerOnAction:!0,disabled:{disabled:!1}}),Lt=l.defineContext({isConfidential:null}),Mt=({isConfidential:e})=>({isConfidential:null===e?"unknown":String(e)});var Ot,kt;!function(e){e.SHARED_LINK_ALREADY_EXISTS="shared_link_already_exists",e.ACCESS_DENIED="access_denied",e.PATH="path",e.NOT_FOUND="not_found",e.EMAIL_NOT_VERIFIED="email_not_verified",e.SETTINGS_ERROR="settings_error",e.NOT_AUTHORIZED="not_authorized",e.UNDEFINED_ERROR="undefined_error"}(Ot||(Ot={})),function(e){e.CLIPBOARD_API="clipboard_api",e.EXEC_COMMAND="exec_command"}(kt||(kt={}));const Rt="sharing-notification",xt=e=>{const{metadata:t}=e;v.copyToClipboard(t.url,(()=>{Ft(e,kt.EXEC_COMMAND)}),(()=>{Ut(e)}))},Ft=(e,t)=>{const i=e.metadata?e.metadata.url:"";P.showCopyLinkSuccessSnackbar(i,Ht(e.metadata)),Kt({file:e.file,user:e.user,event:A.TiburonEventName.CopySharedLink,metadata:e.metadata,extras:{created_new_link:e.isNewlyCreated,copy_method:t,sender_trackey:O.getSenderTrackeyFromURL(i)},surfaceOrigin:e.userActionSource}),D.logPAPCopySharedLinkEvent({eventState:"success",actionSurface:e.actionSurface,requestedAccessLevel:e.requestedAccessLevel,fileIdOrPath:Vt(e.file),content:L.getContentFromFile(e.file),metadata:e.metadata,httpCode:e.httpCode})},Ut=e=>{(e=>{if(navigator.clipboard){const t=e.metadata.url;navigator.clipboard.writeText(t).then((function(){Ft(e,kt.CLIPBOARD_API)}),(function(){Bt(e)}))}else Bt(e)})(e)},Bt=e=>{const t=e.metadata?e.metadata.url:"";P.showCopyLinkErrorSnackbar(t,Ht(e.metadata)),Kt({file:e.file,user:e.user,event:A.TiburonEventName.CopySharedLinkFailure,metadata:e.metadata,extras:{error:"failed_copy_to_clipboard"},surfaceOrigin:e.userActionSource}),D.logPAPCopySharedLinkEvent({eventState:"failed",actionSurface:e.actionSurface,requestedAccessLevel:e.requestedAccessLevel,fileIdOrPath:Vt(e.file),content:L.getContentFromFile(e.file),exception:L.CopyLinkException.FAILED_COPY_TO_CLIPBOARD,metadata:e.metadata,httpCode:e.httpCode})},Vt=e=>e.file_id||e.fq_path,Wt=e=>{i.Snackbar.close(Rt),D.logPAPCopySharedLinkEvent({eventState:"start",actionSurface:e.actionSurface,requestedAccessLevel:e.requestedAccessLevel,fileIdOrPath:Vt(e.file),content:L.getContentFromFile(e.file),metadata:e.metadata}),xt(e)},Ht=e=>{const t=e?e.link_permissions.link_access_level:void 0;let i="viewer";return t&&(i=t.hasOwnProperty(".tag")?t[".tag"]:t),i},Kt=({file:e,user:t,event:a,metadata:n,extras:r={},surfaceOrigin:o})=>{const s=o===i.ActionSourceValue.OVERFLOW_MENU?i.SHARE_ACTION_ORIGIN_TYPE.BROWSE_FILE_ROW_OVERFLOW_MENU:i.SHARE_ACTION_ORIGIN_TYPE.BROWSE_FILE_ROW_BUTTON,l=_.get_browser_info();i.ShareTibEventLogger.log(t.id,a,s,{...C.buildExtraFromLinkMetadata(n),file_id:e.file_id,fq_path:e.fq_path,browser:l.browser,browser_version:l.version,...r})},Gt=({file:e,user:t,surfaceOrigin:i,exceptionType:a,httpCode:n,requestedAccessLevel:r,actionSurface:o})=>{Kt({file:e,user:t,event:A.TiburonEventName.FailCreateSharedLinkWithSettings,extras:{error_message:a,http_status_code:n,is_alpha:!1},surfaceOrigin:i}),Kt({file:e,user:t,event:A.TiburonEventName.CopySharedLinkFailure,extras:{error:a},surfaceOrigin:i}),N.logPAPCreateSharedLinkEvent({eventState:L.getErrorState(a),actionSurface:o,requestedAccessLevel:r,fileIdOrPath:Vt(e),content:L.getContentFromFile(e),httpCode:n,exception:a}),D.logPAPCopySharedLinkEvent({eventState:L.getErrorState(a),actionSurface:o,requestedAccessLevel:r,fileIdOrPath:Vt(e),content:L.getContentFromFile(e),httpCode:n,exception:a})},zt=e=>new i.FileShareApiClient({userApiProps:e}),jt=()=>{const e=document.createElement("input");e.setAttribute("tabindex","-1"),e.value="sharing is caring",document.body.appendChild(e),e.select();const t=document.queryCommandEnabled("copy");return document.body.removeChild(e),t};function Zt(e,t){t(!1,Vt(e.file));const i=O.vendSenderTrackey();e.metadata=O.getNewLinkMetadataWithSenderTrackeyURL(e.metadata,i),jt()?xt(e):(D.logPAPCopySharedLinkEvent({eventState:"canceled",actionSurface:e.actionSurface,requestedAccessLevel:e.requestedAccessLevel,fileIdOrPath:Vt(e.file),content:L.getContentFromFile(e.file),metadata:e.metadata,httpCode:e.httpCode}),P.showCopyLinkCTASnackbar(e.metadata.url,(()=>{Wt(e)}),Rt,Ht(e.metadata))),Kt({file:e.file,user:e.user,event:A.TiburonEventName.SucceedCreateSharedLinkWithSettings,metadata:e.metadata,extras:{created_new_link:e.isNewlyCreated,http_status_code:e.httpCode,response_status:"success",is_alpha:!1},surfaceOrigin:e.userActionSource}),N.logPAPCreateSharedLinkEvent({eventState:"success",actionSurface:e.actionSurface,requestedAccessLevel:e.requestedAccessLevel,fileIdOrPath:Vt(e.file),content:L.getContentFromFile(e.file),metadata:e.metadata,httpCode:e.httpCode})}const qt=(e,a,n,o)=>{const{file:s}=e;return{key:"copyLink",label:n===t.MobileWebActionSource.MOBILE_ACTION_BAR?r.defineMessage({id:"VqI9yS",defaultMessage:"Copy link"}):r.defineMessage({id:"notAEr",defaultMessage:"Copy share link"}),icon:k.LinkLine,handler:async()=>{if(o("copy_link",n),i.isBrowseFile(s)&&a)!function(e,t,i,a,n,r){n=n||{access:{".tag":"max"}},P.showCopyLinkProgressSupportedBrowserSnackbar();const o=Vt(t);i(!0,o);const s=(null==n?void 0:n.access)?null==n?void 0:n.access[".tag"]:"max",l=r?"web_mobile":"browse_screen";N.logPAPCreateSharedLinkEvent({eventState:"start",actionSurface:l,requestedAccessLevel:s,fileIdOrPath:Vt(t),content:L.getContentFromFile(t)}),D.logPAPCopySharedLinkEvent({eventState:"start",actionSurface:l,requestedAccessLevel:s,fileIdOrPath:Vt(t),content:L.getContentFromFile(t)}),zt(e).createSharedLinkNonAlpha({fileIdOrPath:o,settings:n}).then((n=>{Zt({file:t,user:e,metadata:n,isNewlyCreated:!0,userActionSource:a,requestedAccessLevel:s,actionSurface:l,httpCode:200},i)})).catch((async n=>{var r;if(n.error[".tag"]===Ot.SHARED_LINK_ALREADY_EXISTS){let o=null===(r=n.error.shared_link_already_exists)||void 0===r?void 0:r.metadata;o||(o=(await zt(e).sharedLinkInfo({fileIdOrPath:t.fq_path}))[0]),Zt({file:t,user:e,metadata:o,isNewlyCreated:!1,userActionSource:a,requestedAccessLevel:s,actionSurface:l,httpCode:n.raw&&n.raw.status},i)}else if(n.error[".tag"]===Ot.ACCESS_DENIED)i(!1,o),P.showCopyLinkNoPermissionSnackbar(),Gt({file:t,user:e,surfaceOrigin:a,exceptionType:n.error[".tag"],httpCode:n.raw&&n.raw.status,requestedAccessLevel:s,actionSurface:l});else if(n.error[".tag"]===Ot.SETTINGS_ERROR&&n.error.settings_error[".tag"]===Ot.NOT_AUTHORIZED)i(!1,o),P.showCopyLinkNoPermissionSnackbar(),Gt({file:t,user:e,surfaceOrigin:a,exceptionType:n.error.settings_error[".tag"],httpCode:n.raw&&n.raw.status,requestedAccessLevel:s,actionSurface:l});else if(n.error[".tag"]===Ot.PATH&&n.error.path[".tag"]===Ot.NOT_FOUND)i(!1,o),P.showCopyLinkNotFoundSnackbar(),Gt({file:t,user:e,surfaceOrigin:a,exceptionType:n.error.path[".tag"],httpCode:n.raw&&n.raw.status,requestedAccessLevel:s,actionSurface:l});else if(n.error[".tag"]===Ot.EMAIL_NOT_VERIFIED)i(!1,o),P.showCopyLinkEmailNotVerifiedSnackbar(),Gt({file:t,user:e,surfaceOrigin:a,exceptionType:n.error[".tag"],httpCode:n.raw&&n.raw.status,requestedAccessLevel:s,actionSurface:l});else{i(!1,o);const r=n.error[".tag"]?n.error[".tag"]:Ot.UNDEFINED_ERROR;P.showCopyLinkCatchallSnackbar(),Gt({file:t,user:e,surfaceOrigin:a,exceptionType:r,httpCode:n.raw&&n.raw.status,requestedAccessLevel:s,actionSurface:l})}}))}(a,s,(()=>{}),void 0,void 0,!0);else{const e="web_mobile",t=i.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,n=O.vendSenderTrackey(),r=O.appendTrackeyToSharedLinkAndSortParams(s.href,n),o=_.get_browser_info(),l={file_id:s.file_id,browser:o.browser,browser_version:o.version,sender_trackey:n};D.logPAPCopySharedLinkEvent({eventState:"start",actionSurface:e,fileIdOrPath:s.file_id,content:L.getContentFromFile(s),url:r}),v.copyToClipboard(r,(()=>{const n=A.TiburonEventName.CopySharedLink;a?i.ShareTibEventLogger.log(a.id,n,t,l):i.ShareTibEventLogger.log_unauth(n,t,l),D.logPAPCopySharedLinkEvent({eventState:"success",actionSurface:e,fileIdOrPath:s.file_id,content:L.getContentFromFile(s),url:r}),P.showCopyLinkSuccessSnackbar("","viewer")}),(()=>{const n=L.CopyLinkException.FAILED_COPY_TO_CLIPBOARD,o=A.TiburonEventName.CopySharedLinkFailure;throw a?i.ShareTibEventLogger.log(a.id,o,t,l):i.ShareTibEventLogger.log_unauth(o,t,l),D.logPAPCopySharedLinkEvent({eventState:L.getErrorState(n),actionSurface:e,fileIdOrPath:s.file_id,content:L.getContentFromFile(s),url:r,exception:n}),n}))}},dismissDrawerOnAction:!0,disabled:{disabled:!1}}},Jt=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.SHARED_CONTENT_LINK],Yt={filterValidFile:e=>i.isEncryptedFile(e)?void 0:e,filterValidUser:f.filterLoggedInUser,shouldShowForPreviewSurface:f.filterSurfaceIn(Jt),shouldShowForPreviewType:f.alwaysShow},Xt=({file:e,previewType:t,supportedFileTypes:a})=>{const n=a.has(i.getExtension(e)),r=i.isEncryptedFile(e);return!i.isInsideSharedFolder(e)||t!==i.PreviewType.Video&&t!==i.PreviewType.Audio?r?"file_encrypted":n?void 0:"file_not_supported":"file_not_supported_for_shared_folder_video_audio"},Qt=r.defineMessage({id:"P4ddEG",defaultMessage:"File is restricted"}),$t=r.defineMessage({id:"cj+r+I",defaultMessage:"File type not supported"}),ei=e=>{switch(e){case"file_encrypted":return Qt;case"file_not_supported":case"file_not_supported_for_shared_folder_video_audio":return $t}},ti=f.withActionCondition(Yt,((e,t,a,n,o,s)=>{const{file:l}=t,c=Xt({file:l,previewType:s,supportedFileTypes:o});return{key:"dashChat",label:r.defineMessage({id:"s7Ekk/",defaultMessage:"Ask Dash"}),icon:R.AiFill,handler:async()=>{n("dash_chat",a),i.dispatchWebIAUserAction({type:"previews.titlebar",file:l})},dismissDrawerOnAction:!0,disabled:c?{disabled:!0,message:ei(c)}:{disabled:!1},showNewBadge:!0}}),null),ii=[i.SDKPreviewSurface.VERSION_HISTORY,i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW],ai={shouldShowForPreviewSurface:e=>!ii.includes(e),shouldShowForPreviewType:f.alwaysShow,filterValidUser:f.filterLoggedInUser,filterValidFile:e=>f.isFileActionAllowedFile(e)?e:void 0},ni=f.withActionCondition(ai,((t,a,n,o,s)=>({key:"delete",label:x.DELETE_ACTION_STRING,icon:i.DeleteLine,handler:async()=>{if(n&&"fq_path"in a.file){s(i.UserAction.Delete,o);const t={file_id:a.file.file_id,is_dir:a.file.is_dir},[{portableDelete:r},{deleteCompleteSnackBar:l,deleteFailedSnackBar:c,deleteSnackBarInProgress:d}]=await Promise.all([new Promise((function(t,i){e(["./c_portable_delete"],t,i)})),new Promise((function(t,i){e(["./c_portable_delete_snackbars"],t,i)})).then((function(e){return e.snackbars_esnext}))]);return r({user:n,filesPath:[t],fq_path:a.file.fq_path},{onNetworkRequest:()=>d(i.PREVIEWS_SNACKBAR_ID),onSuccess:()=>{l(i.PREVIEWS_SNACKBAR_ID)},onError:e=>c(e,i.PREVIEWS_SNACKBAR_ID)})}},dismissDrawerOnAction:!0,disabled:{disabled:i.isBrowseFile(a.file)&&!!a.file.read_only,message:r.defineMessage({id:"cQaEz2",defaultMessage:"Disabled for this file"})}})),null),ri=(t,a,n,o,s,l)=>{const{file:c,shareToken:d,sharePermission:u,encryptionOptions:_}=t;return{key:"download",label:x.DOWNLOAD_ACTION_STRING,icon:F.DownloadLine,handler:async()=>{null==o||o("download",n);const{downloadActiveFile:t}=await new Promise((function(t,i){e(["./c_file_viewer_common_download_utils"],t,i)})).then((function(e){return e.download_utils_esnext}));t({file:c,user:a,encryptionOptions:_,allowUnrequestedSusiModal:!1,logUserAction:o,shareToken:d,isMobileWeb:!0,userPresentableVerdict:l,queryClient:s})},disabled:{disabled:!!i.isSharedFile(c)&&!(u&&p.isDownloadAllowed(u)),message:r.defineMessage({id:"cQaEz2",defaultMessage:"Disabled for this file"})},dismissDrawerOnAction:!0}},oi={...f.fileActionCondition,filterValidFile:e=>{const t=f.fileActionCondition.filterValidFile(e);return t&&!f.isPnmSuppressMoveSelected(t)?t:void 0}},si=f.withActionCondition(oi,((t,a,n,o,s)=>({key:"move",label:x.MOVE_ACTION_STRING,icon:i.MoveLine,handler:async()=>{if(n&&"fq_path"in a.file){s(i.UserAction.Move,o);const{portableMove:t}=await new Promise((function(t,i){e(["./c_file_actions_portable_move"],t,i)})).then((function(e){return e.move_esnext})),r=a.file.fq_path;t({newPath:await U.selectDestination({user:n,filesPath:[a.file],currentFQPath:r,operationType:"MOVE"}),user:n,source:"preview",currentFQPath:r,filesPath:[a.file]},{onSuccess:e=>{},onUndo:e=>{}})}},dismissDrawerOnAction:!0,disabled:{disabled:i.isBrowseFile(a.file)&&!!a.file.read_only,message:r.defineMessage({id:"cQaEz2",defaultMessage:"Disabled for this file"})}})),null),li=f.withActionCondition(f.renameActionConditions,((t,a,n,o,s)=>({key:"rename",label:x.RENAME_ACTION_STRING,icon:i.CursorLine,handler:async()=>{if(!("fq_path"in a.file)||!n)return;s(i.UserAction.Rename,o);const[{portableRename:t},{renameCompleteSnackBar:r,renameSnackBarInProgress:l}]=await Promise.all([new Promise((function(t,i){e(["./c_portable_rename"],t,i)})),new Promise((function(t,i){e(["./c_react_query_helpers_queries_upload_info"],t,i)})).then((function(e){return e.snackbars_esnext}))]);return t({currentName:i.getFilename$1(a.file),fq_path:a.file.fq_path,user:n},{onNetworkRequest:()=>l(i.PREVIEWS_SNACKBAR_ID),onSuccess:e=>{r(i.PREVIEWS_SNACKBAR_ID),e&&e[".tag"]}})},dismissDrawerOnAction:!0,disabled:{disabled:i.isBrowseFile(a.file)&&!!a.file.read_only,message:r.defineMessage({id:"cQaEz2",defaultMessage:"Disabled for this file"})}})),null),ci=(e,t)=>{const a=window.location&&encodeURIComponent(window.location.href);return{key:"report",label:r.defineMessage({id:"95tUEu",defaultMessage:"Report an issue"}),icon:B.BugLine,handler:async()=>{null==t||t(i.UserAction.ReportIssue,e),window.open(`/report_abuse?ssu=${a}`,"_blank")},dismissDrawerOnAction:!0,disabled:{disabled:!1}}},di=(a,n,s,l,c)=>{const{file:d,shareToken:u,sharePermission:_,encryptionOptions:m}=a;return{key:"saveToDropbox",label:s===t.MobileWebActionSource.MOBILE_ACTION_BAR?r.defineMessage({id:"hqCpV6",defaultMessage:"Save a copy"}):r.defineMessage({id:"J1SS29",defaultMessage:"Save a copy to Dropbox"}),icon:i.DropboxLine,handler:async()=>{const{saveToDropbox:t}=await new Promise((function(t,i){e(["./c_file_viewer_common_download_utils"],t,i)})).then((function(e){return e.download_utils_esnext}));t(d,(e=>l(e,s)),n,u,m,o.RegistrationSource.SHMODEL_SAVE_TO_REGISTER,void 0,c)},disabled:{disabled:!(_&&p.isDownloadAllowed(_)),message:r.defineMessage({id:"cQaEz2",defaultMessage:"Disabled for this file"})},dismissDrawerOnAction:!0}},ui=(e,t,a,n)=>({key:"share",label:x.SHARE_ACTION_STRING,icon:i.ShareArrowLine,handler:async()=>{if(t){const r=async()=>{const{share:a}=await Promise.resolve().then((function(){return ki}));a(e.file,t,null,{origin:i.SHARE_ACTION_ORIGIN_TYPE.WEB_MOBILE})};n("open_share_modal",a),V.asyncShowShareMe24({fileOrFolder:e.file,user:t,shareModalExtras:{origin:i.SHARE_ACTION_ORIGIN_TYPE.WEB_MOBILE},displayType:"centered",actionSurface:"web_mobile",actionElement:"share",progressiveInbandVariant:"V4",sessionId:Math.random().toString(),onFallback:r})}},disabled:{disabled:!t||!!i.isSharedFile(e.file)&&!(e.sharePermission&&p.isDownloadAllowed(e.sharePermission)),message:r.defineMessage({id:"cQaEz2",defaultMessage:"Disabled for this file"})},dismissDrawerOnAction:!0}),_i=async(t,a,n,r)=>{n("sign_up",a);const{showAuthModal:o}=await new Promise((function(t,i){e(["./c_react_query_helpers_queries_upload_info"],t,i)})).then((function(e){return e.show_auth_modal_esnext}));o({mode:i.Mode.REGISTER,kind:i.LoginOrRegisterKind.IMMEDIATE,loggingExtra:{context:a},encryptionOptions:t,webSignInTag:r,authDialogPreviousElement:i.AuthDialogPreviousElementTag.SIGN_UP})},mi=(e,t,a,n)=>{const{encryptionOptions:o}=e;return{key:"signUp",label:r.defineMessage({id:"K9JPA6",defaultMessage:"Sign up"}),icon:i.DropboxLine,handler:()=>{if(!o)throw new Error("Encryption options are required for log in");_i(o,t,a,n)},disabled:{disabled:!1}}},pi=({activePreviewFile:e,webSignInTag:a,onCloseActionSheet:n})=>{const o=r.useIntl(),{encryptionOptions:s}=e,{logUserAction:l}=i.useFileViewerContext();if(!s)throw new Error("Encryption options are required for log in");return qe.default.createElement(i.Button,{variant:"primary",onClick:()=>{_i(s,t.MobileWebActionSource.MOBILE_ACTION_SHEET,l,a),n()},withIconStart:qe.default.createElement(i.UIIcon,{src:i.PersonCircleLine}),size:"large",fullWidth:!0},o.formatMessage({id:"SE/8Yr",defaultMessage:"Sign up"}))};pi.displayName="SignUpButton";const fi=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.PHOTOS,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.STARRED],gi={filterValidFile:e=>f.isStarringEnabled(e)?e:void 0,filterValidUser:f.filterLoggedInUser,shouldShowForPreviewSurface:f.filterSurfaceIn(fi),shouldShowForPreviewType:f.alwaysShow},Si=f.withActionCondition(gi,((e,t)=>({key:"star",label:t.message,icon:t.iconSrc,handler:()=>{t.handleClick()},disabled:{disabled:!1}})),null),Ei=(e,t)=>(a,n)=>{t(a?i.UserAction.Star:i.UserAction.Unstar,e,{state:n?"success":"failed"})},vi=({user:e,activePreviewFile:t,previewSurface:i})=>{const a=W.useRootPreviewMetadata().previewType,n=W.useIsNestedArchiveFile();return qe.default.useMemo((()=>({user:e,file:t.file,isNestedArchiveFile:n,previewSurface:i,previewType:a,sharePermission:t.sharePermission,sharedLinkInfo:t.sharedLinkInfo})),[t.file,t.sharePermission,t.sharedLinkInfo,n,i,a,e])};i.injectInternalStyle("/static/metaserver/static/js/file_viewer/mobile_web/mobile_action_bar.module.out-vflvmPB5L.css",(e=>"._actionBar_v8rjm_1{align-items:center;background:var(--dig-color__background__raised);display:flex;height:72px;justify-content:space-between;padding:0 var(--dig-spacing__micro__large);white-space:nowrap}._actionBar_v8rjm_1 ._leftHandSide_v8rjm_11{align-items:center;display:flex;justify-content:flex-start}._actionBar_v8rjm_1 ._leftHandSide_v8rjm_11>:not(:last-child){margin-right:var(--dig-spacing__micro__small)}._actionBar_v8rjm_1 ._rightHandSide_v8rjm_21{align-items:center;display:flex;justify-content:flex-end}._actionBar_v8rjm_1 ._rightHandSide_v8rjm_21>:not(:first-child){margin-left:var(--dig-spacing__micro__small)}"));const hi=qe.default.memo((e=>{const{user:a,previewSurface:n,activePreviewFile:o,webSignInTag:s,userPresentableVerdict:l}=e,c=r.useIntl(),{dashChatAction:d,copyLinkAction:u,downloadAction:_,saveToDropboxAction:m,shareAction:p,signUpAction:f}=(({user:e,previewSurface:a,activePreviewFile:n,webSignInTag:r,userPresentableVerdict:o})=>{const{logUserAction:s}=i.useFileViewerContext(),l=H.useQueryClient(),c=i.useShouldShowDashRedesign()&&!!e,d=i.useListAISupportedFileTypes(c),u=vi({user:e,activePreviewFile:n,previewSurface:a});return{commentAction:Dt(n,e,t.MobileWebActionSource.MOBILE_ACTION_BAR,s),copyLinkAction:qt(n,e,t.MobileWebActionSource.MOBILE_ACTION_BAR,s),dashChatAction:c?ti(u,n,t.MobileWebActionSource.MOBILE_ACTION_BAR,s,d,u.previewType):null,downloadAction:ri(n,e,t.MobileWebActionSource.MOBILE_ACTION_BAR,s,l,o),saveToDropboxAction:di(n,e,t.MobileWebActionSource.MOBILE_ACTION_BAR,s,r),shareAction:ui(n,e,t.MobileWebActionSource.MOBILE_ACTION_BAR,s),signUpAction:mi(n,t.MobileWebActionSource.MOBILE_ACTION_BAR,s,r)}})({user:a,previewSurface:n,activePreviewFile:o,webSignInTag:s,userPresentableVerdict:l}),[g,S,E,v]=i.isSharedFile(o.file)?a?[u,_,m,d]:[_,f,m]:[_,p,u,d];return qe.default.createElement("div",{className:"_actionBar_v8rjm_1","data-testid":"mobile-web-action-bar"},qe.default.createElement("div",{className:"_leftHandSide_v8rjm_11"},qe.default.createElement(i.IconButton,{key:g.key,variant:"opacity",size:"large",onClick:g.handler,disabled:g.disabled.disabled},qe.default.createElement(i.UIIcon,{src:g.icon,"aria-label":c.formatMessage(g.label)}))),qe.default.createElement("div",{className:"_rightHandSide_v8rjm_21"},"signUp"===S.key?qe.default.createElement(i.Button,{variant:"opacity",size:"large",onClick:S.handler},c.formatMessage(S.label)):qe.default.createElement(i.IconButton,{variant:"opacity",size:"large",onClick:S.handler,disabled:S.disabled.disabled},qe.default.createElement(i.UIIcon,{src:S.icon,"aria-label":c.formatMessage(S.label)})),"saveToDropbox"===E.key&&E.disabled.disabled?null:qe.default.createElement(i.Button,{variant:"primary",size:"large",withIconStart:"saveToDropbox"===E.key?qe.default.createElement(i.UIIcon,{src:E.icon}):null,onClick:E.handler,disabled:a&&E.disabled.disabled},c.formatMessage(E.label)),"dashChat"===(null==v?void 0:v.key)?qe.default.createElement(i.IconButton,{variant:"opacity",size:"large",onClick:null==v?void 0:v.handler,disabled:null==v?void 0:v.disabled.disabled},qe.default.createElement(i.UIIcon,{src:null==v?void 0:v.icon,"aria-label":c.formatMessage(null==v?void 0:v.label)})):null))}));hi.displayName="MobileActionBar";const wi=()=>{const{mobileActionBar:e}=i.useFileViewerSubRegionContext();return qe.default.useMemo((()=>e?(e=>t=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(e,{...t})))(e):hi),[e])},Ti=({onCloseActionSheet:a})=>{const n=r.useIntl(),{logUserAction:o}=i.useFileViewerContext();return qe.default.createElement(i.Button,{variant:"transparent",hasNoUnderline:!0,onClick:async()=>{o(i.UserAction.CookieCCPA,t.MobileWebActionSource.MOBILE_ACTION_SHEET),a(),await new Promise((function(t,i){e(["./c_privacy_consent_load_privacy_consent"],t,i)})).then((({loadPrivacyConsentApi:e})=>e())).then((e=>e.openOptionsDialog()))}},qe.default.createElement(i.Text,null,n.formatMessage({id:"bqUzUJ",defaultMessage:"Cookie preferences"})))};Ti.displayName="CookiePreferenceButton";const Ii=()=>{const e=r.useIntl(),{logUserAction:a}=i.useFileViewerContext();return qe.default.createElement(i.Button,{variant:"transparent",hasNoUnderline:!0,onClick:async()=>{null==a||a(i.UserAction.PrivacyLegal,t.MobileWebActionSource.MOBILE_ACTION_SHEET),window.open("/privacy","_blank")}},qe.default.createElement(i.Text,null,e.formatMessage({id:"1s1ZkP",defaultMessage:"Privacy and legal"})))};Ii.displayName="PrivacyButton";i.injectInternalStyle("/static/metaserver/static/js/file_viewer/mobile_web/mobile_action_list_placeholder.module.out-vflhXjRjj.css",(e=>"._actionListPlaceholder_dnh12_1{align-items:center;display:flex;height:200px;justify-content:center}"));const bi=()=>{const e=r.useIntl();return qe.default.createElement("div",{className:"_actionListPlaceholder_dnh12_1"},qe.default.createElement(i.Spinner,{size:"small","aria-valuetext":e.formatMessage({id:"9b2zJO",defaultMessage:"Loading action list"}),"aria-label":"action-list-loading-spinner"}))},yi=qe.lazy((async()=>{const{ActionList:t}=await new Promise((function(t,i){e(["./c_file_viewer_mobile_web_mobile_action_list"],t,i)}));return{default:t}})),Ai=e=>qe.createElement(qe.Suspense,{fallback:qe.createElement(bi,null)},qe.createElement(yi,{...e}));Ai.displayName="LazyMobileActionList";i.injectInternalStyle("/static/metaserver/static/js/file_viewer/mobile_web/mobile_action_sheet.module.out-vflKOF9y8.css",(e=>"._roundedCorner_1f1oy_1{border-top-left-radius:16px;border-top-right-radius:16px}._header_1f1oy_6{align-items:flex-start;display:flex;flex-direction:column;padding-bottom:var(--dig-spacing__micro__small)}._buttons_1f1oy_13{padding-bottom:var(--dig-spacing__micro__medium)}._headerContainer_1f1oy_17{align-items:flex-start;display:flex;height:38px;justify-content:flex-end;width:100%}._handle_1f1oy_25{background-color:var(--dig-color__secondary__surface--state-2);border-radius:8px;height:6px;left:0;margin-left:auto;margin-right:auto;position:absolute;right:0;width:100px}._backButton_1f1oy_37{align-self:flex-start;display:flex}._headerContent_1f1oy_42{align-items:center;gap:var(--dig-spacing__micro__large);justify-content:space-between}._fileInfo_1f1oy_51,._headerContent_1f1oy_42{display:flex;overflow:hidden;width:100%}._fileInfo_1f1oy_51{align-items:flex-start;flex-direction:column}._drawerLayoutItem_1f1oy_59{padding-right:16px;width:100%}._title_1f1oy_64{width:100%}._placeholderModalDrawer_1f1oy_68{align-items:center;display:flex;justify-content:center}._drawerBody_1f1oy_74{max-height:430px}._drawerFooterLayout_1f1oy_78{display:flex;justify-content:space-between;padding:0 var(--dig-spacing__micro__small)}"));const Pi="_roundedCorner_1f1oy_1",Ci=e=>e?"alpha/list_file_members/continue":"list_file_members/continue",Ni=(e,t=!1,a)=>H.useInfiniteQuery({queryKey:[Ci(t),{cursor:a}],queryFn:({pageParam:n})=>((e,t=!1,a)=>{if(void 0===a)throw new Error("Cursor is undefined");const n=Ci(t);return i.GetSharingRoutes(e).rpcWithResponseHeaders(n,{cursor:a},{}).then((e=>e.result))})(e,t,n||a),getNextPageParam:e=>e.cursor});i.injectInternalStyle("/static/metaserver/static/js/file_viewer/title_bar/shared/title.module.out-vfltv6C6i.css",(e=>"._title_1jy97_1{align-items:center;display:flex;flex:1 1 auto;justify-content:center;min-width:0;white-space:pre}._title_1jy97_1._alignLeft_1jy97_12{justify-content:flex-start}"));const Di=qe.memo((e=>{const{archiveName:t,currentPath:a,isMobile:n}=e,r=z.useUpdateArchiveFileCurrentPathCallback(),o=i.cx(j.truncateText,{[j.breadCrumbText]:!n});return qe.createElement(G.Breadcrumb,{isRootOverflow:!1,alwaysShowRoot:!0,size:n?"small":"standard",className:j.archiveFileBreadcrumb},qe.createElement(G.Breadcrumb.Link,{href:()=>r([],!0),isCurrentPath:0===a.length},qe.createElement("div",{className:o},t)),a.map(((e,t)=>qe.createElement(G.Breadcrumb.Link,{href:()=>r(a.slice(0,t+1),!0),isCurrentPath:t===a.length-1,key:`${t}-${e}`},qe.createElement("div",{className:o},e)))))}));Di.displayName="ArchiveFileBreadcrumbs";const Li=qe.memo((e=>{const{isMobileSize:t,shouldAlignLeft:a,shouldShowTooltip:n}=e,r=W.useRootFileMetadata(),o=W.useArchiveSubpath();if(!r)return null;const s=r.file_name||"";return qe.createElement("div",{className:i.cx("_title_1jy97_1",{_alignLeft_1jy97_12:a})},o&&o.length>0?qe.createElement(Di,{archiveName:s,currentPath:o,isMobile:t}):qe.createElement(i.Truncate,{observeParent:!0,location:.5,tooltipControlProps:n?{placement:"top",maxWidth:window.innerWidth-32}:void 0},s))}));Li.displayName="Title",Li.displayName="Title";i.injectInternalStyle("/static/metaserver/static/js/file_viewer/title_bar/title_bar_pass_ui.module.out-vflMh8hJr.css",(e=>"._pass_1wgu7_1{align-items:center;display:flex;height:var(--dig-spacing__macro__medium);justify-content:center;padding-bottom:2px}"));function Mi(e,t,a){const n={filename:i.getFilename(e),isFolder:!1,nsId:e.ns_id,origin:a,sjid:e.sjid,url:t||void 0,fqPath:""};return i.isBrowseFile(e)&&(n.fqPath=e.fq_path),null!=e.file_id&&(n.fileId=e.file_id),n}function Oi(t,a,n,r){Promise.all([i.fetchViewer(),new Promise((function(t,i){e(["./c_sharing_share_modal_util"],t,i)}))]).then((([e,i])=>{const o=Mi(t,n,r.origin);i.showShareModal(e,a,o,r)}))}var ki=Object.freeze({__proto__:null,getDataForContentInfo:Mi,share:Oi});const Ri=r.intl.formatMessage({id:"kLqbNF",defaultMessage:"Open now"}),xi=r.intl.formatMessage({id:"DcMHbT",defaultMessage:"Shared with"}),Fi=r.intl.formatMessage({id:"L0u1G7",defaultMessage:"Hasnt opened"}),Ui=(e,t)=>e.isActive?Ri:null!=e.whenLastSeen?(e=>{const t=i.ago(e,!1);return r.intl.formatMessage({id:"GJHL3E",defaultMessage:"Opened {timeAgo}"},{timeAgo:t})})(new Date(1e3*e.whenLastSeen)):t?Fi:xi,Bi=r.intl.formatMessage({id:"h5b9Ud",defaultMessage:"Who can access"}),Vi=({isPassPermissionsPending:e})=>{const t=i.cx(i.FACEPILE_CLASSNAME,i.EMPTY_FACEPILE_CLASSNAME,{[i.PRESENCE_RECEIVED_CLASSNAME]:!e});return qe.default.createElement("div",{className:t})};Vi.displayName="EmptyFacepile";class Wi extends qe.default.Component{constructor(){super(...arguments),this.state={newPresentUserIds:[]},this.onAvatarClick=e=>{var t;q.isSupportedMobileBrowser()||(this.props.sharingAccessManagementEntryPointExpansionVariant&&this.props.sharingAccessManagementEntryPointExpansionVariant!==i.Variant.OFF&&i.logExposure({feature:"sharing_access_management_entry_point_expansion",variant:this.props.sharingAccessManagementEntryPointExpansionVariant}),"ON"===this.props.sharingAccessManagementEntryPointExpansionVariant?Y.asyncShowAccessManagementBrowse({fileOrFolder:this.props.file,user:this.props.viewer.get_user_by_id(this.props.user.id),actionSurface:"seen_state_facepile",actionElement:"access_management",sessionId:Math.random().toString(),onFallback:()=>{var t;Oi(this.props.file,this.props.viewer.get_user_by_id(this.props.user.id),this.props.url||null,{origin:i.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE_FACEPILE,initialScreen:i.MANAGE_SCREEN,selectedMemberId:null!==(t=null==e?void 0:e.userId)&&void 0!==t?t:null==e?void 0:e.email})}}):Oi(this.props.file,this.props.viewer.get_user_by_id(this.props.user.id),this.props.url||null,{origin:i.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE_FACEPILE,initialScreen:i.MANAGE_SCREEN,selectedMemberId:null!==(t=null==e?void 0:e.userId)&&void 0!==t?t:null==e?void 0:e.email}))},this.canShowPASS=()=>{const{isPassPermissionsPending:e,passFetchingStatus:t,passPermissions:a}=this.props;return!e&&t!==i.PassFetchingStatus.ERROR&&null!==a&&(a.canReadPresence||a.canReadSeenState)},this.canShowMembershipInfo=()=>{const{sharingStorePassInfo:e}=this.props;return e.isLoaded&&null!==e.data&&(e.data.users.length>0||e.data.invitees.length>0)}}UNSAFE_componentWillReceiveProps(e){if(i.areFilesEqual(this.props.file,e.file)){if(!e.presence||!this.props.presence)return;const t=e.presence.filter((e=>{var t;return!(null===(t=this.props.presence)||void 0===t?void 0:t.includes(e))})),i=this.props.presence.filter((t=>{var i;return!(null===(i=e.presence)||void 0===i?void 0:i.includes(t))}));this.updateNewPresentUserIds(t,i)}else this.setState({newPresentUserIds:[]})}updateNewPresentUserIds(e,t){const i=this.state.newPresentUserIds.filter((e=>!t.includes(e)));this.setState({newPresentUserIds:[...e,...i]})}userIsAnonymous(e){for(const t of this.props.anonymousPresenceInfo)if(t.seen_state_user.user_id===e.user_id)return!0;return!1}userIsOnline(e){return null!=this.props.presence&&this.props.presence.includes(e.user_id)}buildUserInfo(e){const t=e.seen_state_user.user_id||e.seen_state_user.display_name,i=this.userIsAnonymous(e.seen_state_user);return new Z.UserInfo(t,e.seen_state_user.display_name,this.userIsOnline(e.seen_state_user),e.seen_state_user.email||e.seen_state_user.display_name,e.when_last_seen,e.seen_state_user.photo_circle_url,e.seen_state_user.user_id,e.seen_state_user.same_team,i)}partitionUserInfoLists(e){const t=[],i=[],a=[],n=[],r=[],o={};for(const t of e){const e=this.buildUserInfo(t);this.userIsOnline(t.seen_state_user)?this.isNewPresentUser(e)?o[e.key]=e:this.userIsAnonymous(t.seen_state_user)?a.push(e):i.push(e):null!=t.when_last_seen?n.push(e):r.push(e)}for(const e of this.state.newPresentUserIds){const i=o[e];i&&t.push(i)}return{newPresentUserInfoList:t,presentUserInfoList:i,anonymousUserInfoList:a,offlineUserInfoList:n,neverViewedUserInfoList:r}}getUserInfoList(){const e=[];let t=this.getMergedSeenStateData();if(this.shouldHardcodeCurrentViewer()){t=t.filter((e=>e.seen_state_user.user_id!==this.props.user.account_id));const i=this.props.viewer.get_user_by_id(this.props.user.id);e.push(new Z.UserInfo(this.props.user.account_id,i.display_name,this.canShowPASS(),i.email,void 0,i.photo_url,this.props.user.account_id,!0,!1))}const i=this.partitionUserInfoLists(t),{newPresentUserInfoList:a,presentUserInfoList:n,anonymousUserInfoList:r,offlineUserInfoList:o,neverViewedUserInfoList:s}=i;return n.sort(((e,t)=>e.displayName.toLowerCase().localeCompare(t.displayName.toLowerCase()))),s.sort(((e,t)=>e.displayName.toLowerCase().localeCompare(t.displayName.toLowerCase()))),[...e,...a,...n,...r,...o,...s]}isNewPresentUser(e){return this.state.newPresentUserIds.indexOf(e.key)>=0}getMergedSeenStateData(){const e=this.getSeenStates(),t=e.map((e=>e.seen_state_user.user_id));if(this.props.sharingStorePassInfo.data){for(const i of this.props.sharingStorePassInfo.data.users){const a=i.seen_state_user.user_id;-1!==t.indexOf(a)||a===this.props.user.account_id&&this.shouldHardcodeCurrentViewer()||e.push(i)}return[...e,...this.props.anonymousPresenceInfo,...this.props.sharingStorePassInfo.data.invitees]}return[...e,...this.props.anonymousPresenceInfo]}shouldHardcodeCurrentViewer(){const e=!this.props.viewer.is_assume_user_session,t=null!=this.props.presence&&this.props.presence.indexOf(this.props.user.account_id)>=0;return e||t}getSeenStates(){return this.props.identifiedSeenStateInfo&&this.props.identifiedSeenStateInfo.seen_states?[...this.props.identifiedSeenStateInfo.seen_states]:[]}haveSeenStateDataToShow(e){return e.length>0}dataSufficientForDisplayHasLoaded(){return this.props.sharingStorePassInfo.isLoaded&&i.fetchingStatusSeenStateIsComplete(this.props.passFetchingStatus)}render(){var e;if(!this.canShowPASS()&&!this.canShowMembershipInfo())return qe.default.createElement(Vi,{isPassPermissionsPending:this.props.isPassPermissionsPending});if(!this.dataSufficientForDisplayHasLoaded())return qe.default.createElement("div",null);const t=this.getUserInfoList();return this.haveSeenStateDataToShow(t)?qe.default.createElement("div",{className:this.facepileClassName()},qe.default.createElement(i.Facepile,{"aria-label":r.intl.formatMessage({id:"6Caba5",defaultMessage:"Shared with"}),size:"medium",hasLegacySpacing:!0},this.computeFacepileItems(t,!0===(null===(e=this.props.passPermissions)||void 0===e?void 0:e.canReadSeenState)))):qe.default.createElement(Vi,{isPassPermissionsPending:this.props.isPassPermissionsPending})}facepileClassName(){return i.cx(i.FACEPILE_CLASSNAME,{[i.PRESENCE_RECEIVED_CLASSNAME]:!this.props.isPassPermissionsPending})}getInitialsForUserInfo(e){return e.userId&&i.AnonymousViewerUtils.isAnonymousUserId(e.userId)?i.AnonymousViewerUtils.getAnonymousViewerInitials(e.displayName):i.getInitials(e.displayName)}computeFacepileItems(e,t){const a=[],n=this.props.onlyShowOverflow?1:i.MAX_FACEPILE_ITEMS-1;return a.push(...e.slice(0,n).map((e=>{const{isActive:a,displayName:n,key:r,photoUrl:o,isGuest:s,sameTeam:l}=e,c=s||!l?qe.default.createElement(i.Facepile.Item,{isGuest:!0,isInactive:!a,alt:n,onClick:()=>this.onAvatarClick(e),cursor:"pointer","data-testid":"user-item"}):qe.default.createElement(i.Facepile.Item,{src:o,isInactive:!a,alt:n,onClick:()=>this.onAvatarClick(e),cursor:"pointer","data-testid":"user-item"},this.getInitialsForUserInfo(e)),d=qe.default.createElement(i.Box,{display:"flex",flexDirection:"column",alignItems:"center"},qe.default.createElement(i.Text,{isBold:!0},n),qe.default.createElement(i.Text,{color:"faint",size:"small"},Ui(e,t)));return qe.default.createElement(i.Tooltip,{title:d,key:r},c)}))),a.push(qe.default.createElement(i.Tooltip,{title:qe.default.createElement(i.Text,{isBold:!0},Bi),key:"overflow"},qe.default.createElement(i.Facepile.Item,{alt:Bi,colorPalette:{background:"var(--dig-color__opacity__surface)",foreground:"var(--dig-color__text__base)"},onClick:()=>this.onAvatarClick(),cursor:"pointer","data-testid":"who-can-access-item"},qe.default.createElement(i.UIIcon,{src:i.PersonMultipleLine,role:"presentation"})))),a}}Wi.contextTypes={logEvent:i.PropTypes.func,performanceTimer:i.PropTypes.func,reportError:i.PropTypes.func},Wi.displayName="SeenStateFacepile";class Hi extends qe.default.Component{constructor(e){super(e),this.onUpdateFromStore=()=>{this.setState(this.getStateFromStore())},this.state=this.getStateFromStore(),this.passSessionId=e.passSessionId||J.v4()}UNSAFE_componentWillMount(){const{viewer:e,user:t}=this.props,i=q.isSupportedMobileBrowser();Z.passStore.add_change_listener(this.onUpdateFromStore),Z.sharingInfoStore.add_change_listener(this.onUpdateFromStore),Z.PassHelpers.setup({viewer:e,user:t,passSessionId:this.passSessionId,fileData:this.getPassFileData(),skipListMembers:!1,prevFileData:null,maxMembersSizeLimit:i?100:20,isFileViewer:!0})}UNSAFE_componentWillReceiveProps(e){i.areFilesEqual(e.file,this.props.file)||this.setState({passInfo:{anonymousPresence:null,isPassPermissionsPending:!0,passFetchingStatus:i.PassFetchingStatus.FETCHING,passPermissions:null,presence:null,identifiedSeenStateInfo:null,userIdsWithoutSeenStateInfo:[]},sharingInfo:void 0})}UNSAFE_componentWillUpdate(e,t){const a=t.passInfo;if(a.userIdsWithoutSeenStateInfo.length>0&&a.identifiedSeenStateInfo&&i.fetchingStatusIsSuccessful(a.passFetchingStatus)&&e.user){const t=e.file,i=this.urlFromProps(e);Z.SeenStateHelpers.fetchSeenStateUsers(e.user,a.identifiedSeenStateInfo,a.userIdsWithoutSeenStateInfo,t.file_id,i,this.passSessionId)}}componentDidUpdate(e){if(!i.areFilesEqual(this.props.file,e.file)){const t={file:e.file,url:this.urlFromProps(e)},i=q.isSupportedMobileBrowser();this.passSessionId=J.v4(),Z.PassHelpers.setup({viewer:this.props.viewer,user:this.props.user,passSessionId:this.passSessionId,fileData:this.getPassFileData(),skipListMembers:!1,prevFileData:t,maxMembersSizeLimit:i?100:20,isFileViewer:!0})}}componentWillUnmount(){Z.passStore.remove_change_listener(this.onUpdateFromStore),Z.sharingInfoStore.remove_change_listener(this.onUpdateFromStore),Z.PassHelpers.teardown({viewer:this.props.viewer,user:this.props.user,fileData:this.getPassFileData(),async:!0})}getStateFromStore(){const{user:e,file:{file_id:t}}=this.props;return{passInfo:{anonymousPresence:Z.passStore.anonymousPresence(t),isPassPermissionsPending:Z.passStore.isPassPermissionsPending(t),passFetchingStatus:Z.passStore.passFetchingStatus(t),passPermissions:Z.passStore.getPassPermissions(t),presence:Z.passStore.presence(t),identifiedSeenStateInfo:Z.passStore.identifiedSeenStateInfo(t),userIdsWithoutSeenStateInfo:Z.passStore.userIdsWithoutSeenStateInfo(t)},sharingInfo:e&&Z.sharingInfoStore.getSharingInfo(e.id,t)||void 0}}getAnonymousPassInfo(){return null==this.state.passInfo.anonymousPresence?[]:this.state.passInfo.anonymousPresence.map((function(e){return{seen_state_user:{user_id:e,display_name:r.intl.formatMessage({id:"+s6D7j",defaultMessage:"Guest"})},seen_events:[]}}))}getMemberInfosInPassFormat(e){const t=e.members();return{invitees:t?this.getInviteeMemberInfos(t):[],users:t?this.getUserMemberInfos(t):[]}}getUserMemberInfos(e){return e.users.valueSeq().toArray().reduce((function(e,t){return t.account&&e.push({seen_state_user:{user_id:t.account_id,display_name:t.account.display_name,email:t.email(),photo_circle_url:t.account.profile_photo_url||void 0,access_level:t.access_type,same_team:t.same_team},seen_events:[]}),e}),[])}getInviteeMemberInfos(e){return e.invitees.valueSeq().toArray().map((function(e){return{seen_state_user:{display_name:e.contact,access_level:e.access_type},seen_events:[]}}))}getPassFileData(){return{file:this.props.file,url:this.urlFromProps()}}urlFromProps(e=this.props){return e.sharedLinkInfo?e.sharedLinkInfo.url:void 0}getPropsFromPassInfo(){return{anonymousPresenceInfo:this.getAnonymousPassInfo(),isPassPermissionsPending:this.state.passInfo.isPassPermissionsPending,passFetchingStatus:this.state.passInfo.passFetchingStatus,passPermissions:this.state.passInfo.passPermissions,presence:this.state.passInfo.presence,identifiedSeenStateInfo:this.state.passInfo.identifiedSeenStateInfo}}getPropsFromSharingInfo(){const e={sharingStorePassInfo:Z.FacepileInfo.createNotLoaded()};return this.state.sharingInfo?(this.state.sharingInfo.hasDisplayableMembers()&&(e.sharingStorePassInfo=Z.FacepileInfo.create(this.getMemberInfosInPassFormat(this.state.sharingInfo))),e):e}render(){const{user:e,onlyShowOverflow:t,file:i}=this.props,a=this.getPropsFromPassInfo();return null==e?qe.default.createElement(Vi,{isPassPermissionsPending:!a.isPassPermissionsPending}):qe.default.createElement(Wi,{...a,...this.getPropsFromSharingInfo(),file:i,url:this.urlFromProps(),viewer:this.props.viewer,user:e,onlyShowOverflow:t,sharingAccessManagementEntryPointExpansionVariant:this.props.sharingAccessManagementEntryPointExpansionVariant})}}Hi.displayName="_SeenStateFacepileController";const Ki=i.withViewer(Hi),Gi=({activePreviewFile:e,enablePassUi:t,passSessionId:a,user:n,onlyShowOverflow:r,viewer:o})=>{var s;const l=e.file.file_id,c=null===(s=e.sharedLinkInfo)||void 0===s?void 0:s.url,d=null!=n?n:null,u=i.useExperimentVariant("sharing_access_management_entry_point_expansion").variant;return qe.useEffect((()=>(Z.BeaconPresenceHelpers.transmitBeaconData({prevBeaconFileData:null,beaconFileData:new Z.BeaconFileData(l,c),user:d,passSessionId:void 0}),()=>Z.BeaconPresenceHelpers.shutdown({viewer:o,beaconFileData:new Z.BeaconFileData(l,c),user:d,async:!0}))),[d,l,c]),t?qe.createElement("div",{className:"_pass_1wgu7_1","data-testid":"pass"},qe.createElement(Ki,{user:n||null,file:e.file,passSessionId:a,sharedLinkInfo:e.sharedLinkInfo,onlyShowOverflow:r,sharingAccessManagementEntryPointExpansionVariant:u})):null};Gi.displayName="TitleBarPassUi";const zi=e=>{var a,n,o;const s=r.useIntl(),{logUserAction:l}=i.useFileViewerContext(),c=qe.default.useMemo((()=>new i.ActiveUserApiV2Client),[]),{isActionSheetOpen:d,setIsActionSheetOpen:u,user:_,activePreviewFile:m,viewer:p}=e,[f,g]=qe.default.useState(!1),S=qe.default.useRef(null),{file:E,sharedLinkInfo:v}=m,h=i.format_bytes(E.bytes),w=null===(a=i.useFileMembersQuery(c,{file:E.file_id,actions:[{".tag":"leave_a_copy"},{".tag":"make_editor"},{".tag":"make_owner"},{".tag":"make_viewer"},{".tag":"make_viewer_no_comment"},{".tag":"remove"}],include_inherited:!0,url:v?v.url:void 0,include_seen_state:!1,limit:100},!0,!!_).data)||void 0===a?void 0:a.apiData,T=Ni(c,!0,null==w?void 0:w.cursor),{fetchNextPage:I,data:b,hasNextPage:y,isFetchingNextPage:A}=T;y&&!A&&I();const P=qe.default.useMemo((()=>(null==b?void 0:b.pages.map((e=>e.users)).flat())||[]),[null==b?void 0:b.pages]),C=qe.default.useMemo((()=>(null==w?void 0:w.users.concat(P))||[]),[w,P]),N=C.map((e=>e.user.account_id))||[],D=null===(n=X.useSeenStateInfo(E.file_id,null==v?void 0:v.url,150).data)||void 0===n?void 0:n.apiData,L=null===(o=i.useAccountBatch(N).data)||void 0===o?void 0:o.apiData,M=qe.default.useMemo((()=>qi(C,L,D)),[C,L,D]),O=s.formatMessage({id:"opA6DD",defaultMessage:"{count} Members"},{count:M.length}),{handleTouchStart:k,handleTouchEnd:R}=Q.useTouchInteraction({onSwipeDown:()=>{u(!1)}});return qe.default.createElement(qe.default.Fragment,null,qe.default.createElement(i.Drawer.ModalDrawer,{"aria-label":s.formatMessage({id:"Bpbcjv",defaultMessage:"Preview action sheet"}),onDidClose:()=>g(!1),onRequestClose:()=>u(!1),alignment:"bottom",height:"auto",shouldAnimate:!0,isOpen:d,className:Pi,"data-testid":"mobile-web-action-sheet"},qe.default.createElement(i.Drawer.Container,null,qe.default.createElement(i.Drawer.Header,{className:Pi},qe.default.createElement(i.Drawer.Layout,{className:"_header_1f1oy_6"},qe.default.createElement(i.Drawer.Layout,{className:"_headerContainer_1f1oy_17",onTouchStart:k,onTouchEnd:R},qe.default.createElement("div",{className:"_handle_1f1oy_25"}),f&&qe.default.createElement(i.Drawer.LayoutItem,{shift:"left"},qe.default.createElement(i.IconButton,{onClick:()=>{var e;g(!1),null===(e=null==S?void 0:S.current)||void 0===e||e.focus()},variant:"transparent"},qe.default.createElement(i.UIIcon,{"aria-label":s.formatMessage({id:"IDlWPW",defaultMessage:"Back"}),src:i.ChevronLeftLine}))),qe.default.createElement(i.Drawer.LayoutItem,{shift:"right"},qe.default.createElement(i.IconButton,{onClick:()=>u(!1),variant:"transparent",ref:S},qe.default.createElement(i.UIIcon,{"aria-label":s.formatMessage({id:"R/Hjn0",defaultMessage:"Close"}),src:i.CloseLine})))),qe.default.createElement(i.Drawer.LayoutItem,{className:"_drawerLayoutItem_1f1oy_59"},qe.default.createElement("div",{className:"_headerContent_1f1oy_42"},qe.default.createElement("div",{className:"_fileInfo_1f1oy_51"},qe.default.createElement(i.Title,{className:`_title_1f1oy_64 ${i.atoms({fontSize:"Text Large",fontWeight:"Strong"})}`},f?qe.default.createElement("div",null,O):qe.default.createElement(Li,{isMobileSize:!0,shouldAlignLeft:!0,shouldShowTooltip:!0})),qe.default.createElement(i.Text,{variant:"paragraph",color:"subtle",size:"small"},f?i.getFilename(E):h)),!f&&w&&M.length>1&&qe.default.createElement(i.StylelessButton,{onClick:()=>{var e;g(!0),l(i.UserAction.CheckFileAccess,t.MobileWebActionSource.MOBILE_ACTION_SHEET),null===(e=null==S?void 0:S.current)||void 0===e||e.focus()}},qe.default.createElement(Gi,{viewer:p,user:_,activePreviewFile:m,enablePassUi:!0,onlyShowOverflow:!0})))))),qe.default.createElement(i.Drawer.Body,{className:"_drawerBody_1f1oy_74"},f?qe.default.createElement(ji,{mergedSeenStateInfo:M,intl:s,currentUserId:null==_?void 0:_.account_id}):qe.default.createElement(Ai,{...e})),qe.default.createElement(i.Drawer.Footer,null,qe.default.createElement(i.Drawer.Layout,{className:"_drawerFooterLayout_1f1oy_78"},qe.default.createElement(i.Drawer.LayoutItem,null,qe.default.createElement(Ti,{onCloseActionSheet:()=>u(!1)})),qe.default.createElement(i.UIIcon,{src:$.CircleSmallFilledFill}),qe.default.createElement(i.Drawer.LayoutItem,null,qe.default.createElement(Ii,null)))))))};zi.displayName="ActionSheet";const ji=e=>{const{intl:t,mergedSeenStateInfo:a,currentUserId:n}=e;return 0===a.length?null:qe.default.createElement(i.List,{"aria-label":t.formatMessage({id:"CMZDdc",defaultMessage:"Action sheet"}),paddingBottom:"var(--dig-spacing__micro__large)"},a.map((e=>{const a=e.seen_state_user,r=a.display_name.split(" ").map((e=>e[0])).join(""),o=e.when_last_seen?Zi(t,e.when_last_seen,n===a.user_id):a.access_level&&(e=>{switch(e){case"editor":return t.formatMessage({id:"QLdFdP",defaultMessage:"Editor"});case"owner":return t.formatMessage({id:"9P5ohP",defaultMessage:"Owner"});default:return t.formatMessage({id:"y1Q2bh",defaultMessage:"View Only"})}})(a.access_level);return qe.default.createElement(i.List.Item,{key:a.user_id,tabIndex:0},qe.default.createElement(i.List.Accessory,null,qe.default.createElement(i.Avatar,{src:a.photo_circle_url},r)),qe.default.createElement(i.List.Content,null,qe.default.createElement(K.LabelGroupNamespace,{withLabel:a.display_name,withSubText:o})))})))};ji.displayName="MemberList";const Zi=(e,t,a)=>{if(a)return e.formatMessage({id:"EhtH9U",defaultMessage:"Viewing now"});const n=new Date(1e3*t);let r="";return n&&(r=e.formatMessage({id:"uIg+ju",defaultMessage:"Viewed {time_str}"},{time_str:i.ago(n)})),r},qi=(e,t,i)=>{const a={};if(t)for(const e of t)e.profile_photo_url&&(a[e.account_id]=e.profile_photo_url);const n=[];if(e){const t=null==i?void 0:i[0].seen_state_info,r=(null==t?void 0:t.seen_states.filter((e=>{var t;return!(null===(t=e.seen_state_user.user_id)||void 0===t?void 0:t.startsWith("dbafvid:"))})))||[],o=new Set;r.forEach((e=>{e.seen_state_user.user_id&&o.add(e.seen_state_user.user_id)}));const s=((e,t,i)=>e.reduce(((e,a)=>{const n=a.user;if(!i.has(n.account_id)){const i={seen_state_user:{user_id:n.account_id,display_name:n.display_name,email:n.email,photo_circle_url:t[n.account_id],access_level:a.access_type[".tag"],same_team:n.same_team},seen_events:[]};e.push(i)}return e}),[]))(e,a,o);n.push(...r,...s)}return n};i.injectInternalStyle("/static/metaserver/static/js/file_viewer/mobile_web/mobile_title_bar.module.out-vflspNeBF.css",(e=>"._mobileTitleBar_1o0ag_1{align-items:center;background:var(--dig-color__background__raised);display:flex;gap:var(--dig-spacing__micro__small);height:var(--dig-spacing__macro__xlarge);justify-content:space-between;padding:var(--dig-spacing__micro__small)}._title_1o0ag_11{flex-direction:column;flex-grow:1;height:var(--dig-spacing__macro__large);min-width:0}._fileCounter_1o0ag_20,._title_1o0ag_11{display:flex;justify-content:center}._overflowMenu_1o0ag_25{margin:var(--dig-spacing__micro__xsmall) var(--dig-spacing__micro__xsmall) var(--dig-spacing__micro__xsmall) 0}._fileName_1o0ag_30{display:flex;overflow:hidden}"));i.injectInternalStyle("/static/metaserver/static/js/file_viewer/title_bar/shared/close_button.module.out-vflsBtUnZ.css",(e=>"._closeButton_1lfp7_1{padding:var(--dig-spacing__macro__xsmall)}._closeButtonReplacement_1lfp7_5{height:40px;visibility:hidden;width:40px}"));i.injectInternalStyle("/static/metaserver/static/js/file_viewer/title_bar/shared/titlebar_logo.module.out-vflUgOUzO.css",(e=>"._dropboxLogo_ctqz5_1{align-items:center;color:var(--dig-color__text__base);display:flex}._dropboxLogoPadding_ctqz5_7{padding:15px}._dropboxLogo_ctqz5_1:focus{box-shadow:inset 0 0 0 3px var(--color__accent__cloud)}"));const Ji=({isMobileSize:e})=>{const{logUserAction:t}=i.useFileViewerContext();return qe.default.createElement("a",{href:"/?src=shmodel",onClick:()=>{t(i.UserAction.ClickDropboxLogo,i.UserActionContext.PreviewTitlebar)},className:i.cx("_dropboxLogo_ctqz5_1",{_dropboxLogoPadding_ctqz5_7:!e}),"data-uxa-log":"preview_logo"},qe.default.createElement(i.UIIcon,{size:"large",src:i.DropboxLine,"aria-label":"Dropbox"}))};Ji.displayName="Logo",Ji.displayName="Logo";const Yi=qe.memo((e=>{const{canCloseViewer:t,isMobileWebRedesign:a}=e,n=W.useArchiveSubpath(),o=r.useIntl(),s=z.useCloseViewerCallback();return t||(null==n?void 0:n.length)?qe.createElement("span",{className:i.cx({_closeButton_1lfp7_1:!a})},qe.createElement(i.IconButton,{onClick:()=>s(i.UserActionContext.TitleBarMain),variant:"transparent",autoFocus:!0},qe.createElement(i.UIIcon,{"aria-label":o.formatMessage({id:"IDlWPW",defaultMessage:"Back"}),src:i.ChevronLeftLine}))):qe.createElement(Ji,{isMobileSize:a})}));Yi.displayName="CloseButton",Yi.displayName="CloseButton";const Xi={shouldShowForPreviewType:f.shouldShowCommentsForPreviewType,filterValidFile:e=>f.isCloudDoc(e)?void 0:e,filterValidUser:e=>({user:e}),shouldShowForPreviewSurface:f.shouldShowCommentsForPreviewSurface};i.injectInternalStyle("/static/metaserver/static/js/file_viewer/action_plugins/titlebar_button.module.out-vflHmL604.css",(e=>"._icon-button_7x8uw_1{line-height:normal;padding:0 var(--dig-spacing__micro__small)}._button-container_7x8uw_6{display:inline-block;position:relative}._notification-button-dot_7x8uw_11{position:absolute;right:4px;top:4px}._text-button_7x8uw_17{line-height:normal}._button-container_7x8uw_6._button-container-text_7x8uw_21{margin-left:var(--dig-spacing__micro__large)}"));const Qi="_button-container_7x8uw_6",$i=({badgeType:e,showBadge:t,label:a,action:n,icon:o,disabled:s={disabled:!1},expanded:l,dataTooltip:c=""})=>{const d=r.useIntl(),u=d.formatMessage(a),_={onClick:n,disabled:s.disabled,tabIndex:0,"aria-label":u,"aria-expanded":l},m=qe.default.createElement("span",{className:Qi},qe.default.createElement(i.IconButton,{variant:"borderless",size:"large",..._,className:"_icon-button_7x8uw_1"},o),t&&qe.default.createElement(i.Badge,{variant:e,className:"_notification-button-dot_7x8uw_11"}));let p=null;return p=s.disabled&&s.tooltipMessage?{title:d.formatMessage(s.tooltipMessage)}:{title:u},p?qe.default.createElement(i.Tooltip,{maxWidth:320,...p},qe.default.createElement("span",{"data-tooltip":c},m)):qe.default.createElement("span",{"data-tooltip":c},m)};$i.displayName="TitlebarButton";const ea=({text:e,action:t,icon:a,disabled:n={disabled:!1}})=>{const o=r.useIntl(),s=o.formatMessage(e),l={onClick:t,disabled:n.disabled,tabIndex:0,"aria-label":s,withIconStart:a},c=qe.default.createElement("span",{className:i.cx("_button-container-text_7x8uw_21",Qi)},qe.default.createElement(i.Button,{variant:"primary",size:"large",className:"_text-button_7x8uw_17",...l},s));return n.disabled&&n.tooltipMessage?qe.default.createElement(i.Tooltip,{maxWidth:320,title:o.formatMessage(n.tooltipMessage)},c):c};ea.displayName="TitlebarTextButton";const ta={modal:{title:r.defineMessage({id:"UK/6DV",defaultMessage:"Weve made updates!"}),body:r.defineMessage({id:"vWudR3",defaultMessage:"Here are 3 ways to keep work flowing in Dropbox."}),primaryButton:r.defineMessage({id:"kGMStu",defaultMessage:"Show me"}),secondaryButton:r.defineMessage({id:"W9E8bv",defaultMessage:"Skip"})},tooltipEditPdf:{title:r.defineMessage({id:"pryr2f",defaultMessage:"Make edits quickly"}),body:r.defineMessage({id:"ro42fq",defaultMessage:"Reorder pages, highlight text, sign, and more with PDFs."})},tooltipEditImage:{title:r.defineMessage({id:"nU8fzX",defaultMessage:"Make edits quickly"}),body:r.defineMessage({id:"04Z/0K",defaultMessage:"Rotate, flip, crop, adjust brightness, and more with images."})},tooltipEditVideo:{title:r.defineMessage({id:"M5RHHm",defaultMessage:"Make edits quickly"}),body:r.defineMessage({id:"9Y32oh",defaultMessage:"Rotate, flip, crop, or trim videos right here in Dropbox."})},tooltipOrganizeWorkUpdated:{title:r.defineMessage({id:"vDWmCl",defaultMessage:"Organize your work"}),body:r.defineMessage({id:"L1sIA5",defaultMessage:"Move and rename files, or get activity and version history."})},tooltipStartConversation:{title:r.defineMessage({id:"Q6mxmA",defaultMessage:"Work together"}),body:r.defineMessage({id:"alKD9e",defaultMessage:"Share with others so they can edit, comment, or approve."})}},ia=r.defineMessage({id:"Pt5cgF",defaultMessage:"Someone shared a file with you"}),aa=r.defineMessage({id:"oINTxL",defaultMessage:"{linkOwnerName} shared a file with you"}),na=r.defineMessage({id:"abSjGc",defaultMessage:"Here are 3 things you can do with it in Dropbox."}),ra=r.defineMessage({id:"8I86uf",defaultMessage:"Heres what you can do to keep work flowing in Dropbox."}),oa=r.defineMessage({id:"zzzWp6",defaultMessage:"Make edits quickly"}),sa=r.defineMessage({id:"f7HLIr",defaultMessage:"Reorder pages, highlight text, sign, and more with PDFs."}),la=r.defineMessage({id:"WAIlUZ",defaultMessage:"Rotate, flip, crop, adjust brightness, and more with images."}),ca=r.defineMessage({id:"/Q0Y8N",defaultMessage:"Rotate, flip, crop, or trim videos right here in Dropbox."}),da=r.defineMessage({id:"zOydTp",defaultMessage:"Start a conversation"}),ua=r.defineMessage({id:"1Tk9o2",defaultMessage:"Read or post comments in specific places and @mention others"}),_a=r.defineMessage({id:"NqjcQy",defaultMessage:"Save a personal copy"}),ma=r.defineMessage({id:"q0Im4m",defaultMessage:"Copy to Dropbox to archive or share with others later."}),pa=(e,t="")=>()=>{const i=((e,t="")=>document.querySelector(`[data-tooltip="${e}"] ${t}`))(e,t);if(i){const e=i.getAttribute("aria-expanded");e!==String(!1)&&null!==e||((e,t)=>{const i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(i)})(i,"click")}};var fa,ga,Sa,Ea;t.TooltipTourFileType=void 0,(fa=t.TooltipTourFileType||(t.TooltipTourFileType={})).pdf="pdf",fa.IMAGE="IMAGE",fa.VIDEO="VIDEO",fa.default="default",t.TooltipTourSurface=void 0,(ga=t.TooltipTourSurface||(t.TooltipTourSurface={})).nonSharing="nonSharing",ga.sharingLoggedInM0="sharingLoggedInM0",ga.sharingLoggedOutM0="sharingLoggedOutM0",t.PreviewTourTooltipType=void 0,(Sa=t.PreviewTourTooltipType||(t.PreviewTourTooltipType={})).FileMenu="FileMenu",Sa.CollabControls="CollabControls",Sa.ToolbarPdf="ToolbarPdf",Sa.ToolbarImage="ToolbarImage",Sa.ToolbarVideo="ToolbarVideo",Sa.SCLSharingEntrypointWithEditableFile="SCLSharingEntrypointWithEditableFile",Sa.SCLSharingEntrypointWithNonEditableFile="SCLSharingEntrypointWithNonEditableFile",Sa.ShmodelSharingEntrypointWithEditableFile="ShmodelSharingEntrypointWithEditableFile",Sa.ShmodelSharingEntrypointWithNonEditableFile="ShmodelSharingEntrypointWithNonEditableFile",Sa.SharingPdf="SharingPdf",Sa.SharingImage="SharingImage",Sa.SharingVideo="SharingVideo",Sa.SharingLeaveComments="SharingLeaveComments",Sa.SharingSaveACopy="SharingSaveACopy",Sa.LegacySCLSharingEntrypointWithNonEditableFile="LegacySCLSharingEntrypointWithNonEditableFile",Sa.LegacyShmodelSharingEntrypointWithNonEditableFile="LegacyShmodelSharingEntrypointWithNonEditableFile",Sa.LegacySharingPdf="LegacySharingPdf",Sa.LegacySharingImage="LegacySharingImage",Sa.LegacySharingVideo="LegacySharingVideo",Sa.LegacySharingLeaveComments="LegacySharingLeaveComments",Sa.LegacySharingSaveACopy="LegacySharingSaveACopy",t.TooltipDataSelector=void 0,(Ea=t.TooltipDataSelector||(t.TooltipDataSelector={})).TitleBarBreadcrumb="title-bar-breadcrumb",Ea.TitleBarMenu="title-bar-menu",Ea.TitleBarRightSection="title-bar-right-section",Ea.TitleBarRightSectionComments="title-bar-right-section-comments",Ea.Toolbar="redesigned-previews-toolbar",Ea.FileMenuDropdown="file-menu-dropdown",Ea.SaveACopy="title-bar-file-dropdown-save-a-copy",Ea.ActionBarDownloadSplitButtonMenu="action-bar-download-split-button-menu",Ea.ActionBarDownloadSplitButtonMenuSaveACopyOverflowItem="action-bar-download-split-button-menu-save-a-copy-overflow-item",Ea.ActionBarEditButton="action-bar-edit-button",Ea.ActionBarVideoEditButton="action-bar-video-edit-button",Ea.RightRailCommentsBladeHeader="right-rail-comments-blade-header",Ea.FileNameDisplay="file-name-display",Ea.RightRailCommentsBladeCollapsed="right-rail-comments-blade-collapsed";const va={[t.PreviewTourTooltipType.FileMenu]:{selector:t.TooltipDataSelector.TitleBarMenu,title:ta.tooltipOrganizeWorkUpdated.title,description:ta.tooltipOrganizeWorkUpdated.body,placement:"right-start",extraAction:()=>{var e;return null===(e=document.querySelector('[data-dropdown-title="File"] button'))||void 0===e?void 0:e.click()}},[t.PreviewTourTooltipType.CollabControls]:{selector:t.TooltipDataSelector.TitleBarRightSection,title:ta.tooltipStartConversation.title,description:ta.tooltipStartConversation.body,placement:"bottom"},[t.PreviewTourTooltipType.ToolbarPdf]:{selector:t.TooltipDataSelector.Toolbar,title:ta.tooltipEditPdf.title,description:ta.tooltipEditPdf.body,placement:"bottom-start",shouldDismissTourOnClickInsideHighlights:!0,stylesToPreserve:["backgroundColor"]},[t.PreviewTourTooltipType.ToolbarVideo]:{selector:t.TooltipDataSelector.Toolbar,title:ta.tooltipEditVideo.title,description:ta.tooltipEditVideo.body,placement:"bottom-start",shouldDismissTourOnClickInsideHighlights:!0,stylesToPreserve:["backgroundColor"]},[t.PreviewTourTooltipType.ToolbarImage]:{selector:t.TooltipDataSelector.Toolbar,title:ta.tooltipEditImage.title,description:ta.tooltipEditImage.body,placement:"bottom-start",shouldDismissTourOnClickInsideHighlights:!0,stylesToPreserve:["backgroundColor"]},[t.PreviewTourTooltipType.SCLSharingEntrypointWithEditableFile]:{selector:t.TooltipDataSelector.TitleBarMenu,title:ia,description:na,placement:"bottom-start",name:"scl_sharing_entry_point_editable_file"},[t.PreviewTourTooltipType.SCLSharingEntrypointWithNonEditableFile]:{selector:t.TooltipDataSelector.TitleBarMenu,title:ia,description:ra,placement:"bottom-start",name:"scl_sharing_entry_point_non_editable_file"},[t.PreviewTourTooltipType.ShmodelSharingEntrypointWithEditableFile]:{selector:t.TooltipDataSelector.TitleBarMenu,title:aa,description:na,placement:"bottom-start",name:"shmodal_sharing_entry_point_editable_file"},[t.PreviewTourTooltipType.ShmodelSharingEntrypointWithNonEditableFile]:{selector:t.TooltipDataSelector.TitleBarMenu,title:aa,description:ra,placement:"bottom-start",name:"shmodal_sharing_entry_point_non_editable_file"},[t.PreviewTourTooltipType.SharingPdf]:{selector:t.TooltipDataSelector.Toolbar,title:oa,description:sa,placement:"bottom-start",shouldDismissTourOnClickInsideHighlights:!0,offsetDistance:{mainAxis:0,crossAxis:10},name:"sharing_pdf"},[t.PreviewTourTooltipType.SharingImage]:{selector:t.TooltipDataSelector.Toolbar,title:oa,description:la,placement:"bottom-start",shouldDismissTourOnClickInsideHighlights:!0,offsetDistance:{mainAxis:0,crossAxis:10},name:"sharing_image"},[t.PreviewTourTooltipType.SharingVideo]:{selector:t.TooltipDataSelector.Toolbar,title:oa,description:ca,placement:"bottom-start",shouldDismissTourOnClickInsideHighlights:!0,offsetDistance:{mainAxis:0,crossAxis:10},name:"sharing_video"},[t.PreviewTourTooltipType.SharingLeaveComments]:{selector:t.TooltipDataSelector.TitleBarRightSectionComments,title:da,description:ua,placement:"bottom",shouldDismissTourOnClickInsideHighlights:!0,additionalStyles:{margin:"-8px"},name:"sharing_leave_comments"},[t.PreviewTourTooltipType.SharingSaveACopy]:{selector:t.TooltipDataSelector.SaveACopy,title:_a,description:ma,placement:"right",shouldDismissTourOnClickInsideHighlights:!0,stylesToPreserve:["padding"],extraAction:()=>pa(t.TooltipDataSelector.FileMenuDropdown)(),name:"sharing_save_a_copy"},[t.PreviewTourTooltipType.LegacySCLSharingEntrypointWithNonEditableFile]:{selector:t.TooltipDataSelector.FileNameDisplay,title:ia,description:ra,placement:"top",offsetDistance:10},[t.PreviewTourTooltipType.LegacyShmodelSharingEntrypointWithNonEditableFile]:{selector:t.TooltipDataSelector.FileNameDisplay,title:aa,description:ra,placement:"top",offsetDistance:10},[t.PreviewTourTooltipType.LegacySharingPdf]:{selector:t.TooltipDataSelector.ActionBarEditButton,title:oa,description:sa,placement:"bottom"},[t.PreviewTourTooltipType.LegacySharingImage]:{selector:t.TooltipDataSelector.ActionBarEditButton,title:oa,description:la,placement:"bottom"},[t.PreviewTourTooltipType.LegacySharingVideo]:{selector:t.TooltipDataSelector.ActionBarVideoEditButton,title:oa,description:ca,placement:"bottom"},[t.PreviewTourTooltipType.LegacySharingLeaveComments]:{selector:t.TooltipDataSelector.RightRailCommentsBladeHeader,title:da,description:ua,placement:"left-start",extraAction:()=>pa(t.TooltipDataSelector.RightRailCommentsBladeCollapsed,"button")()},[t.PreviewTourTooltipType.LegacySharingSaveACopy]:{selector:t.TooltipDataSelector.ActionBarDownloadSplitButtonMenuSaveACopyOverflowItem,title:_a,description:ma,placement:"bottom-end",extraAction:()=>pa(t.TooltipDataSelector.ActionBarDownloadSplitButtonMenu)()}},ha={[t.TooltipTourSurface.nonSharing]:{[t.TooltipTourFileType.pdf]:[t.PreviewTourTooltipType.ToolbarPdf,t.PreviewTourTooltipType.FileMenu,t.PreviewTourTooltipType.CollabControls],[t.TooltipTourFileType.IMAGE]:[t.PreviewTourTooltipType.ToolbarImage,t.PreviewTourTooltipType.FileMenu,t.PreviewTourTooltipType.CollabControls],[t.TooltipTourFileType.VIDEO]:[t.PreviewTourTooltipType.ToolbarVideo,t.PreviewTourTooltipType.FileMenu,t.PreviewTourTooltipType.CollabControls],[t.TooltipTourFileType.default]:[t.PreviewTourTooltipType.FileMenu,t.PreviewTourTooltipType.CollabControls]},[t.TooltipTourSurface.sharingLoggedInM0]:{[t.TooltipTourFileType.pdf]:[t.PreviewTourTooltipType.SharingPdf,t.PreviewTourTooltipType.SharingLeaveComments,t.PreviewTourTooltipType.SharingSaveACopy],[t.TooltipTourFileType.IMAGE]:[t.PreviewTourTooltipType.SharingImage,t.PreviewTourTooltipType.SharingLeaveComments,t.PreviewTourTooltipType.SharingSaveACopy],[t.TooltipTourFileType.VIDEO]:[t.PreviewTourTooltipType.SharingVideo,t.PreviewTourTooltipType.SharingLeaveComments,t.PreviewTourTooltipType.SharingSaveACopy],[t.TooltipTourFileType.default]:[t.PreviewTourTooltipType.SharingLeaveComments,t.PreviewTourTooltipType.SharingSaveACopy]},[t.TooltipTourSurface.sharingLoggedOutM0]:{[t.TooltipTourFileType.pdf]:[t.PreviewTourTooltipType.SharingLeaveComments,t.PreviewTourTooltipType.SharingSaveACopy],[t.TooltipTourFileType.IMAGE]:[t.PreviewTourTooltipType.SharingLeaveComments,t.PreviewTourTooltipType.SharingSaveACopy],[t.TooltipTourFileType.VIDEO]:[t.PreviewTourTooltipType.SharingLeaveComments,t.PreviewTourTooltipType.SharingSaveACopy],[t.TooltipTourFileType.default]:[t.PreviewTourTooltipType.SharingLeaveComments,t.PreviewTourTooltipType.SharingSaveACopy]}},wa=f.withActionCondition(Xi,((e,t,i)=>({label:t?x.COMMENT_ACTION_HIDE_STRING:x.COMMENT_ACTION_SHOW_STRING,accessibleLabel:t?x.COMMENT_ACTION_HIDE_ACCESSIBILITY_STRING:x.COMMENT_ACTION_SHOW_ACCESSIBILITY_STRING,userAction:void 0,icon:y.CommentLine,action:{type:"click",handler:async()=>i()},disabled:{disabled:!1}})),void 0),Ta=({activePreviewFile:e,commentIconWithUnreadCount:a})=>{var n;const{isRightSidebarComments:r,handleClick:o}=f.useCommentSidebarInteraction(i.UserActionContext.PreviewTopNav);if(f.isCloudDoc(e.file))return null;const s=a;return qe.default.createElement($i,{label:x.COMMENT_BUTTON_STRING,icon:qe.default.createElement(s,{fileId:e.file.file_id,sharedLinkURL:null===(n=e.sharedLinkInfo)||void 0===n?void 0:n.url}),action:async()=>o(),expanded:r,dataTooltip:t.TooltipDataSelector.TitleBarRightSectionComments})};Ta.displayName="CommentTitleBarRightSectionButton";const Ia=[i.SDKPreviewSurface.BACKUP,i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.PHOTOS,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.SHARED_COLLECTION,i.SDKPreviewSurface.SHARED_LINK_EMBED,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.TRANSFER,i.SDKPreviewSurface.UNKNOWN,i.SDKPreviewSurface.VERSION_HISTORY],ba=(e,t)=>!f.isCloudDoc(e)&&(!i.isSharedFile(e)||!!t&&p.isDownloadAllowed(t)),ya={filterValidFile:e=>!f.isLiveFile(e)||f.isPnmLinkNodeSelected(e)||f.isCloudDoc(e)?void 0:e,filterValidUser:e=>({user:e}),shouldShowForPreviewSurface:f.filterSurfaceIn(Ia),shouldShowForPreviewType:f.alwaysShow};function Aa(e){return{class:"share",action:"preview",object:"shared_content",properties:e}}const Pa=["loading","stable","complete"];const Ca=Symbol("ON_PAGE_MOUNTED"),Na=Symbol("ON_PAGE_UNMOUNTED"),Da=Symbol("ON_APP_MODULE_LOADED"),La=Symbol("ON_APP_MOUNTED"),Ma=Symbol("ON_CLICK_UPLOAD_MODAL_JOIN_BUTTON"),Oa=Symbol("ON_CLICK_ACTION_BAR_JOIN_BUTTON"),ka=Symbol("ON_CLICK_ACTION_BAR_DOWNLOAD_BUTTON"),Ra=Symbol("ON_CLICK_ENTRY_DOWNLOAD_BUTTON"),xa=Symbol("ON_SELECT_DROPBOX_HOME_ICON"),Fa=Symbol("ON_LIST_SHARED_LINK_FOLDER_ENTRIES_API_START"),Ua=Symbol("ON_LIST_SHARED_LINK_FOLDER_ENTRIES_API_SUCCESS"),Ba=Symbol("ON_LIST_SHARED_LINK_FOLDER_ENTRIES_API_FAILURE"),Va=Symbol("ON_HANDLE_CLICK_FILE"),Wa=Symbol("ON_HANDLE_CLICK_FOLDER"),Ha=Symbol("ON_LOAD_SORT_PREFERENCE_FROM_SESSION_STORAGE_SUCCESS"),Ka=Symbol("ON_LOAD_SORT_PREFERENCE_FROM_SESSION_STORAGE_FAILURE"),Ga=Symbol("ON_SAVE_SORT_PREFERENCE_TO_SESSION_STORAGE"),za=Symbol("ON_TOGGLE_VIEW_MODE"),ja=Symbol("ON_SAVE_VIEW_MODE_TO_SESSION_STORAGE"),Za=Symbol("ON_LOAD_VIEW_MODE_FROM_SESSION_STORAGE"),qa=Symbol("ON_LOAD_VIEW_MODE_FROM_SESSION_STORAGE"),Ja=Symbol("ON_LOG_FOLDER_PREVIEW_PAGE_TTVC"),Ya=Symbol("ON_SHARED_FOLDER_VIEW"),Xa=Symbol("ON_SHARED_FILE_VIEW"),Qa=Symbol("ON_CLICK_SHARED_CONTENT_ACTION");let $a=!1;const{useEmitter:en,defaultEmitter:tn}=l.defineLogger((async({event:e,getContextValue:t})=>{const a=t(w.Context);if(null===a||!a)return;const n=t(h.Context),r=await h.getHashedKeys(n),o=t(p.Context),s=e.payload&&"targetObjectMetadata"in e.payload?e.payload.targetObjectMetadata:t(ie.Context),l=e.payload&&"miscTargetObjectMetadata"in e.payload?e.payload.miscTargetObjectMetadata:t(Lt),c={...h.getTags(r),...w.getTags(a),...p.getTags(o),...ie.getTags(s),...Mt(l)},d=h.getProperties(r),u=w.getProperties(a),_=p.getProperties(o),m=ie.getProperties(s),f={isConfidential:null===(g=l).isConfidential?void 0:g.isConfidential};var g;if(e.key!==Ca){if(e.key!==La&&e.key!==Da&&e.key!==Na){if(e.key===Ya&&!$a)return $a=!0,void i.UDCL.logEvent(Aa({...d,...u,...m,...f}),{tags:{...c,...ie.getTags(s),...Mt(l)}});if(e.key!==Xa||$a)if(e.key===Ma)i.UDCL.logEvent("select.preview_action",{tags:{...c,action:"join",action_element:"upload_modal"}});else{if(e.key===Oa)return void i.UDCL.logEvent("select.preview_action",{tags:{action:"join",action_element:"action_bar",...c}});if(e.key===ka)return void i.UDCL.logEvent("select.preview_action",{tags:{action:"download",action_element:"action_bar",...c}});if(e.key===Ra)return void i.UDCL.logEvent("select.preview_action",{tags:{action:"download",action_element:e.payload.interactionType,...c}});if(e.key===xa)return void i.UDCL.logEvent("select.dropbox_home_icon",{detail:{action_element:"breadcrumb_bar"},tags:c});if(e.key===Fa)return void i.UDCL.logStart("ops.list_shared_link_folder_entries.api",{key:e.payload.loggingKey,tags:{status:"start",...c}});if(e.key===Ua)return void i.UDCL.logEnd("ops.list_shared_link_folder_entries.api",{key:e.payload.loggingKey,tags:{status:"success",...c},eventState:"success"});if(e.key===Ba)i.UDCL.logEnd("ops.list_shared_link_folder_entries.api",{key:e.payload.loggingKey,tags:{status:"failure",reason:e.payload.reason||"",...c},eventState:"failed"});else{if(e.key===Va)return void i.UDCL.logEvent("ops.folder_preview.handle_click_file",{tags:c});if(e.key===Wa)return void i.UDCL.logEvent("ops.folder_preview.handle_click_folder",{tags:c});if(e.key===Ha)i.UDCL.logEvent("ops.folder_preview.load_list_sort_preference",{tags:{direction:e.payload.direction,column:e.payload.column,status:"success",...c}});else{if(e.key===za)return void i.UDCL.logEvent("ops.folder_preview.toggle_view_mode",{tags:{previousViewMode:e.payload.previousViewMode,selectedViewMode:e.payload.selectedViewMode,...c}});if(e.key===Ka)return void i.UDCL.logEvent("ops.folder_preview.load_list_sort_preference",{tags:{direction:e.payload.direction,column:e.payload.column,status:"failure",...c}});if(e.key===Ga)i.UDCL.logEvent("ops.folder_preview.save_list_sort_preference",{tags:{direction:e.payload.direction,column:e.payload.column,...c}});else{if(e.key===ja)return void i.UDCL.logEvent("ops.folder_preview.save_view_mode",{tags:{viewMode:e.payload.viewMode,...c}});if(e.key===Za)return void i.UDCL.logEvent("ops.folder_preview.load_view_mode",{tags:{viewMode:e.payload.viewMode,status:"success",...c}});if(e.key===qa)return void i.UDCL.logEvent("ops.folder_preview.load_view_mode",{tags:{viewMode:e.payload.viewMode,status:"failure",...c}});e.key===Ja?i.UDCL.logEvent(function(e){return{class:"sharing_receiver",action:"log",object:"shared_folder_preview_ttvc",properties:e}}({duration:e.payload.duration,sharedFolderPreviewEntryCount:e.payload.folderContentsLength,navigationType:e.payload.navigationType,sharedFolderPreviewViewMode:e.payload.viewMode,isMobileWeb:e.payload.isMobileWeb,numberOfImagesAndVideos:e.payload.numImagesVideos,sortingColumn:e.payload.sortingColumn,sortingDirection:e.payload.sortingDirection,numberOfFileEntries:e.payload.numFileEntries,numberOfSubfolderEntries:e.payload.numSubfolderEntries,viewportWidth:e.payload.viewportWidth,viewportHeight:e.payload.viewportHeight,folderBodyWidth:e.payload.folderBodyWidth,folderBodyHeight:e.payload.folderBodyHeight,numberOfCapturedContents:e.payload.numCapturedContents,renderedContentsStatus:(S=e.payload.renderedContentsStatus,Pa.find((e=>e===(null==S?void 0:S.toLowerCase()))))}),{tags:c}):e.key===Qa&&i.UDCL.logEvent(function(e){return{class:"sharing_receiver",action:"select",object:"shared_content_action",properties:e}}({...d,...u,..._,...m,...f,actionElement:e.payload.actionElement,sharedContentAction:e.payload.action}),{tags:{...c,action:e.payload.action}})}}}}else $a=!0,i.UDCL.logEvent(Aa({...d,...u,...m,...f}),{tags:{...c,...ie.getTags(s),...Mt(l)}});var S}}else i.UDCL.logEvent({class:"sharing_receiver",action:"preview",object:"folder",properties:{...d,...u}},{tags:{isLeoRedesign:e.payload.isLeoRedesign.toString(),...c}})})),an=t=>{const{file:a}=t.getActiveFile();return{label:x.DOWNLOAD_ACTION_STRING,icon:F.DownloadLine,userAction:i.UserAction.Download,action:{type:"click",handler:()=>new Promise((function(t,i){e(["./c_action_plugins_download_action_action"],t,i)})).then((({downloadActionWrapper:e})=>e(t)))},disabled:ba(a,t.sharePermission)?{disabled:!1}:{disabled:!0,tooltipMessage:x.DISABLED_FOR_THIS_FILE_TOOLTIP_STRING}}},nn=a=>({label:x.COPY_TO_DROPBOX_ACTION_STRING,userAction:i.UserAction.SaveToDropbox,icon:i.DropboxLine,action:{type:"click",handler:()=>new Promise((function(t,i){e(["./c_action_plugins_download_action_action"],t,i)})).then((({sharedCopyActionWrapper:e})=>e(a)))},disabled:a.sharePermission&&p.isDownloadAllowed(a.sharePermission)?{disabled:!1}:{disabled:!0,tooltipMessage:x.SAVE_COPY_NO_PERMISSION_TOOLTIP_STRING},dataTooltip:t.TooltipDataSelector.SaveACopy}),rn=f.withActionCondition(ya,((e,t,a,n,r,o,s,l,c,d,u,_,m,p)=>{const f={getActiveFile:t,logUserAction:a,fileContentMetadata:n,previewSurface:r,user:e.user,shareToken:s,sharePermission:l,encryptionOptions:c,reduceUpsells:o,fileName:d,userActionContext:u,onLogSharedActionClick:m,userPresentableVerdict:p,queryClient:_};return i.isSharedFile(e.file)&&r!==i.SDKPreviewSurface.SHARED_COLLECTION?[nn(f),an(f)]:[an(f)]}),[]),on=qe.default.memo((e=>qe.default.createElement(sn,{...e,userActionContext:i.UserActionContext.PreviewTopNav})));on.displayName="DownloadActionButton";const sn=({getActiveFile:t,fileContentMetadata:a,fileName:n,previewSurface:r,user:o,shareToken:s,sharePermission:l,encryptionOptions:c,reduceUpsells:d,outOfQuota:u,videoEditEligible:_,userActionContext:m,userPresentableVerdict:p})=>{const{logUserAction:f}=i.useFileViewerContext(),g=t().file,S=ba(g,l),E=qe.default.useMemo((()=>S?{disabled:!1}:{disabled:!0,tooltipMessage:x.DISABLED_FOR_THIS_FILE_TOOLTIP_STRING}),[S]),v=en(),h=H.useQueryClient(),w=qe.default.useCallback((()=>(f(i.UserAction.Download,m),i.isSharedFile(t().file)&&v.select(Qa).emit({actionElement:"action_bar",action:"download"}),new Promise((function(t,i){e(["./c_action_plugins_download_action_action"],t,i)})).then((({downloadActionWrapper:e})=>e({getActiveFile:t,logUserAction:f,fileContentMetadata:a,fileName:n,previewSurface:r,user:o,shareToken:s,sharePermission:l,encryptionOptions:c,reduceUpsells:d,outOfQuota:u,videoEditEligible:_,userActionContext:m,userPresentableVerdict:p,queryClient:h}))))),[d,v,c,a,n,t,f,u,r,l,s,o,m,p,_,h]);return qe.default.createElement($i,{label:x.DOWNLOAD_ACTION_STRING,icon:qe.default.createElement(i.UIIcon,{src:F.DownloadLine}),action:w,disabled:E})};sn.displayName="DownloadActionButtonImpl";const ln={filterValidFile:(e,t,i,a)=>a?e:void 0,filterValidUser:e=>({user:e}),shouldShowForPreviewSurface:e=>e===i.SDKPreviewSurface.VERSION_HISTORY,shouldShowForPreviewType:f.alwaysShow},cn=f.withActionCondition(ln,((e,t)=>{if(t)return{label:x.RESTORE_ACTION_STRING,icon:ae.RewindLine,userAction:i.UserAction.Restore,disabled:{disabled:!1},action:{type:"click",handler:async()=>t()}}}),void 0),dn=qe.default.memo((e=>qe.default.createElement(un,{...e,userActionContext:i.UserActionContext.PreviewTopNav})));dn.displayName="RestoreActionButton";const un=({canRestoreRevision:e,userActionContext:t,onRestoreRevision:a})=>{const{logUserAction:n}=i.useFileViewerContext(),r=e&&a,o=qe.default.useMemo((()=>r?{disabled:!1}:{disabled:!0,tooltipMessage:x.DISABLED_FOR_THIS_FILE_TOOLTIP_STRING}),[r]),s=qe.default.useCallback((()=>{n(i.UserAction.Restore,t),a&&a()}),[n,a,t]);return qe.default.createElement(ea,{text:x.RESTORE_ACTION_STRING,action:s,icon:qe.default.createElement(i.UIIcon,{src:ae.RewindLine}),disabled:o})};un.displayName="RestoreActionButtonImpl";i.injectInternalStyle("/static/metaserver/static/js/dropbox_ai_assistant/dash_chat/floating_action_button.module.out-vfl5JXR4Y.css",(e=>"._floatingActionButtonContainer_eqbs8_3{bottom:12px;position:fixed;right:12px;z-index:1000}[dir=rtl] ._floatingActionButtonContainer_eqbs8_3{left:12px;right:auto}._floatingActionButton_eqbs8_3{align-items:center;aspect-ratio:1/1;background:linear-gradient(to bottom right,var(--dig-color__selection__surface--state-2) 0,var(--dig-color__background__raised) 50%) 100% 100% /50% 50% no-repeat,linear-gradient(to bottom left,var(--dig-color__selection__surface--state-2) 0,var(--dig-color__background__raised) 50%) 0 100% /50% 50% no-repeat,linear-gradient(to top left,var(--dig-color__selection__surface--state-2) 0,var(--dig-color__background__raised) 50%) 0 0 /50% 50% no-repeat,linear-gradient(to top right,var(--dig-color__selection__surface--state-2) 0,var(--dig-color__background__raised) 50%) 100% 0 /50% 50% no-repeat;border:1px solid var(--dig-color__border__subtle);border-radius:999px;box-shadow:0 16px 32px 0 var(--dig-color__shadow__elevated);display:flex;flex-direction:column;height:60px;justify-content:center;width:60px}"));const _n="_floatingActionButtonContainer_eqbs8_3",mn="_floatingActionButton_eqbs8_3",pn=qe.default.forwardRef((({children:e,tooltipText:t,hideTooltip:a,containerStyleOverride:n,logFloatingActionButtonShown:r,...o},s)=>{qe.default.useEffect((()=>{null==r||r()}),[r]);const l=qe.default.createElement(i.IconButton,{variant:"outline",size:"xlarge",ref:s,className:mn,tabIndex:0,...o},e);return qe.default.createElement(i.ThemeProvider,{subtheme:i.aiSubtheme},qe.default.createElement(i.ThemeContainer,null,qe.default.createElement("div",{className:_n,style:n},!a&&t?qe.default.createElement(i.Tooltip,{title:t},qe.default.createElement("div",null,l)):l)))}));pn.displayName="FloatingActionButton",pn.displayName="FloatingActionButton";i.injectInternalStyle("/static/metaserver/static/js/file_viewer/title_bar/shared/dash_chat_button.module.out-vfl63qTwh.css",(e=>"._dash-chat-button_1tll0_1>*{margin-left:var(--dig-spacing__micro__large)}"));const fn=e=>[i.PreviewType.Video,i.PreviewType.Audio].includes(e)?{bottom:"80px"}:e===i.PreviewType.Excel?{bottom:"37px"}:void 0,gn=({activePreviewFile:e,user:t,previewSurface:a,previewType:n,isNestedArchiveFile:r})=>{const o={previewSurface:a,user:t,file:e.file,sharePermission:e.sharePermission,sharedLinkInfo:e.sharedLinkInfo,previewType:n,isNestedArchiveFile:r},s=f.getActionCondition(o,Yt),l=i.useIsDashChatM1Enabled(),c=i.useGetDashChatSidebarOpenState();return t&&s&&l&&!c},Sn=({file:e,previewType:t})=>{const a=r.useIntl(),o=i.useIsMobileScreen(i.Breakpoint.MOBILE),s=i.useGetDashChatSidebarOpenState(),l=z.useSetRightSidebarCallback(i.UserActionContext.DashChat),[c,d]=n.useState(!1),[u,_]=n.useState(!1),m=n.useCallback((()=>_(!0)),[]),p=n.useCallback((()=>_(!1)),[]),f=n.useRef(null),[g,S]=n.useState(null),E=n.useCallback((e=>{S(e)}),[]),v=i.useIsDashChatFabEnabled(),h=re.useRightSidebarId(),[,w]=i.useDashChatPromptSuggestionCardTimeout(i.WebIASurface.PREVIEWS),T=v&&!h&&!s&&!c,I=!v||!h,b=(({file:e,previewType:t})=>{const a=i.useIsDashChatM1Enabled(),n=i.useListAISupportedFileTypes(a);return Xt({file:e,previewType:t,supportedFileTypes:n})})({file:e,previewType:t}),y=!!b,A=b?a.formatMessage(ei(b)):void 0,P=()=>{s?i.closeDashChatSidebar(i.WebIASidebarClosedReason.MANUAL_CLOSE):(l(void 0),w(!0),v?i.dispatchWebIAUserAction({type:"previews.floating_action_button",file:e}):i.dispatchWebIAUserAction({type:"previews.titlebar",file:e}))},C=n.useCallback((()=>{i.logFloatingActionButtonShown(i.WebIASurface.PREVIEWS,y)}),[y]),N=a.formatMessage({id:"9YdNqR",defaultMessage:"Ask Dash"}),D=a.formatMessage({id:"hHCAw/",defaultMessage:"Button to trigger dash chat sidebar"}),L=h?null:qe.default.createElement(pn,{onClick:P,"aria-label":D,onMouseEnter:m,onMouseLeave:p,disabled:y,"aria-disabled":y,hideTooltip:T,tooltipText:null!=A?A:N,"aria-describedby":c?ne.DASH_CHAT_DISMISS_TOOLTIP_ID:void 0,ref:E,containerStyleOverride:fn(t),logFloatingActionButtonShown:C},y?qe.default.createElement(i.UIIcon,{src:R.AiFill}):qe.default.createElement(ne.DashCTAAnimatedIcon,{isHovered:u,size:"large"})),M=v?L:qe.default.createElement("div",{className:i.cx("_dash-chat-button_1tll0_1")},o?qe.default.createElement(i.IconButton,{onClick:P,variant:"outline",size:"large","aria-label":D,onMouseEnter:m,onMouseLeave:p,disabled:y,"aria-disabled":y,"aria-describedby":c?ne.DASH_CHAT_DISMISS_TOOLTIP_ID:void 0,ref:f},y?qe.default.createElement(i.UIIcon,{src:R.AiFill}):qe.default.createElement(ne.DashCTAAnimatedIcon,{isHovered:u,size:"large"})):qe.default.createElement(i.Button,{onClick:P,onMouseEnter:m,onMouseLeave:p,"aria-label":D,variant:"outline",size:"large",withIconStart:y?qe.default.createElement(i.UIIcon,{src:R.AiFill}):qe.default.createElement(ne.DashCTAAnimatedIcon,{isHovered:u,size:"medium"}),disabled:y,"aria-disabled":y,"aria-describedby":c?ne.DASH_CHAT_DISMISS_TOOLTIP_ID:void 0,ref:f},N));return y&&A&&M?qe.default.createElement(i.Tooltip,{title:A},M):qe.default.createElement(qe.default.Fragment,null,M,I&&qe.default.createElement(ne.DashChatButtonDismissTooltip,{onDisplayChange:d,tooltipId:ne.DASH_CHAT_DISMISS_TOOLTIP_ID,triggerRef:f.current?f:{current:g},surface:i.WebIASurface.PREVIEWS}),T&&g?qe.default.createElement(ne.DashChatPromptSuggestionCardOnPreview,{anchorEl:g,file:e}):null)};Sn.displayName="AskDashButton";i.injectInternalStyle("/static/metaserver/static/js/file_viewer/title_bar/shared/login_signup_buttons.module.out-vflVVffhi.css",(e=>"._auth_1gst6_1>:not(:last-child){margin-right:8px}._low-distraction-view_1gst6_5{padding-right:var(--dig-spacing__micro__xlarge)}"));const En=({showAuthModal:e,activePreviewFile:t,className:a})=>{var n;const o=r.useIntl(),s=o.formatMessage({id:"VbukJp",defaultMessage:"Log in"}),l=t.sharedLinkInfo&&(null===(n=t.sharePermission)||void 0===n?void 0:n.isSharedFolder)?"outofband_folder_share":"outofband_file_share";return qe.createElement("div",{className:i.cx("_auth_1gst6_1",a)},qe.createElement(i.Button,{onClick:()=>e({mode:i.Mode.LOGIN,kind:i.LoginOrRegisterKind.SIDEBAR,webSignInTag:l,loggingExtra:{signup_source:"nav_signin_cta"},authDialogPreviousElement:i.AuthDialogPreviousElementTag.LOG_IN,sharedLinkInfo:t.sharedLinkInfo}),"aria-label":o.formatMessage({id:"Cg3xuN",defaultMessage:"Button to trigger login dialog"}),variant:"opacity",size:"large"},s),qe.createElement(i.Button,{className:"previews_campaign_slot_sign_up",onClick:()=>e({mode:i.Mode.REGISTER,kind:i.LoginOrRegisterKind.SIDEBAR,webSignInTag:l,loggingExtra:{signup_source:"nav_signup_cta"},authDialogPreviousElement:i.AuthDialogPreviousElementTag.SIGN_UP,sharedLinkInfo:t.sharedLinkInfo}),"aria-label":o.formatMessage({id:"B9J0l9",defaultMessage:"Button to trigger sign up dialog"}),variant:"primary",size:"large"},o.formatMessage({id:"5KEf7W",defaultMessage:"Sign up"})))};En.displayName="LoginSignupButtons";const vn=()=>{const{titleBarPassUi:e}=i.useFileViewerSubRegionContext();return qe.default.useMemo((()=>e?(e=>t=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(e,{...t})))(e):Gi),[e])};i.injectInternalStyle("/static/metaserver/static/js/file_viewer/title_bar/title_bar_right_section.module.out-vflFwZKYX.css",(e=>"._titleBarRightSection_1rs6t_1{align-items:flex-end;display:flex;flex-direction:column;justify-content:flex-start;margin-left:var(--dig-spacing__macro__large)}._titleBarRightSectionTopRow_1rs6t_9{align-items:center;display:flex}._titleBarRightSection_1rs6t_1>:not(:last-child){margin-bottom:var(--dig-spacing__micro__small)}._editorActions_1rs6t_18{gap:var(--dig-spacing__micro__large)}._editorActions_1rs6t_18,._titleBarActionButtons_1rs6t_24{align-items:center;display:flex}._titleBarActionButtons_1rs6t_24>*{margin-left:0}._titleBarFileCounterContainer_1rs6t_33{margin:0;white-space:nowrap}._titleBarFileCounter_1rs6t_33{color:var(--dig-color__text__subtle);margin:0 var(--dig-spacing__micro__xsmall)}._separator_1rs6t_43{border-right:1px solid var(--dig-color__border__subtle);height:var(--dig-spacing__macro__medium);margin:0 var(--dig-spacing__micro__large);width:0}"));i.injectInternalStyle("/static/metaserver/static/js/previews/ui/sharing_plugin/share_button.module.out-vflWyIyzH.css",(e=>'._disabled-share-button_wkl3h_1{display:"inline-block";margin-left:var(--dig-spacing__micro__large)}._share-actions_wkl3h_6{display:flex;gap:var(--dig-spacing__micro__large)}._share-button-container_wkl3h_11{display:flex}._share-actions-bmus_wkl3h_15{align-items:center;gap:normal}._share-actions-bmus_wkl3h_15 ._share-button-container_wkl3h_11{padding-left:0}._share-actions-bmus_wkl3h_15 ._low-distraction-view_wkl3h_24{padding-right:var(--dig-spacing__micro__small)}'));const hn="_share-button-container_wkl3h_11";i.injectInternalStyle("/static/metaserver/static/js/previews/ui/sharing_plugin/copy_link_button.module.out-vflsd2dqf.css",(e=>"._copy-link-button_1dhjp_1{padding:0 var(--dig-spacing__micro__small)}._copy-link-button-container_1dhjp_5{align-self:center}._simple-copy-link-button-success_1dhjp_9{color:var(--dig-color__text__subtle)}._copy_link_icon_only_1dhjp_13{width:40px}._copy-link-button-bmus_1dhjp_17{padding:0}._copy-link-button-bmus_1dhjp_17 span span{margin-right:0}"));const wn="_copy-link-button_1dhjp_1",Tn="_copy-link-button-container_1dhjp_5",In="_simple-copy-link-button-success_1dhjp_9",bn=r.intl.formatMessage({id:"Kb7u3s",defaultMessage:"Copy link"}),yn=r.intl.formatMessage({id:"DsCb47",defaultMessage:"Loading modal"}),An=r.intl.formatMessage({id:"Vxze7Q",defaultMessage:"Share"}),Pn=r.intl.formatMessage({id:"FYZVZV",defaultMessage:"Link Copied!"}),Cn=r.intl.formatMessage({id:"t0CNN+",defaultMessage:"Copied!"}),Nn=({user:e,fileId:t,filePath:a,file:r,anchorRef:o,showSimpleCopyLinkButton:s,enableWebSharing:l})=>{const{logUserAction:c}=i.useFileViewerContext(),d=!!e;let u=d?void 0:An,m=d?qe.default.createElement(i.UIIcon,{src:k.LinkLine}):qe.default.createElement(i.UIIcon,{src:i.ShareArrowLine});l&&(u=void 0,m=qe.default.createElement(i.UIIcon,{src:k.LinkLine}));const[p,f]=n.useState(u),[g,S]=n.useState(m),[E,h]=n.useState(!1);n.useEffect((()=>{if(E){const e=setTimeout((()=>{f(u),S(m),h(!1)}),3e3);return()=>{clearTimeout(e)}}return()=>{}}),[E]);const w=qe.default.useCallback((()=>{const n=O.vendSenderTrackey(),r=O.appendTrackeyToSharedLinkAndSortParams(window.location.href,n);D.logPAPCopySharedLinkEvent({eventState:"start",actionSurface:i.ActionSurfaceLogValue.PREVIEW_TITLEBAR,fileIdOrPath:t,hasCachedLink:!0,url:r}),c(i.UserAction.CopyLink,i.UserActionContext.PreviewTopNav),v.copyToClipboard(r),h(!0),f(d?Cn:Pn),S(qe.default.createElement(i.UIIcon,{src:i.CheckmarkCircleLine}));const o=_.get_browser_info();D.logPAPCopySharedLinkEvent({eventState:"success",actionSurface:i.ActionSurfaceLogValue.PREVIEW_TITLEBAR,requestedAccessLevel:"viewer",fileIdOrPath:t,hasCachedLink:!0,url:r});const s={file_id:t,fq_path:a,browser:o.browser,browser_version:o.version,sender_trackey:n};e?i.ShareTibEventLogger.log(e.id,A.TiburonEventName.CopySharedLink,i.SHARE_ACTION_ORIGIN_TYPE.SIMPLE_COPY_LINK_FILE_PREVIEW,s):i.ShareTibEventLogger.log_unauth(A.TiburonEventName.CopySharedLink,i.SHARE_ACTION_ORIGIN_TYPE.SIMPLE_COPY_LINK_FILE_PREVIEW,s)}),[t,a,c,d,e]),T=V.useShowCopyLinkMiniModalCallback(),I=qe.default.useCallback((()=>{if(!d)return;c(i.UserAction.CopyLink,i.UserActionContext.PreviewTopNav);const a={browseFile:r,user:e,filePath:t,setIsCreatingSharedLink:()=>{},anchorRef:o,userActionSurfaceLogValue:i.ActionSurfaceLogValue.PREVIEW_TITLEBAR,zIndexOverride:500,yOffsetDistance:8,isCenteredDisplayed:!1};T.fn(a)}),[d,e,c,r,t,o,T]);if(l)return E?qe.default.createElement(i.Button,{variant:"borderless",size:"large",onClick:w,"aria-label":bn,"data-testid":"copy-link-button",withIconStart:qe.default.createElement(i.UIIcon,{src:i.CheckmarkCircleLine}),className:i.cx("_copy-link-button-bmus_1dhjp_17",{[In]:E})},qe.default.createElement(i.Text,{className:i.cx({[In]:E}),style:{fontWeight:"500",fontSize:"14px",lineHeight:"18px"}},p)):qe.default.createElement(i.Tooltip,{title:bn},qe.default.createElement(i.IconButton,{variant:"borderless",size:"large",onClick:w,"aria-label":bn,"data-testid":"copy-link-button",className:i.cx(wn)},qe.default.createElement(i.UIIcon,{src:k.LinkLine})));const b=qe.default.createElement(i.Tooltip,{title:bn},qe.default.createElement(i.IconButton,{className:wn,variant:"borderless",size:"large",onClick:I,"aria-label":bn,"data-testid":"copy-link-button",disabled:T.status===i.MafLoadAfterDisplayStatus.Loading},T.status===i.MafLoadAfterDisplayStatus.Loading?qe.default.createElement(i.Spinner,{size:"small","aria-valuetext":yn}):qe.default.createElement(i.UIIcon,{src:k.LinkLine}))),y=qe.default.createElement("div",{className:Tn},qe.default.createElement(i.Tooltip,{title:void 0===p?bn:p},qe.default.createElement(i.Button,{variant:d&&!E?"borderless":"transparent",size:"large",onClick:w,"aria-label":bn,"data-testid":"copy-link-button",withIconStart:g,className:i.cx({[In]:E,[wn]:!(d&&!E),_copy_link_icon_only_1dhjp_13:d&&!E})},qe.default.createElement(i.Text,{className:i.cx({[In]:E}),style:{fontWeight:"500",fontSize:"14px",lineHeight:"18px"}},p))));return!r&&s?y:b};Nn.displayName="RedesignedCopyLinkButton";const Dn=r.intl.formatMessage({id:"WJB9Vr",defaultMessage:"Share to"}),Ln=({user:e,fileId:t,filePath:a,fileName:n})=>{const{logUserAction:r}=i.useFileViewerContext(),o=qe.default.useCallback((async()=>{const o=O.vendSenderTrackey(),s=(e=>{const t=u.URI.parse(e);return t.updateQuery({bmus:"1"}),t.toString(i.sortRighteousLinkParams)})(O.appendTrackeyToSharedLinkAndSortParams(window.location.href,o)),l={title:document.title||n,url:s};D.logPAPWebShareSharedLinkEvent({eventState:"start",actionSurface:i.ActionSurfaceLogValue.PREVIEW_TITLEBAR,fileIdOrPath:t,hasCachedLink:!0,url:s}),r(i.UserAction.WebShare,i.UserActionContext.PreviewTopNav);try{if(!(navigator.canShare&&navigator.canShare(l)&&navigator.share))throw new Error("Web Share API not supported");await navigator.share(l),D.logPAPWebShareSharedLinkEvent({eventState:"success",actionSurface:i.ActionSurfaceLogValue.PREVIEW_TITLEBAR,requestedAccessLevel:"viewer",fileIdOrPath:t,hasCachedLink:!0,url:s})}catch(e){D.logPAPWebShareSharedLinkEvent({eventState:"failed",actionSurface:i.ActionSurfaceLogValue.PREVIEW_TITLEBAR,requestedAccessLevel:"viewer",fileIdOrPath:t,hasCachedLink:!0,url:s,exception:L.CopyLinkException.FAILED_WEB_SHARE})}const c=_.get_browser_info(),d={file_id:t,fq_path:a,browser:c.browser,browser_version:c.version,sender_trackey:o};e?i.ShareTibEventLogger.log(e.id,A.TiburonEventName.ShareLinkViaWebShare,i.SHARE_ACTION_ORIGIN_TYPE.WEB_SHARE_FILE_PREVIEW,d):i.ShareTibEventLogger.log_unauth(A.TiburonEventName.ShareLinkViaWebShare,i.SHARE_ACTION_ORIGIN_TYPE.WEB_SHARE_FILE_PREVIEW,d)}),[t,a,n,r,e]);return qe.default.createElement("div",{className:Tn},qe.default.createElement(i.Tooltip,{title:Dn},qe.default.createElement(i.Button,{variant:"transparent",size:"large",onClick:o,"aria-label":Dn,"data-testid":"web-share-button",withIconStart:qe.default.createElement(i.UIIcon,{src:i.ShareArrowLine}),className:wn,tabIndex:0},qe.default.createElement(i.Text,{style:{fontWeight:"500",fontSize:"14px",lineHeight:"18px"}},Dn))))};Ln.displayName="WebShareButton";const Mn=r.defineMessage({id:"VzQ1nj",defaultMessage:"Ask the owner of this file for permission to share it with others"}),On=r.defineMessage({id:"JDi0M8",defaultMessage:"Share"}),kn=()=>{const e=r.useIntl(),t=e.formatMessage(On),a=e.formatMessage(Mn),n=qe.default.createElement(i.UIIcon,{src:i.ShareArrowLine});return qe.default.createElement(i.Tooltip,{title:a,placement:"left"},qe.default.createElement("span",{className:"_disabled-share-button_wkl3h_1",tabIndex:0},qe.default.createElement(i.SplitButton,{variant:"primary",size:"large",disabled:!0,renderMenu:({buttonProps:e})=>qe.default.createElement(i.Menu.Wrapper,null,(({getTriggerProps:t,getContentProps:a})=>qe.default.createElement(qe.default.Fragment,null,qe.default.createElement(i.Button,{"aria-label":"Show options",...e,...t(),disabled:!0}),qe.default.createElement(i.Menu.Content,{...a(),placement:"bottom-end"}))))},n,t)))};kn.displayName="DisabledShareButton";const Rn=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.PHOTOS,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.HOME],xn=t=>{var a;const{previewSurface:n,activeFile:r,user:o}=t,s=qe.default.useRef(null),[l,c]=qe.default.useState(void 0);i.usePrefetchIntegrationsData();const{logUserAction:d}=i.useFileViewerContext(),u=n===i.SDKPreviewSurface.SHARED_CONTENT_LINK||n===i.SDKPreviewSurface.SHARED_LINK||n===i.SDKPreviewSurface.SHARED_COLLECTION||n===i.SDKPreviewSurface.INBAND_SHARE,m=i.isSharedFile(r),p=i.isEncryptedFile(r),g=n===i.SDKPreviewSurface.BROWSE&&o&&i.isBrowseFile(r),S=i.useExperimentVariant("sm24_on_previews_esv");S.isLoading||"ON"!==S.variant||Rn.push(i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW);const E=Rn.includes(n),v="web"===i.getExtension(r),h=E&&o&&o.is_email_verified,w=re.useCurrentPageCount(),T=se.useEmitter();i.UDCL.logEvent("ops.sm24.preview_surface_allowlist",{tags:{previewSurface:n,isPreviewSurfaceAllowed:E.toString(),isEmailVerified:(null===(a=null==o?void 0:o.is_email_verified)||void 0===a?void 0:a.toString())||"undefined",shouldShowShareMe24:(null==h?void 0:h.toString())||"undefined"}});const I=n===i.SDKPreviewSurface.SHARED_LINK||n===i.SDKPreviewSurface.SHARED_COLLECTION||n===i.SDKPreviewSurface.SHARED_CONTENT_LINK&&f.rlKeyExists()&&!f.getDoesCurrentPathStartWithSclFo(),b=i.useAfterDisplayPassthroughCallback({importer:async()=>new Promise((function(t,i){e(["./c_integrations_hellosign_deep_integration_util.after-display"],t,i)})).then((({openSendForSignatureOnPreviews:e})=>({default:{fn:e}})))}),y=i.useAfterDisplayModule({importer:async()=>({default:await new Promise((function(t,i){e(["./c_shareme24_browse_integration_index.after-display"],t,i)}))})}),A=z.useSetActiveEditorCallback(),P=qe.default.useCallback((async(e,t,i)=>b.fn(e,A,n,o,w,t,i)),[b,A,n,o,w]),C=i.useAfterDisplayPassthroughCallback({importer:()=>new Promise((function(t,i){e(["./c_file_viewer_common_share_helpers.after-display"],t,i)})).then((e=>({default:{fn:e.share}})))}),[N,D]=qe.default.useState(!1),[L,M]=qe.default.useState(""),O=qe.default.useMemo((()=>({origin:u?i.SHARE_ACTION_ORIGIN_TYPE.SHARING_PREVIEW_PAGE:i.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,flexibleSharingEntrypoint:"V4",shouldDisableImportContacts:t.previewSurface===i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW})),[u,t.previewSurface]),k=V.useShowCopyLinkMiniModalCallback(),R=qe.default.useCallback((e=>{if(o){if(c(e),h){if(v){const e={file:r,browseFile:r,user:o,filePath:r.file_id,setIsCreatingSharedLink:()=>{},actionSurface:"previews",actionElement:"split_share_menu",userActionSurfaceLogValue:i.ActionSurfaceLogValue.PREVIEW_TITLEBAR,userActionSource:null==O?void 0:O.userActionSource,origin:null==O?void 0:O.origin,isCenteredDisplayed:!1,anchorRef:s,isFromShareMe24Modal:!0,isTriggeredAsShareModal:!0,yOffsetDistance:8,zIndexOverride:500};return void k.fn(e)}const e=Math.random().toString();return T.select(se.CLICK_SHARE_BUTTON_ON_FILE_PREVIEWS).emit({file:r,sessionId:e}),M(e),void D(!0)}C.fn(r,o,null,O)}}),[r,o,O,C,T,h,k,v]),x=qe.default.useMemo((()=>({...r,icon:i.isBrowseFile(r)?r.icon:"",fq_path:i.isBrowseFile(r)?r.fq_path:"",is_cloud_doc:f.isCloudDoc(r),type:f.getType(r),target_ns:i.isBrowseFile(r)?r.target_ns:0})),[r]),F=qe.default.useMemo((()=>({...r,is_dir:void 0!==r.is_dir&&r.is_dir})),[r]),U=(_.safari||_.edge||_.windows&&_.chrome)&&!!(null===navigator||void 0===navigator?void 0:navigator.share)&&!!(null===navigator||void 0===navigator?void 0:navigator.canShare)&&!o&&!p&&I;qe.default.useEffect((()=>{(()=>{const e=new URL(window.location.href);e.searchParams.has("bmus")&&(e.searchParams.delete("bmus"),window.history.replaceState(window.history.state,"",e))})()}),[]);const B=!p,W=!u&&!p,H=m&&n===i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW;return n===i.SDKPreviewSurface.VERSION_HISTORY?null:qe.default.createElement(qe.default.Fragment,null,qe.default.createElement("div",{className:i.cx("_share-actions_wkl3h_6",{"_share-actions-bmus_wkl3h_15":U}),ref:s},B&&!I&&g&&qe.default.createElement(Un,{showShareButton:W,modalRef:s,showSimpleCopyLinkButton:!1,...t}),B&&!I&&!g&&qe.default.createElement(Fn,{showShareButton:W,modalRef:s,isSharing:m,...t}),B&&I&&!g&&(U?qe.default.createElement(qe.default.Fragment,null,qe.default.createElement(Un,{showShareButton:W,modalRef:s,showSimpleCopyLinkButton:!0,enableWebSharing:U,...t}),qe.default.createElement(Bn,{showShareButton:W,...t})):qe.default.createElement(Un,{showShareButton:W,modalRef:s,showSimpleCopyLinkButton:!0,...t})),W&&o&&!H&&qe.default.createElement(oe.SingleFileShareButton,{files:[x],user:o,variant:"primary",onShowShare:R,previewsLogUserAction:d,onSendForSignature:P,size:"large",isLoading:b.status===i.MafLoadAfterDisplayStatus.Loading||C.status===i.MafLoadAfterDisplayStatus.Loading,actionSurface:i.ActionSurfaceLogValue.PREVIEW_TITLEBAR})),h&&N&&y&&null!==s.current&&!v&&qe.default.createElement(i.Provider,{store:i.getStoreForBrowse()},qe.default.createElement(y.ShareMe24Browse,{fileOrFolder:F,user:o,shareModalExtras:O,displayType:"anchored",anchorRef:s,isOpen:N,onRequestClose:()=>{var e;D(!1),null===(e=null==l?void 0:l.current)||void 0===e||e.focus()},onInbandShareCompleted:()=>D(!1),actionSurface:"previews",actionElement:"split_share_menu",progressiveInbandVariant:"V4",sessionId:L,onFallback:()=>{D(!1),C.fn(F,o,null,O)},onActionClicked:()=>D(!1),overlayPlacement:"bottom-end"})))};xn.displayName="RedesignedShareButton";const Fn=e=>{var t;const a=i.sharingMetadataAlphaPackage.useQuery({apiArg:{file:e.activeFile.file_id},pkgArg:{isNonUserRelativeContext:!1}}),n=(null===(t=null==a?void 0:a.data)||void 0===t?void 0:t.apiData)?i.fileMetadataApiToRecord(a.data.apiData):void 0,r=n&&[i.ACCESS_LEVEL.WRITER,i.ACCESS_LEVEL.OWNER].includes(n.access_type);return e.isSharing&&!r&&n&&e.previewSurface!==i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW?qe.default.createElement(kn,null):r?qe.default.createElement(Un,{...e}):null};Fn.displayName="CopyLinkButtonMetadataWrapper";const Un=({activeFile:e,user:t,showShareButton:a,modalRef:n,showSimpleCopyLinkButton:r,enableWebSharing:o})=>qe.default.createElement("div",{className:i.cx(hn)},qe.default.createElement(Nn,{file:i.isBrowseFile(e)?e:void 0,fileId:e.file_id,user:t,variant:a?"opacity":"primary",anchorRef:n,showSimpleCopyLinkButton:r,enableWebSharing:o}));Un.displayName="CopyLinkButtonComponent";const Bn=({activeFile:e,user:t,showShareButton:a})=>qe.default.createElement("div",{className:i.cx(hn)},qe.default.createElement(Ln,{file:i.isBrowseFile(e)?e:void 0,fileId:e.file_id,user:t,variant:a?"opacity":"primary"}));Bn.displayName="WebShareButtonComponent";const Vn=r.defineMessage({id:"f9nEyK",defaultMessage:"Unsaved changes"}),Wn=r.defineMessage({id:"jr0/mV",defaultMessage:"No changes made"}),Hn=({onLogInOrSignUp:e,editorCanSave:t=!0})=>qe.createElement(i.Text,{color:"faint"},qe.createElement(i.FormattedMessage,{id:"3UzzHS",defaultMessage:"<btn>Log in</btn> or <btn>Sign up</btn> to save",values:{btn:a=>qe.createElement(i.Button,{variant:"transparent",onClick:e,disabled:!t,className:i.atoms({fontFamily:"Text"})},a)}}));Hn.displayName="LoggedOutChangesLabel";const Kn=({hasEditorChanges:e,isEditorReady:t,editorCanSave:a,onLogInOrSignUp:n,color:o,showLoggedOutLabel:s})=>{const l=r.useIntl(),c=e?Vn:Wn;return t?qe.createElement(i.Box,{display:"flex",flexDirection:"column",borderWidth:"1",borderColor:"Border Subtle",borderRight:"Solid",paddingRight:"Micro Large"},qe.createElement(i.Text,{color:o},l.formatMessage(c)),s&&qe.createElement(Hn,{onLogInOrSignUp:n,editorCanSave:a})):null};Kn.displayName="TitleBarEditorChangesDisplay";i.injectInternalStyle("/static/js/file_viewer/titlebar/editor_actions.module.out-vflVp6gai.css",(e=>"._titleBarActionButtons_s9sre_1{display:flex}._titleBarActionButtons_s9sre_1>*{margin-left:var(--dig-spacing__micro__small)}"));var Gn;!function(e){e.SAVE_COPY="SAVE_COPY",e.REPLACE_ORIGINAL="REPLACE_ORIGINAL"}(Gn||(Gn={}));const zn=r.defineMessage({id:"wKJF7t",defaultMessage:"Save a copy"}),jn=r.defineMessage({id:"3bimYD",defaultMessage:"Replace original"}),Zn=r.defineMessage({id:"bCvfFu",defaultMessage:"Save"}),qn=r.defineMessage({id:"H9szIK",defaultMessage:"Cancel"}),Jn=({titleBarActionGetters:e,canEdit:t,size:a})=>{const n=r.useIntl(),{onSaveReplace:o,isEditorReady:s,onCancel:l,onSaveCopy:c,hasEditorChanges:d,editorCanSave:u}=e,_=!s||!d||!u,m=qe.useCallback((e=>{switch(e){case Gn.REPLACE_ORIGINAL:null==o||o();break;case Gn.SAVE_COPY:null==c||c()}}),[c,o]);return qe.createElement("div",{className:"_titleBarActionButtons_s9sre_1"},qe.createElement(i.Button,{variant:"opacity",size:a,onClick:l},n.formatMessage(qn)),t?qe.createElement(i.Menu.Wrapper,{onSelection:m},(({getTriggerProps:e,getContentProps:t})=>qe.createElement(qe.Fragment,null,qe.createElement(i.Button,{variant:"primary",size:a,withDropdownIcon:!0,...e(),disabled:_},n.formatMessage(Zn)),qe.createElement(i.Menu.Content,{...t()},qe.createElement(i.Menu.Segment,null,qe.createElement(i.Menu.ActionItem,{value:Gn.SAVE_COPY},n.formatMessage(zn)),qe.createElement(i.Menu.ActionItem,{value:Gn.REPLACE_ORIGINAL},n.formatMessage(jn))))))):qe.createElement(i.Button,{variant:"primary",size:a,onClick:c,disabled:_},n.formatMessage(zn)))};Jn.displayName="TitleBarEditorActionButtons";const Yn=({breakpoint:e})=>e===ce.FileViewerBreakpoint.LG?qe.createElement("div",{className:"_separator_1rs6t_43"}):null;Yn.displayName="TitleBarSeparator";const Xn=r.defineMessage({id:"ZcVVjw",defaultMessage:"{file_number} of {file_count}"}),Qn=r.defineMessage({id:"FRXiLI",defaultMessage:"{file_number} of many"}),$n=r.defineMessage({id:"4EnS68",defaultMessage:"Navigate to the previous file"}),er=r.defineMessage({id:"IqM7nt",defaultMessage:"Navigate to the next file"}),tr=({fileCollectionContext:e})=>{const t=r.useIntl(),{featureConfig:a}=i.useFileViewerContext(),{flipToNextFile:n,flipToPreviousFile:o}=z.useFileFlippingCallbacks();if(!e||0===e.parent_files_count)return null;const s=e.file_index,l=e.parent_files_count,c=e.parent_files_count<1e3?t.formatMessage(Xn,{file_number:s+1,file_count:l}):t.formatMessage(Qn,{file_number:s+1}),d=!!a.file_flipping&&l>1;return qe.createElement("div",{className:"_titleBarFileCounterContainer_1rs6t_33"},d&&qe.createElement(i.IconButton,{"aria-label":t.formatMessage($n),disabled:0===s,onClick:()=>{o(i.UserActionContext.PreviewTopNav)},size:"small",variant:"borderless"},qe.createElement(i.UIIcon,{src:de.ArrowLeftLine,width:"20px",height:"20px"})),qe.createElement(i.Text,{className:"_titleBarFileCounter_1rs6t_33","data-testid":"title-bar-file-counter",size:"small"},c),d&&qe.createElement(i.IconButton,{"aria-label":t.formatMessage(er),disabled:s===l-1,onClick:()=>n(i.UserActionContext.PreviewTopNav),size:"small",variant:"borderless"},qe.createElement(i.UIIcon,{src:i.ArrowRightLine,width:"20px",height:"20px"})))};tr.displayName="TitleBarFileCounter";const ir=({previewSurface:e,activePreviewFile:t,commentIconWithUnreadCount:a,user:n,showAuthModal:r,breakpoint:o,previewType:s})=>{var l;const{pluginArgs:c}=bt(),{logUserAction:d}=i.useFileViewerContext(),u=!n,_=e!==i.SDKPreviewSurface.BACKUP&&e!==i.SDKPreviewSurface.SHARED_COLLECTION&&e!==i.SDKPreviewSurface.VERSION_HISTORY,m=o===ce.FileViewerBreakpoint.SM,p=n||!m,f=H.useQueryClient(),g=W.useRootFile(),{data:S}=le.useFileContentMetadataQuery(g),E=null===(l=null==S?void 0:S.apiData)||void 0===l?void 0:l.metadata,v=W.useIsNestedArchiveFile(),h=gn({activePreviewFile:t,user:n,previewSurface:e,previewType:s,isNestedArchiveFile:v}),w=e===i.SDKPreviewSurface.POLLUX_DESKTOP_SEARCH_PREVIEW&&o!==ce.FileViewerBreakpoint.LG;return qe.createElement("div",{className:"_titleBarActionButtons_1rs6t_24","data-tooltip":"title-bar-right-section"},!m&&!w&&qe.createElement(qe.Fragment,null,!!a&&qe.createElement(Ta,{activePreviewFile:t,commentIconWithUnreadCount:a}),qe.createElement(on,{logUserAction:d,previewSurface:e,fileContentMetadata:E,...c,queryClient:f,fileName:null==g?void 0:g.name})),e===i.SDKPreviewSurface.VERSION_HISTORY&&!w&&qe.createElement(dn,{...c}),_&&p&&qe.createElement(xn,{activeFile:t.file,previewSurface:e,user:n}),h&&qe.createElement(Sn,{file:t.file,previewType:s}),u&&qe.createElement(qe.Fragment,null,qe.createElement(Yn,{breakpoint:o}),qe.createElement(En,{showAuthModal:r,activePreviewFile:t})))};ir.displayName="TitleBarActionButtons";const ar=e=>{const{viewer:t}=e,{previewSurface:a,passSessionId:n,pluginArgs:r}=bt(),{isLoggedIn:o}=i.useFileViewerContext(),s=!!re.useActiveEditorId(),l=W.useRootFileMetadata(),c=null==l?void 0:l.file_collection_context,d=W.useRootPreviewType(),u=vn(),_=d===i.PreviewType.Image&&!o,{user:m,getActiveFile:p}=r,f=p(),{file:g}=f,S=i.isBrowseFile(g)&&!g.read_only,E=i.useCanWatermarkFile({file:f.file,user:m}),v=(({activePreviewFile:{file:e,sharePermission:t},previewSurface:a})=>i.isSharedFile(e)?!!t&&t.canViewMetadataRoles.length>0:!(a===i.SDKPreviewSurface.VERSION_HISTORY||a===i.SDKPreviewSurface.BACKUP))({previewSurface:a,activePreviewFile:f})&&e.breakpoint!==ce.FileViewerBreakpoint.SM,h=e.breakpoint===ce.FileViewerBreakpoint.MD;return qe.createElement("div",{className:"_titleBarRightSection_1rs6t_1"},s?qe.createElement("div",{className:"_editorActions_1rs6t_18"},qe.createElement(Kn,{hasEditorChanges:e.titleBarActionGetters.hasEditorChanges,isEditorReady:e.titleBarActionGetters.isEditorReady,editorCanSave:e.titleBarActionGetters.editorCanSave,onLogInOrSignUp:()=>{var t,i;null===(i=(t=e.titleBarActionGetters).onSaveCopy)||void 0===i||i.call(t),e.showAuthModal(b.getSUSIArgsForPreviewType({action:"edit"},d,void 0))},color:"faint",showLoggedOutLabel:_}),qe.createElement(Jn,{titleBarActionGetters:e.titleBarActionGetters,canEdit:S||E,size:"large"})):qe.createElement(qe.Fragment,null,qe.createElement("div",{className:"_titleBarRightSectionTopRow_1rs6t_9"},qe.createElement(qe.Fragment,null,qe.createElement(u,{viewer:t,activePreviewFile:f,passSessionId:n,enablePassUi:v,user:m,onlyShowOverflow:h}),v&&qe.createElement(Yn,{breakpoint:e.breakpoint})),c&&e.breakpoint===ce.FileViewerBreakpoint.LG&&qe.createElement(qe.Fragment,null,qe.createElement(tr,{fileCollectionContext:c}),qe.createElement(Yn,{breakpoint:e.breakpoint})),qe.createElement(ir,{commentIconWithUnreadCount:e.commentIconWithUnreadCount,showAuthModal:e.showAuthModal,breakpoint:e.breakpoint,activePreviewFile:f,user:m,previewSurface:a,previewType:d}))))};ar.displayName="TitleBarRightSection";const nr=({fileCollectionContext:e,canCloseViewer:t})=>{const a=r.useIntl();if(!e||!t)return null;const n=e.file_index,o=e.parent_files_count,s=o<1e3?a.formatMessage(Xn,{file_number:n+1,file_count:o}):a.formatMessage(Qn,{file_number:n+1});return qe.createElement(i.Text,{size:"small",color:"subtle",className:"_fileCounter_1o0ag_20"},s)};nr.displayName="FileCounter";const rr=qe.memo((e=>{const a=r.useIntl(),{fileCollectionContext:n,setIsActionSheetOpen:o}=e,{canCloseViewer:s,logUserAction:l}=i.useFileViewerContext();return qe.createElement("div",{className:"_mobileTitleBar_1o0ag_1","data-testid":"mobile-web-header"},qe.createElement(Yi,{canCloseViewer:s,isMobileWebRedesign:!0}),qe.createElement("div",{className:"_title_1o0ag_11"},qe.createElement("title",{className:`_fileName_1o0ag_30 ${i.atoms({fontFamily:"Title",padding:"0",fontSize:"Text Small",fontWeight:"Strong"})}`},qe.createElement(Li,{isMobileSize:!0})),qe.createElement(nr,{canCloseViewer:s,fileCollectionContext:n})),qe.createElement("div",{className:"_overflowMenu_1o0ag_25"},qe.createElement(i.IconButton,{variant:"transparent",onClick:()=>{l(i.UserAction.OpenActionBarOverflow,t.MobileWebActionSource.MOBILE_TITLEBAR),o(!0)},"aria-label":a.formatMessage({id:"QW5BzR",defaultMessage:"Overflow menu"})},qe.createElement(i.UIIcon,{src:i.MoreHorizontalLine}))))}));rr.displayName="MobileTitleBar";const or=qe.default.memo((e=>{const[t,i]=qe.default.useState(!1),a=W.useRootFileMetadata(),{activePreviewFile:n,webSignInTag:r,user:o,previewSurface:s,userPresentableVerdict:l,viewer:c}=e;return qe.default.createElement(qe.default.Fragment,null,qe.default.createElement(rr,{setIsActionSheetOpen:i,fileCollectionContext:null==a?void 0:a.file_collection_context}),qe.default.createElement(zi,{viewer:c,isActionSheetOpen:t,setIsActionSheetOpen:i,webSignInTag:r,activePreviewFile:n,user:o,previewSurface:s,userPresentableVerdict:l}))}));or.displayName="MobileHeader";const sr=()=>{const{mobileHeader:e}=i.useFileViewerSubRegionContext();return qe.default.useMemo((()=>e?(e=>t=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(e,{...t})))(e):or),[e])};i.injectInternalStyle("/static/metaserver/static/js/file_viewer/sidebar/sidebar.module.out-vfluv4A75.css",(e=>"._sidebar-content_jgsyc_1._comment-content_jgsyc_1{padding:0}._sidebar-content_jgsyc_1._transcript-content_jgsyc_5{box-sizing:border-box;padding:0;padding-top:var(--dig-spacing__micro__medium)}"));const lr=qe.memo((({sidebarPluginId:e,sidebarPlugin:t})=>{const a=re.useSidebarWillAutoOpen(),n=qe.useRef(null);qe.useEffect((()=>{n.current&&!a&&n.current.focus()}),[e,a]);const{Title:o,TitleAccessory:s,Content:l,Icon:c,contentOnly:d}=t.sidebarUI,u=r.useIntl(),_=z.useCloseSidebarCallback(i.UserActionContext.Sidebar),m=i.useStabilizedCallback((()=>{_(e)})),p=i.cx("_sidebar-content_jgsyc_1",{"_comment-content_jgsyc_1":e===i.COMMENTS_PLUGIN_ID,"_transcript-content_jgsyc_5":e===i.TRANSCRIPT_BLADE_PLUGIN_ID}),g=function(e){return i.leftSidebarPluginIds.includes(e)}(e)?u.formatMessage({id:"EOUTqG",defaultMessage:"Close left sidebar"}):u.formatMessage({id:"TZJGo/",defaultMessage:"Close right sidebar"});return qe.createElement("div",{ref:n,tabIndex:-1,style:{width:"100%",height:"100%"}},d?qe.createElement(l,null):qe.createElement(f.Sidebar,{icon:c&&qe.createElement(c,null),title:o&&qe.createElement(o,null),titleAccessory:s&&qe.createElement(s,null),content:qe.createElement(l,null),handleClose:m,closeLabel:g,contentClassName:p}))}));lr.displayName="SidebarContent";const cr=()=>{const{sidebarContent:e}=i.useFileViewerSubRegionContext();return qe.default.useMemo((()=>null!=e?e:lr),[e])},dr=e=>{const t=cr();return qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(t,{...e}))};i.injectInternalStyle("/static/metaserver/static/js/file_viewer/title_bar/close_button.module.out-vfl0-pkSI.css",(e=>"._closeButton_ck43f_1{margin-right:var(--dig-spacing__micro__large)}._closeButton_ck43f_1>*{padding:var(--dig-spacing__micro__small)}._small_ck43f_9{margin-right:0}._dropboxLineIcon_ck43f_13{margin:15px}"));const ur=qe.memo((e=>{const{canCloseViewer:t,inEditMode:a,titleBarActionGetters:n,breakpoint:o}=e,s=r.useIntl(),l=W.useArchiveSubpath(),{previewSurface:c}=bt(),d=z.useCloseViewerCallback(),u=()=>{a&&n.onClose?n.onClose():d(i.UserActionContext.TitleBarMain)},_=s.formatMessage({id:"R/Hjn0",defaultMessage:"Close"}),m=s.formatMessage({id:"IDlWPW",defaultMessage:"Back"});return t||(null==l?void 0:l.length)?qe.createElement("span",{className:i.cx("_closeButton_ck43f_1",{_small_ck43f_9:o===ce.FileViewerBreakpoint.SM})},qe.createElement(i.IconButton,{onClick:u,variant:"transparent",size:"large","data-uxa-log":"preview_close","data-testid":"preview-close"},qe.createElement(i.UIIcon,{"aria-label":(null==l?void 0:l.length)?m:_,src:i.CloseLine}))):c===i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW?qe.createElement(i.UIIcon,{className:"_dropboxLineIcon_ck43f_13",size:"large",src:i.DropboxLine,"aria-label":"Dropbox"}):qe.createElement(Ji,null)}));ur.displayName="CloseButton",ur.displayName="CloseButton";i.injectInternalStyle("/static/js/file_viewer/components/titlebar_dropdowns.module.out-vflgSMZnG.css",(e=>'._titlebar-dropdowns_hcl3i_1{align-items:center;display:flex;flex:1 1 auto}._titlebar-dropdowns__button_hcl3i_7 .dig-Button-content{padding:0 var(--dig-spacing__micro__small)}._titlebar-dropdowns__loading-indicator_hcl3i_11{background-color:var(--dig-color__background__subtle);height:16px;margin:var(--dig-spacing__micro__large);overflow:hidden;position:relative;width:120px}._titlebar-dropdowns__loading-indicator_hcl3i_11:after{animation:_shimmer_hcl3i_1 1.5s infinite;background-image:linear-gradient(90deg,transparent 0,var(--dig-color__background__base) 50%,transparent);bottom:0;content:"";left:0;opacity:.65;position:absolute;right:0;top:0}@keyframes _shimmer_hcl3i_1{0%{transform:translateX(-100%)}to{transform:translateX(100%)}}'));const _r=({contentProps:e})=>qe.createElement(i.Menu.Content,{...e},qe.createElement(i.Menu.Segment,null,qe.createElement(i.Menu.ActionItem,null,qe.createElement(i.Skeleton.Text,{width:120,size:"medium"})),qe.createElement(i.Skeleton.Text,{width:120}),qe.createElement(i.Skeleton.Text,{width:120}))),mr=({openDropdownKey:e,setOpenDropdownKey:t,dropdown:a})=>{const{title:n,LazyDropdown:o,userAction:s}=a,l=r.useIntl().formatMessage(n),{logUserAction:c}=i.useFileViewerContext(),[d,u]=qe.useState({disabled:!1,tooltip:void 0}),_=qe.useCallback((e=>{var t,i,a;(null==e?void 0:e.menuItem)&&"dropdown"===(null==e?void 0:e.nodeType)?null===(i=(t=e.menuItem).handler)||void 0===i||i.call(t):null===(a=null==e?void 0:e.handler)||void 0===a||a.call(e)}),[]),m=qe.useCallback((({isOpen:i})=>{i&&!e?t(l):i||e!==l||t(void 0)}),[e,t,l]);return qe.createElement(i.Menu.Wrapper,{key:l,onSelection:_,onToggle:m,shouldPropagateClickOutsideMouseEvents:!0},(({getContentProps:r,getTriggerProps:_,closeMenu:m,openMenu:p})=>{const f=_(),g=r();g.open&&e&&e!==l&&m({});const S=qe.createElement("div",{"data-dropdown-title":n.defaultMessage},qe.createElement(ue.PreviewButton,{...f,variant:g.open?"opacity":"borderless",color:"Text Subtle",disabled:d.disabled,onClick:e=>{var t;e.stopPropagation(),null===(t=f.onClick)||void 0===t||t.call(f,e),c(s)},onMouseEnter:i=>{i.stopPropagation(),e&&e!==l&&(t(l),p({autoFocus:!1}))},"data-tooltip":a.dataTooltip,className:"_titlebar-dropdowns__button_hcl3i_7"},l),qe.createElement(qe.Suspense,{fallback:qe.createElement(_r,{contentProps:g})},qe.createElement(o,{contentProps:g,setMenuDisabled:e=>{e.disabled===d.disabled&&e.tooltip===d.tooltip||(u(e),e.disabled&&m({}))}})));return d.disabled&&d.tooltip?qe.createElement(i.Tooltip,{title:d.tooltip},S):S}))},pr=({content:e,tooltipSelector:t})=>{const[i,a]=qe.useState(void 0);return qe.createElement("div",{role:"menubar",className:"_titlebar-dropdowns_hcl3i_1"},qe.createElement("div",{"data-tooltip":t},e.map((e=>qe.createElement(mr,{key:e.userAction,openDropdownKey:i,setOpenDropdownKey:a,dropdown:e})))))};pr.displayName="TitlebarDropdowns";const fr=[{title:r.defineMessage({id:"j02iBx",defaultMessage:"File"}),LazyDropdown:i.lazyAfterDisplay((()=>new Promise((function(t,i){e(["./c_title_bar_dropdowns_titlebar_file_dropdown.after-display"],t,i)})))),userAction:i.UserAction.OpenFileMenu,dataTooltip:"file-menu-dropdown"},{title:r.defineMessage({id:"1O34Rd",defaultMessage:"Edit"}),LazyDropdown:qe.lazy((()=>new Promise((function(t,i){e(["./c_title_bar_dropdowns_titlebar_edit_dropdown"],t,i)})))),userAction:i.UserAction.OpenEditMenu},{title:r.defineMessage({id:"excVt3",defaultMessage:"View"}),LazyDropdown:i.lazyAfterDisplay((()=>new Promise((function(t,i){e(["./c_title_bar_dropdowns_titlebar_view_dropdown.after-display"],t,i)})))),userAction:i.UserAction.OpenViewMenu},{title:r.defineMessage({id:"t5/oHD",defaultMessage:"Help"}),LazyDropdown:i.lazyAfterDisplay((()=>new Promise((function(t,i){e(["./c_title_bar_dropdowns_titlebar_help_dropdown.after-display"],t,i)})))),userAction:i.UserAction.OpenHelpMenu}],gr=()=>qe.createElement(pr,{content:fr,tooltipSelector:t.TooltipDataSelector.TitleBarMenu}),Sr=()=>{const{titlebarDropdowns:e}=i.useFileViewerSubRegionContext();return qe.default.useMemo((()=>e?(e=>()=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(e,null)))(e):gr),[e])};i.injectInternalStyle("/static/metaserver/static/js/file_viewer/title_bar/title_bar.module.out-vflG3dFuO.css",(e=>"._titleBarContainer_1hvcz_3{--titlebarHeight:56px}._titleBar_1hvcz_3{align-items:center;background:var(--dig-color__background__raised);display:flex;height:var(--titlebarHeight);margin:var(--dig-spacing__micro__xlarge)}._titleBar_1hvcz_3._editMode_1hvcz_21{margin-bottom:var(--dig-spacing__micro__medium)}._titleBar_1hvcz_3._fullscreen_1hvcz_25{background-color:var(--dig-color__secondary__base);border-bottom:1px solid var(--dig-color__secondary__base--state-1);display:flex}._titleBar_1hvcz_3._dashChatBtnInTitlebar_1hvcz_31{margin:var(--dig-spacing__micro__large) var(--dig-spacing__macro__large) var(--dig-spacing__micro__xlarge) var(--dig-spacing__macro__large)}@media (max-width:799px){._titleBar_1hvcz_3._dashChatBtnInTitlebar_1hvcz_31{margin:var(--spacing__unit--1)}}._titleBarLeftSection_1hvcz_42{display:flex;flex:1;flex-direction:column;min-width:0}._overlay_1hvcz_49{height:var(--titlebarHeight);left:0;pointer-events:all;position:fixed;top:0;width:100%;z-index:999}._overlay_1hvcz_49._transparent_1hvcz_59{pointer-events:none}._spacer_1hvcz_63{padding:var(--dig-spacing__micro__small) var(--dig-spacing__macro__large)}"));const Er="_titleBarContainer_1hvcz_3",vr="_titleBar_1hvcz_3",hr="_titleBarLeftSection_1hvcz_42";i.injectInternalStyle("/static/metaserver/static/js/file_viewer/title_bar/title_bar_header.module.out-vflz5duXl.css",(e=>"._titleBarHeader_1wjc3_1{align-items:center;display:flex;padding-left:0}._titleBarHeaderDivider_1wjc3_7{margin:0 var(--dig-spacing__micro__small)}._titleBarHeader_1wjc3_1._loggedOut_1wjc3_11{padding-left:var(--dig-spacing__micro__small)}"));const wr=qe.default.memo((({viewer:e,inEditMode:t,file:a,breakpoint:n,previewSurface:r,hideFolderAndFileExtension:o})=>{const{pluginArgs:s}=bt(),{isLoggedIn:l}=i.useFileViewerContext(),c=r===i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW;return qe.default.createElement("div",{className:i.cx("_titleBarHeader_1wjc3_1",{_loggedOut_1wjc3_11:!l})},qe.default.createElement(f.TitleBarFileBreadcrumb,{viewer:e,user:s.user,onFileChanged:s.onFileChanged,inEditMode:t,file:a,breakpoint:n,hideFolderAndFileExtension:o,hideFolderMenu:c}))}));wr.displayName="TitleBarHeader";const Tr=()=>{const{titleBarRightSection:e}=i.useFileViewerSubRegionContext();return qe.default.useMemo((()=>e?(e=>t=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(e,{...t})))(e):ar),[e])},Ir=({file:e})=>{const t=r.useIntl(),a=i.getExtension(e),n=e.bytes,o=i.format_bytes$1(t,n);return qe.createElement("div",null,qe.createElement(i.Text,{size:"small",color:"faint"},qe.createElement(i.Truncate,{tooltipControlProps:{auto:!0,placement:"bottom"}},i.concatWithMiddleDot(a.toUpperCase(),o))))};Ir.displayName="UnifiedDesktopSearchTitleBarSection";const br="fv-sdk-title-bar",yr=qe.memo((({viewer:e,commentIconWithUnreadCount:t,file:a,showAuthModal:n})=>{i.useMarkTimingEventOnMount(i.PreviewsTimingEvents.FVSDK_TITLE_BAR_MOUNT);const{previewSurface:r,pluginArgs:o}=bt(),{canCloseViewer:s}=i.useFileViewerContext(),l=ce.useResponsiveSize(),c=!!re.useActiveEditorId(),d="bright"===i.useTheme().mode,u=Sr(),_=Tr(),m=re.useIsFullscreen(),{titleBarActionGetters:p}=_e.useTitlebarEditorActions(),f=W.useRootPreviewType(),g=W.useIsNestedArchiveFile(),{user:S,getActiveFile:E}=o,v=gn({activePreviewFile:E(),user:S,previewSurface:r,previewType:f,isNestedArchiveFile:g});return m?qe.createElement("div",{className:Er},qe.createElement("header",{className:i.cx(vr,{_fullscreen_1hvcz_25:d&&m}),"data-testid":br},qe.createElement("div",{className:hr},qe.createElement(wr,{viewer:e,inEditMode:c,file:a,breakpoint:l,previewSurface:r})),qe.createElement(Q.HideToolbarButton,null))):qe.createElement("div",{className:i.cx(Er)},qe.createElement("header",{className:i.cx(vr,{_editMode_1hvcz_21:p.isEditorReady,_dashChatBtnInTitlebar_1hvcz_31:v}),"data-testid":br},qe.createElement(ur,{canCloseViewer:s,inEditMode:c,titleBarActionGetters:p,breakpoint:l}),qe.createElement("div",{className:hr},qe.createElement(wr,{viewer:e,inEditMode:c,file:a,breakpoint:l,previewSurface:r,hideFolderAndFileExtension:r===i.SDKPreviewSurface.POLLUX_DESKTOP_SEARCH_PREVIEW}),c||l===ce.FileViewerBreakpoint.SM||r===i.SDKPreviewSurface.POLLUX_DESKTOP_SEARCH_PREVIEW?null:qe.createElement(u,null),r===i.SDKPreviewSurface.POLLUX_DESKTOP_SEARCH_PREVIEW&&qe.createElement(Ir,{file:a})),qe.createElement(_,{viewer:e,titleBarActionGetters:p,commentIconWithUnreadCount:t,showAuthModal:n,breakpoint:l})))}));yr.displayName="TitleBar",yr.displayName="TitleBar";const Ar=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW],Pr=e=>Ar.includes(e),Cr=(e,t)=>e===i.Variant.ON&&(!t||Pr(t)),Nr=()=>{var e;return null===(e=i.useExperiment("previews_exp_duplicate_files_individual",!0).experiment)||void 0===e?void 0:e.variant},Dr={shouldShowForPreviewType:f.alwaysShow,filterValidFile:e=>f.isCloudDoc(e)?void 0:e,filterValidUser:f.filterLoggedInUser,shouldShowForPreviewSurface:Pr},Lr=(e,t,a,n)=>async()=>{Br(t,e===me.RotationDirection.LEFT?"rotateLeft":"rotateRight"),a(i.UserAction.EditImageAttempt,n,{entryAction:"rotate",direction:e===me.RotationDirection.LEFT?"left":"right"})},Mr=(e,t,a)=>async()=>{Br(e,"crop"),t(i.UserAction.EditImageAttempt,a,{entryAction:"crop"})},Or=(e,t,a)=>async()=>{Br(e,"flip"),t(i.UserAction.EditImageAttempt,a,{entryAction:"flip",direction:"horizontal"})},kr=(e,t,a)=>async()=>{Br(e,"adjust"),t(i.UserAction.EditImageAttempt,a,{entryAction:"adjust"})},Rr=(e,t,a)=>async()=>{Br(e,"upscale"),t(i.UserAction.EditImageAttempt,a,{entryAction:"upscale"}),t(i.UserAction.Upscale,a)},xr=(e,t,a)=>async()=>{Br(e,"colorCorrect"),t(i.UserAction.EditImageAttempt,a,{entryAction:"color_correct"}),t(i.UserAction.ColorCorrect,a)},Fr=(e,t,a)=>async()=>{Br(e,"crop"),t(i.UserAction.EditImageAttempt,a,{entryAction:"auto_straighten"}),t(i.UserAction.AutoStraighten,a)},Ur=(e,t,a)=>async()=>{Br(e,"filter"),t(i.UserAction.EditImageAttempt,a,{entryAction:"image_filter"}),t(i.UserAction.ImageFilter,a)},Br=(e,t)=>{e(i.PHOTO_EDITOR_PLUGIN_ID,i.UserActionContext.EditMenu,{initialAction:t})},Vr=(e,t,a,n)=>{const r=f.getToolbarHandlerWithPluginActivation();return[{icon:ge.SliderLine,label:pe.actionBarStrings.adjustButtonText,handler:r({handler:kr(e,t,a),keyboardBinding:{key:"a"}}),tooltip:n?void 0:{text:pe.actionBarStrings.adjustButtonText,keyboardShortcut:pe.actionBarStrings.adjustKeyboardShortcut},actionType:n?i.UserAction.LoggedOutAdjust:i.UserAction.Adjust}]},Wr=(e,t,a,n,r,o)=>{const s=f.getToolbarHandlerWithPluginActivation(),l=Rr(e,t,o),c=xr(e,t,o),d=Fr(e,t,o),u=Ur(e,t,o);let _;a&&"image"===a[".tag"]&&a.image_width&&a.image_height&&(_={width:a.image_width,height:a.image_height});const m=(null==r?void 0:r.upscale)||(null==r?void 0:r.colorCorrect)||(null==r?void 0:r.autoStraighten)||(null==r?void 0:r.filter);return{imageEditingButtons:[{icon:Se.ShapeRotateLeftLine,label:pe.actionBarStrings.rotateLeftButtonText,handler:s({handler:Lr(me.RotationDirection.LEFT,e,t,o),keyboardBinding:{key:"l"}}),tooltip:n?void 0:{text:pe.actionBarStrings.rotateLeftButtonText,keyboardShortcut:pe.actionBarStrings.rotateLeftButtonKeyboardShortcut},actionType:n?i.UserAction.LoggedOutRotateLeft:i.UserAction.RotateLeft},{icon:Se.ShapeRotateRightLine,label:pe.actionBarStrings.rotateRightButtonText,handler:s({handler:Lr(me.RotationDirection.RIGHT,e,t,o),keyboardBinding:{key:"r"}}),tooltip:n?void 0:{text:pe.actionBarStrings.rotateRightButtonText,keyboardShortcut:pe.actionBarStrings.rotateRightButtonKeyboardShortcut},actionType:n?i.UserAction.LoggedOutRotateRight:i.UserAction.RotateRight},{icon:Se.FlipHorizontalLine,label:pe.actionBarStrings.flipButtonText,handler:s({handler:Or(e,t,o)}),tooltip:n?void 0:{text:pe.actionBarStrings.flipButtonText},actionType:n?i.UserAction.LoggedOutFlipHorizontal:i.UserAction.FlipHorizontal},{icon:Se.CropLine,label:pe.actionBarStrings.cropButtonText,handler:s({handler:Mr(e,t,o),keyboardBinding:{key:"c"}}),tooltip:n?void 0:{text:pe.actionBarStrings.cropButtonText,keyboardShortcut:pe.actionBarStrings.cropButtonKeyboardShortcut},actionType:n?i.UserAction.LoggedOutCrop:i.UserAction.Crop},...Vr(e,t,o,n)],enhanceButton:!n&&m?[{icon:Ee.ImageEnhanceLine,label:pe.actionBarStrings.enhanceButtonText,handler:{type:"submenu",menu:qe.default.createElement(fe.MagicTools,{onUpscale:l,onColorCorrect:c,onAutoStraighten:d,onFilter:u,imageDimensions:_,previewsImageEnhancements:r})},actionType:i.UserAction.Enhance}]:[]}},Hr=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.SHARED_COLLECTION,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.PHOTOS,i.SDKPreviewSurface.POLLUX_DESKTOP_PREVIEW,i.SDKPreviewSurface.POLLUX_DESKTOP_SEARCH_PREVIEW,i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW],Kr={...{shouldShowForPreviewSurface:f.filterSurfaceIn(Hr),shouldShowForPreviewType:f.alwaysShow},filterValidFile:(e,t)=>f.showEditPlugin(e,t)?e:void 0,filterValidUser:f.filterDesktopUser},Gr=(e,t)=>[Zr(e,t),qr(e,t),Jr(e,t)],zr=async()=>await new Promise((function(t,i){e(["./c_action_plugins_pdf_edit_action_action"],t,i)})),jr=(e,t,a)=>({handler:null!=t?t:f.clickHandler(b.loggedOutSUSIAndActionContinuationHandler({action:"edit"},i.PreviewType.SsrDoc,a)),actionType:t?e:i.UserAction.LoggedOutEditPdfAttempt,tooltip:t?void 0:{text:b.loggedOutEditButtonTooltip}}),Zr=(e,t)=>{let a=ee.NonSignEntryPoints.UNFURL_ACTIONS_DRAW;return(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.BROWSE?a=ee.NonSignEntryPoints.BROWSE_PREVIEW_UNFURL_ACTIONS_DRAW:(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.STANDALONE_PREVIEW?a=ee.NonSignEntryPoints.STANDALONE_PREVIEW_UNFURL_ACTIONS_DRAW:(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.SHARED_LINK&&(a=ee.NonSignEntryPoints.SHARED_LINK_UNFURL_ACTIONS_DRAW),{icon:he.ScribbleLine,label:r.intl.formatMessage({id:"7E2+UP",defaultMessage:"Draw"}),...jr(i.UserAction.Draw,e?f.clickHandler((async()=>{(await zr()).pdfEditAction(e,i.UserActionContext.MarkUpDropdown,a)})):void 0,t)}},qr=(e,t)=>{let a=ee.NonSignEntryPoints.UNFURL_ACTIONS_HIGHLIGHT;return(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.BROWSE?a=ee.NonSignEntryPoints.BROWSE_PREVIEW_UNFURL_ACTIONS_HIGHLIGHT:(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.STANDALONE_PREVIEW?a=ee.NonSignEntryPoints.STANDALONE_PREVIEW_UNFURL_ACTIONS_HIGHLIGHT:(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.SHARED_LINK&&(a=ee.NonSignEntryPoints.SHARED_LINK_UNFURL_ACTIONS_HIGHLIGHT),{icon:B.HighlightLine,label:r.intl.formatMessage({id:"e7+jFI",defaultMessage:"Highlight"}),...jr(i.UserAction.Highlight,e?f.clickHandler((async()=>{(await zr()).pdfEditAction(e,i.UserActionContext.MarkUpDropdown,a)})):void 0,t)}},Jr=(e,t)=>{let a=ee.NonSignEntryPoints.UNFURL_ACTIONS_ADD_TEXT;return(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.BROWSE?a=ee.NonSignEntryPoints.BROWSE_PREVIEW_UNFURL_ACTIONS_ADD_TEXT:(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.STANDALONE_PREVIEW?a=ee.NonSignEntryPoints.STANDALONE_PREVIEW_UNFURL_ACTIONS_ADD_TEXT:(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.SHARED_LINK&&(a=ee.NonSignEntryPoints.SHARED_LINK_UNFURL_ACTIONS_ADD_TEXT),{icon:ve.TextBoxLine,label:r.intl.formatMessage({id:"B1Oo3m",defaultMessage:"Add text"}),...jr(i.UserAction.AddText,e?f.clickHandler((async()=>{(await zr()).pdfEditAction(e,i.UserActionContext.MarkUpDropdown,a)})):void 0,t)}},Yr=(e,t)=>{const a=r.intl.formatMessage({id:"SlX2PZ",defaultMessage:"Edit"});let n=ee.NonSignEntryPoints.DEFAULT_ENTRY_POINT;return(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.BROWSE?n=ee.NonSignEntryPoints.BROWSE_PREVIEW_EDIT_PDF:(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.STANDALONE_PREVIEW?n=ee.NonSignEntryPoints.STANDALONE_PREVIEW_EDIT_PDF:(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.SHARED_LINK&&(n=ee.NonSignEntryPoints.SHARED_LINK_EDIT_PDF),{icon:we.EditLine,label:a,campaignElementId:"toolbar-edit-pdf-button",...jr(i.UserAction.EditPdf,e?f.clickHandler((async()=>{(await zr()).pdfEditAction(e,i.UserActionContext.PreviewToolbar,n)})):void 0,t)}},Xr=(e,t)=>{let a=ee.NonSignEntryPoints.UNFURL_ACTIONS_EDIT_TEXT;return(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.BROWSE?a=ee.NonSignEntryPoints.BROWSE_PREVIEW_UNFURL_ACTIONS_EDIT_TEXT:(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.STANDALONE_PREVIEW?a=ee.NonSignEntryPoints.STANDALONE_PREVIEW_UNFURL_ACTIONS_EDIT_TEXT:(null==e?void 0:e.previewSurface)===i.SDKPreviewSurface.SHARED_LINK&&(a=ee.NonSignEntryPoints.SHARED_LINK_UNFURL_ACTIONS_EDIT_TEXT),{icon:B.PlaceholderTextLine,label:r.intl.formatMessage({id:"JlEwCY",defaultMessage:"Edit text"}),...jr(i.UserAction.EditPdfText,e?f.clickHandler((async()=>{(await zr()).pdfEditAction(e,i.UserActionContext.MarkUpDropdown,a)})):void 0,t)}},Qr=new Set(i.HTMLIFIED_PREVIEW_EXTS);function $r(e,t){return!i.isEncryptedFile(e)&&((!t||0!==t.canDownloadRoles.length)&&!!Qr.has("."+i.getExtension(e)))}const eo=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.SHARED_COLLECTION,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.PHOTOS],to=[i.PreviewType.Text],io={shouldShowForPreviewSurface:f.filterSurfaceIn(eo),shouldShowForPreviewType:f.filterPreviewTypeIn(to),filterValidUser:f.filterLoggedInUser,filterValidFile:(e,t)=>$r(e,t)?e:void 0},ao=r.defineMessage({id:"zWiqLP",defaultMessage:"Edit content"}),no=(e,t,a)=>async()=>{e(i.TEXT_EDITOR_PLUGIN_ID,i.UserActionContext.EditMenu),t(i.UserAction.EditText,a)},ro=f.withActionCondition(io,((e,t,a)=>[{icon:we.EditLine,label:ao,handler:f.clickHandler(no(t,a,i.UserActionContext.PreviewToolbar),{key:"e"}),actionType:i.UserAction.EditText}]),[]),oo=({logUserAction:e,setActiveEditorCallback:t,initialEditAction:a,extraForLogging:n})=>{const{userActionContext:r,entryAction:o,direction:s}=n||{};e(i.UserAction.EditVideoAttempt,r||i.UserActionContext.PreviewTopNav,{...o&&{entryAction:o},...s&&{direction:s}}),performance.mark(i.PreviewsTimer.VideoEditorOpen),t(i.VIDEO_EDITOR_PLUGIN_ID,r||i.UserActionContext.PreviewTopNav,a&&{initialEditAction:a})},so=(e,t,i)=>async()=>{oo({logUserAction:e,setActiveEditorCallback:t,initialEditAction:"rotateLeft",extraForLogging:{userActionContext:i,entryAction:"rotate",direction:"left"}})},lo=(e,t,i)=>async()=>{oo({logUserAction:e,setActiveEditorCallback:t,initialEditAction:"rotateRight",extraForLogging:{userActionContext:i,entryAction:"rotate",direction:"right"}})},co=(e,t,i)=>async()=>{oo({logUserAction:e,setActiveEditorCallback:t,initialEditAction:"flipHorizontal",extraForLogging:{userActionContext:i,entryAction:"flip",direction:"horizontal"}})},uo=(e,t,i)=>async()=>{oo({logUserAction:e,setActiveEditorCallback:t,initialEditAction:"flipVertical",extraForLogging:{userActionContext:i,entryAction:"flip",direction:"vertical"}})},_o=(e,t,i)=>async()=>{oo({logUserAction:e,setActiveEditorCallback:t,initialEditAction:"crop",extraForLogging:{userActionContext:i,entryAction:"crop"}})},mo=(e,t,i)=>async()=>{oo({logUserAction:e,setActiveEditorCallback:t,initialEditAction:"trim",extraForLogging:{userActionContext:i,entryAction:"trim"}})},po=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.PHOTOS,i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW,i.SDKPreviewSurface.POLLUX_DESKTOP_PREVIEW,i.SDKPreviewSurface.POLLUX_DESKTOP_SEARCH_PREVIEW],fo={...{shouldShowForPreviewSurface:f.filterSurfaceIn(po),shouldShowForPreviewType:f.filterPreviewTypeIn([i.PreviewType.Video,i.PreviewType.Audio]),filterValidFile:(e,t,a)=>t&&!p.isDownloadAllowed(t)||a||i.isEncryptedFile(e)?void 0:e},filterValidUser:f.filterLoggedInUser},go=(e,t,a,n,r,o)=>{const s=i.UserActionContext.EditFileDropdown,l=f.clickHandler(mo(a,n,s)),c=f.clickHandler(_o(a,n,s)),d=f.clickHandler(so(a,n,s)),u=f.clickHandler(lo(a,n,s)),_=f.clickHandler(co(a,n,s)),m=f.clickHandler(uo(a,n,s)),{trimLabel:p,cropLabel:g,rotateLeftLabel:S,rotateRightLabel:E,flipHorizontalLabel:v,flipVerticalLabel:h}=t,w=[{label:p,icon:Te.CutLine,handler:f.clickHandler(mo(a,n,i.UserActionContext.PreviewToolbar)),actionType:i.UserAction.Trim,tooltip:r?{text:r}:void 0,disabled:o||!!r}],T=[{label:p,icon:Te.CutLine,handler:l,actionType:i.UserAction.Trim,tooltip:r?{text:r}:void 0,disabled:o||!!r},{label:g,icon:Se.CropLine,handler:c,actionType:i.UserAction.Crop,tooltip:r?{text:r}:void 0,disabled:o||!!r},{label:S,icon:Se.ShapeRotateLeftLine,handler:d,actionType:i.UserAction.RotateLeft,tooltip:r?{text:r}:void 0,disabled:o||!!r},{label:E,icon:Se.ShapeRotateRightLine,handler:u,actionType:i.UserAction.RotateRight,tooltip:r?{text:r}:void 0,disabled:o||!!r},{label:v,icon:Se.FlipHorizontalLine,handler:_,actionType:i.UserAction.FlipHorizontal,tooltip:r?{text:r}:void 0,disabled:o||!!r},{label:h,icon:ve.FlipVerticalLine,handler:m,actionType:i.UserAction.FlipVertical,tooltip:r?{text:r}:void 0,disabled:o||!!r}];return e===i.PreviewType.Video?T:w},So=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.SHARED_COLLECTION,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.PHOTOS,i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW],Eo={filterValidFile:f.canShowWatermark,filterValidUser:f.filterLoggedInUser,shouldShowForPreviewSurface:f.filterSurfaceIn(So),shouldShowForPreviewType:f.alwaysShow},vo="water_marking",ho=e=>{var t,a,n,r;const o="ON"===(null===(t=i.useExperiment("previews_image_enhancements_filter",!0).experiment)||void 0===t?void 0:t.variant),s="ON"===(null===(a=i.useExperiment("previews_image_enhancements_upscale",!0).experiment)||void 0===a?void 0:a.variant),l="ON"===(null===(n=i.useExperiment("previews_image_enhancements_auto_straighten",!0).experiment)||void 0===n?void 0:n.variant),c="ON"===(null===(r=i.useExperiment("previews_image_enhancements_color_correct",!0).experiment)||void 0===r?void 0:r.variant),d=qe.default.useMemo((()=>e?{filter:o,upscale:s,autoStraighten:l,colorCorrect:c}:void 0),[l,c,o,s,e]);return qe.default.useMemo((()=>({previewsImageEnhancements:d})),[d])},wo=({conditionArgs:e,logUserAction:t,encryptionOptions:a})=>{var n;const o=re.useGetCurrentDocPageCallback(),s=W.useRootFile(),l=z.useSetActiveEditorCallback(),{data:c}=le.useFileContentMetadataQuery(s),d=null===(n=null==c?void 0:c.apiData)||void 0===n?void 0:n.metadata,{previewsImageEnhancements:u}=ho(e.user),{imageEditingButtons:_,enhanceButton:m}=qe.default.useMemo((()=>((e,t,a,n,r)=>{if(!f.getActionCondition(e,f.imageEditingActionCondition))return{imageEditingButtons:[],enhanceButton:[]};const o=i.UserActionContext.EditFileDropdown;return Wr(t,a,n,!e.user,r,o)})(e,l,t,d,u)),[e,d,t,u,l]),p=qe.default.useMemo((()=>ro(e,l,t)),[e,t,l]),g=be.useIsAudioOnlyVideo(),S=be.useStrings(),E=W.useRootFileMetadata(),v=f.useAudioVideoEditDisabledTooltipMsg(null==E?void 0:E.file_name,null==E?void 0:E.size),h=qe.default.useMemo((()=>((e,t,i,a,n,r)=>f.getActionCondition(e,fo)?go(e.previewType,t,i,a,n,r):[])(e,S,t,l,v,g)),[v,e,t,l,S,g]),{editPdfButton:w,markUpPdfActions:T}=((e,t,a,n,r)=>{const o=i.useCanEditTextPDF(e.user);return qe.default.useMemo((()=>{if(!f.getActionCondition(e,Kr))return{editPdfButton:[],markUpPdfActions:[]};const i={previewSurface:e.previewSurface,logUserAction:t,setActiveEditorCallback:a,getCurrentPage:n},s=o?[Xr(i,r)]:[];return{editPdfButton:[Yr(i,r)],markUpPdfActions:Gr(i,r).concat(s)}}),[e,r,n,t,a,o])})(e,t,l,o,a),I=i.useCanWatermarkFile({file:e.file,user:e.user}),b=qe.default.useMemo((()=>I?((e,t)=>f.getActionCondition(e,Eo)?[{icon:$.StampLine,label:r.intl.formatMessage({id:"Hmnxto",defaultMessage:"Watermark"}),handler:f.clickHandler((async()=>t(vo,i.UserActionContext.PreviewToolbar))),actionType:i.UserAction.Watermark}]:[])(e,l):[]),[I,e,l]),y=qe.default.useMemo((()=>{let a,n,o,s,l;if(T.length?(a=B.AddCommentLine,n=r.defineMessage({id:"r0xU6o",defaultMessage:"Mark up"}),o=i.UserAction.OpenMarkUpDropdown,s=i.UserActionContext.MarkUpDropdown,l=[...T]):(a=we.EditLine,n=e.sharedLinkInfo?r.defineMessage({id:"jlFPdY",defaultMessage:"Edit a copy"}):r.defineMessage({id:"C+UT8f",defaultMessage:"Edit"}),o=i.UserAction.OpenEditDropdown,s=i.UserActionContext.EditFileDropdown,l=[..._,...h]),l.push(...b),0===l.length)return[];const{isDisabled:c,tooltip:d}=To(l,v);return[{icon:a,label:n,disabled:c,tooltip:d,handler:{type:"menu",keyboardBindings:l.map((e=>{const i=e.handler;if("click"===i.type&&i.keyboardBinding)return Ie.getKeyboardBinding({...i.keyboardBinding,callback:()=>{i.handler(),t(o,s)}})})),menu:qe.default.createElement(be.ActionMenuItems,{actions:l,logAction:e=>t(e,s),isOverflowMenu:!1})},actionType:o}]}),[T,b,v,t,e.sharedLinkInfo,_,h]);return qe.default.useMemo((()=>[...w,...y,...p,...m]),[y,w,m,p])},To=(e,t)=>{const i=e.every((e=>e.disabled));let a;return i&&t&&(a={text:t}),{isDisabled:i,tooltip:a}},Io=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.PHOTOS,i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW],bo={filterValidFile:e=>f.isSupportedFile(e)?e:void 0,filterValidUser:f.filterDesktopUser,shouldShowForPreviewSurface:f.filterSurfaceIn(Io),shouldShowForPreviewType:f.alwaysShow};function yo(e,t,i,a,n,r,o){return{file:a,entryPoint:"file_preview_workflows_tab_self_sign",logContext:r,logUserAction:e,setActiveEditorCallback:t,user:i,uxaLogPrefix:"self_sign_on_workflow",pageCount:n,previewSurface:o}}const Ao=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.PHOTOS,i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW],Po={filterValidFile:e=>f.isSupportedFile(e)?e:void 0,filterValidUser:f.filterDesktopUser,shouldShowForPreviewSurface:f.filterSurfaceIn(Ao),shouldShowForPreviewType:f.alwaysShow};i.injectInternalStyle("/static/metaserver/static/js/file_viewer/toolbar/toolbar.module.out-vflFDenq_.css",(e=>"._sign-dropdown-button-icon_1asll_1{display:flex;margin-right:calc(var(--dig-spacing__micro__medium)/2)}"));const Co=(t,a,n,r,o,s,l,c,d)=>{const{previewType:u}=t,m=((t,a,n,r,o,s,l,c,d)=>{if(o||!s&&t.user||d)return[];const u=f.getActionCondition(t,Po),m=u&&f.getActionArgs(a,n,u.user.user,u.file,r,c),p=m&&{label:x.GET_SIGNAURES_ACTION_STRING,icon:R.SignableDocumentPictogram,handler:f.clickHandler((async()=>{t.user?(await new Promise((function(t,i){e(["./c_action_plugins_send_for_signature_action_action"],t,i)}))).sendForSignatureAction(m):l(i.LoginOrRegisterKind.LOGGED_OUT_PDF_GET_SIGNATURE)})),actionType:i.UserAction.SendForSignature},g=_.is_supported_mobile_browser()?void 0:f.getActionCondition(t,bo),S=g&&yo(n,a,g.user.user,g.file,r,i.UserActionContext.PreviewToolbar,c),E=S&&{label:x.SIGN_YOURSELF_ACTION_STRING,icon:i.SignatureLine,handler:f.clickHandler((async()=>{t.user?(await new Promise((function(t,i){e(["./c_action_plugins_self_sign_action_action"],t,i)}))).selfSignAction(S):l(i.LoginOrRegisterKind.LOGGED_OUT_PDF_SELF_SIGN)})),actionType:i.UserAction.SelfSign};return[...E?[E]:[],...p?[p]:[]]})(t,a,n,r,o,s,(async a=>{const{showAuthModal:n}=await new Promise((function(t,i){e(["./c_react_query_helpers_queries_upload_info"],t,i)})).then((function(e){return e.show_auth_modal_esnext}));n({...{mode:i.Mode.REGISTER,encryptionOptions:l,kind:a,authDialogPreviousElement:i.AuthDialogPreviousElementTag.EDIT,loggingExtra:{signup_source:"sign"},sharedLinkUrl:null==c?void 0:c.url,webSignInTag:i.getWebSignInTag(!!t.user,t.previewSurface,t.sharePermission),sharedLinkInfo:c}})}),t.previewSurface,d);return u===i.PreviewType.Image?[]:m.length>0?[{icon:i.SignatureLine,label:c?x.SIGN_A_COPY_STRING:x.SIGN_STRING,handler:{type:"menu",menu:qe.default.createElement(No,{actions:m,logUserAction:n})},actionType:i.UserAction.OpenSignMenu}]:[]},No=({actions:e,logUserAction:t})=>qe.default.createElement(i.Menu.Segment,null,null==e?void 0:e.map(((e,a)=>{const n=e.label,r=e.icon;return qe.default.createElement(i.Menu.ActionItem,{key:a},qe.default.createElement(Do,{label:n,onClick:()=>{var a;"click"===e.handler.type&&(null===(a=e.handler)||void 0===a||a.handler()),e.actionType&&t(e.actionType,i.UserActionContext.SignDropdown)},icon:r}))}))),Do=({label:e,onClick:t,icon:a})=>{const n="string"==typeof e?e:r.intl.formatMessage(e);return qe.default.createElement(ue.PreviewButton,{variant:"transparent",hasNoUnderline:!0,onClick:t},qe.default.createElement("span",{className:"_sign-dropdown-button-icon_1asll_1"},qe.default.createElement(i.UIIcon,{isOpticallyAligned:!0,src:a,width:"20px",height:"20px"})),n)};Do.displayName="SignButton";const Lo=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.SHARED_LINK_EMBED,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.POLLUX_DESKTOP_PREVIEW,i.SDKPreviewSurface.POLLUX_DESKTOP_SEARCH_PREVIEW,i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW],Mo=[i.PreviewType.Video,i.PreviewType.Audio],Oo={filterValidFile:e=>i.isEncryptedFile(e)?void 0:e,filterValidUser:e=>({user:e}),shouldShowForPreviewSurface:f.filterSurfaceIn(Lo),shouldShowForPreviewType:e=>f.filterPreviewTypeIn(Mo)(e)},ko=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.PHOTOS,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.SHARED_COLLECTION,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.STARRED],Ro={filterValidFile:(e,t)=>{if(e&&oe.canConvertFile(e,t)&&oe.singleFileWithExtensionSelector(ye.SUPPORTED_UNZIP_EXTENSIONS)([e]))return e},filterValidUser:f.filterLoggedInUser,shouldShowForPreviewSurface:f.filterSurfaceIn(ko),shouldShowForPreviewType:e=>e===i.PreviewType.Archive||e===i.PreviewType.Error};const xo=(t,a)=>{if(!f.getActionCondition(t,Ro))return[];const n={file:t.file,sharePermission:t.sharePermission,shareToken:a,user:t.user},o=r.intl.formatMessage({id:"pB6h1Y",defaultMessage:"Archive files over 512 MB cannot be extracted"}),s=n.file.bytes/1048576>=oe.UNZIP_MAX_FILESIZE_MB;return n.user?[{label:r.intl.formatMessage({id:"u1R/iY",defaultMessage:"Extract all"}),icon:$.ZipLine,handler:f.clickHandler((async()=>{(await new Promise((function(t,i){e(["./c_conversions_actions_unzip"],t,i)})).then((function(e){return e.unzip_esnext}))).UnzipAction.convert([n.file],n.user,{shareToken:a,source:"preview"})})),actionType:i.UserAction.ExtractAll,disabled:s,tooltip:s?{text:o}:void 0}]:[]},Fo=(e,t,a,n,r,o,s,l,c,d,u)=>{var _;const{logUserAction:m}=i.useFileViewerContext(),p=i.useCurrentPreviewMetadata(),g=null!==(_=null==p?void 0:p.previewType)&&void 0!==_?_:i.PreviewType.Other,S=i.useStabilizedCallback(((e,t,a)=>m(e,a?i.UserActionContext.Keyboard:t?i.UserActionContext.PreviewToolbarOverflowMenu:i.UserActionContext.PreviewToolbar))),E=re.useCurrentPageCount(),v=W.useIsNestedArchiveFile(),h=qe.default.useMemo((()=>({user:e,file:t,previewSurface:n,previewType:g,sharePermission:a,isNestedArchiveFile:v,sharedLinkInfo:u})),[e,t,n,g,a,v,u]),w=(e=>{const t=re.useRightSidebarId()===i.TRANSCRIPT_BLADE_PLUGIN_ID,a=z.useCloseSidebarCallback(i.UserActionContext.PreviewToolbar),n=z.useSetRightSidebarCallback(i.UserActionContext.PreviewToolbar);return qe.default.useMemo((()=>{if(!f.getActionCondition(e,Oo))return[];const r=f.clickHandler((async()=>{t?a(i.TRANSCRIPT_BLADE_PLUGIN_ID):n(i.TRANSCRIPT_BLADE_PLUGIN_ID)}));return[{icon:Te.ClosedCaptionsLine,label:x.TRANSCRIPT_ACTION_STRING,handler:r,actionType:void 0}]}),[a,e,t,n])})(h),T=(e=>{const t=re.useRightSidebarId()===i.DUPLICATE_FILES_BLADE_PLUGIN_ID,a=z.useCloseSidebarCallback(i.UserActionContext.Toolbar),n=z.useSetRightSidebarCallback(i.UserActionContext.Toolbar),r=Nr(),o=f.getActionCondition(e,Dr);return qe.default.useMemo((()=>o&&Cr(r)?[{icon:ae.DuplicateLine,label:x.FIND_DUPLICATES_ACTION_STRING,handler:f.clickHandler((async()=>{t?a(i.DUPLICATE_FILES_BLADE_PLUGIN_ID):n(i.DUPLICATE_FILES_BLADE_PLUGIN_ID)})),actionType:void 0}]:[]),[o,a,r,t,n])})(h),I=z.useSetActiveEditorCallback(),b=wo({conditionArgs:h,logUserAction:m,encryptionOptions:d}),y=qe.default.useMemo((()=>[...f.makeOpenInButtons(h,r),...b]),[h,b,r]),A=qe.default.useMemo((()=>[...T,...xo(h,c),...w,...Co(h,I,m,E,o,s,d,u,l)]),[h,c,w,I,m,E,o,s,d,u,T,l]),P=qe.default.useMemo((()=>y.length||A.length?{editActions:y,fileActions:A}:void 0),[y,A]);return qe.default.useMemo((()=>({actions:P,logAction:S})),[P,S])};i.injectInternalStyle("/static/js/file_viewer/toolbar/previews_controls.module.out-vflb5AMqK.css",(e=>'._separator_1k7wo_1{border-right:1px solid var(--dig-color__border__subtle);height:var(--dig-spacing__macro__small);margin:0 var(--dig-spacing__micro__small);width:0}._left-spacing_1k7wo_8{margin:0 0 0 var(--dig-spacing__micro__small)}._spacing_1k7wo_12{margin:0 var(--dig-spacing__micro__xsmall) 0 var(--dig-spacing__micro__small)}._fullscreen_1k7wo_16{margin-left:0}._page-display_1k7wo_20,._page-display-padding_1k7wo_21{font-feature-settings:"tnum"}._page-display-padding_1k7wo_21{opacity:0}'));const Uo=()=>qe.default.createElement("div",{className:"_separator_1k7wo_1"}),Bo=({breakpoint:e,showSeparator:t=!0})=>{const a=r.useIntl(),{featureConfig:n}=i.useFileViewerContext(),o=re.useIsFullscreen(),s=i.useFileViewerAtomValue(re.isDocSidebarOpenAtom),l=re.useCurrentPageCount(),c=i.useCurrentPreviewMetadata(),d=z.useSetIsDocSidebarOpen(i.UserActionContext.PreviewToolbar),u=i.useStabilizedCallback((()=>{d(!s)}));if(!z.getWillCloudDocPreviewAsSsrDoc(n,c)&&c.previewType!==i.PreviewType.SsrDoc)return null;const _=s?a.formatMessage({id:"0r5Vny",defaultMessage:"Hide sidebar"}):a.formatMessage({id:"FyinXl",defaultMessage:"Show sidebar"}),m=s?B.SidebarHideLine:i.SidebarShowLine;return o?qe.default.createElement(Wo,{pageCount:l,breakpoint:e}):qe.default.createElement(qe.default.Fragment,null,e!==ce.FileViewerBreakpoint.SM&&qe.default.createElement(ce.ToolbarIcon,{onClick:u,label:_,icon:m}),qe.default.createElement(Wo,{pageCount:l,breakpoint:e}),t&&qe.default.createElement(Uo,null))};Bo.displayName="DocControls";const Vo=e=>qe.default.createElement("span",{className:"_page-display_1k7wo_20"},e),Wo=({pageCount:e,breakpoint:t})=>{const a=r.useIntl(),n=re.useIsFullscreen(),o=re.useCurrentDocPage()+1,s=e?e.toString().length-o.toString().length:0,l="".padEnd(s,"0");return e?qe.default.createElement(i.Text,{"data-testid":"page-count",className:i.cx("_spacing_1k7wo_12","_left-spacing_1k7wo_8",{_fullscreen_1k7wo_16:n}),size:"small"},t===ce.FileViewerBreakpoint.LG?a.formatMessage({id:"R9Qzvb",defaultMessage:"Page <page>{currentPage, number}</page> of {totalPages, number}"},{currentPage:o,totalPages:e,page:Vo}):a.formatMessage({id:"sDSg9c",defaultMessage:"<page>{currentPage, number}</page> of {totalPages, number}"},{currentPage:o,totalPages:e,page:Vo}),qe.default.createElement("span",{className:"_page-display-padding_1k7wo_21","aria-hidden":!0},l)):null};Wo.displayName="PageCountDisplay";const Ho=()=>{const e=r.useIntl(),{onFindInDoc:t}=Ae.usePreviewControls(),a=e.formatMessage({id:"hYpvWY",defaultMessage:"Find in document"});return t?qe.createElement(qe.Fragment,null,qe.createElement(ce.ToolbarIcon,{label:a,onClick:t,icon:i.SearchLine,disabled:!1,variant:"borderless"}),qe.createElement(Uo,null)):null};i.injectInternalStyle("/static/js/file_viewer/toolbar/text_encoding.module.out-vfl6XaW56.css",(e=>"._text-encoding-container_1fpxp_1{padding:0 var(--dig-spacing__micro__xsmall)}"));const Ko=[{label:r.defineMessage({id:"uNDSiK",defaultMessage:"UTF-8"}),value:"utf-8"},{label:r.defineMessage({id:"poEJ7H",defaultMessage:"UTF-16 LE"}),value:"utf-16le"},{label:r.defineMessage({id:"4X58C7",defaultMessage:"UTF-16 BE"}),value:"utf-16be"},{label:r.defineMessage({id:"KA1h/i",defaultMessage:"Western (Windows 1252)"}),value:"windows-1252"},{label:r.defineMessage({id:"fu9W7q",defaultMessage:"Western (ISO 8859-1)"}),value:"iso-8859-1"},{label:r.defineMessage({id:"5OT9p3",defaultMessage:"Western (ISO 8859-15)"}),value:"iso-8859-15"},{label:r.defineMessage({id:"fNiqPK",defaultMessage:"Western (Macintosh)"}),value:"macintosh"},{label:r.defineMessage({id:"lMH5yY",defaultMessage:"DOS (CP 866)"}),value:"ibm866"},{label:r.defineMessage({id:"PMLYZQ",defaultMessage:"Central European (ISO 8859-2)"}),value:"iso-8859-2"},{label:r.defineMessage({id:"/5cJ5V",defaultMessage:"Western (ISO 8859-3)"}),value:"iso-8859-3"},{label:r.defineMessage({id:"MoxlfT",defaultMessage:"Baltic (ISO 8859-4)"}),value:"iso-8859-4"},{label:r.defineMessage({id:"H05Xqj",defaultMessage:"Cyrillic (ISO 8859-5)"}),value:"iso-8859-5"},{label:r.defineMessage({id:"iO550g",defaultMessage:"Arabic (ISO 8859-6)"}),value:"iso-8859-6"},{label:r.defineMessage({id:"fcZ9t/",defaultMessage:"Greek (ISO 8859-7)"}),value:"iso-8859-7"},{label:r.defineMessage({id:"rfBxiz",defaultMessage:"Hebrew (ISO 8859-8)"}),value:"iso-8859-8"},{label:r.defineMessage({id:"kTXfvj",defaultMessage:"Hebrew (ISO-Visual)"}),value:"iso-8859-8i"},{label:r.defineMessage({id:"68/LBP",defaultMessage:"Nordic (ISO 8859-10)"}),value:"iso-8859-10"},{label:r.defineMessage({id:"JIPbQS",defaultMessage:"Baltic (ISO 8859-13)"}),value:"iso-8859-13"},{label:r.defineMessage({id:"oAEIJB",defaultMessage:"Celtic (ISO 8859-14)"}),value:"iso-8859-14"},{label:r.defineMessage({id:"Qjyql8",defaultMessage:"Western (ISO 8859-16)"}),value:"iso-8859-16"},{label:r.defineMessage({id:"CotI0w",defaultMessage:"Cyrillic (KOI8-R)"}),value:"koi8-r"},{label:r.defineMessage({id:"yfrxp4",defaultMessage:"Cyrillic (KOI8-U)"}),value:"koi8-u"},{label:r.defineMessage({id:"wsS/yZ",defaultMessage:"Thai (Windows 874)"}),value:"windows-874"},{label:r.defineMessage({id:"HwqH4P",defaultMessage:"Central European (Windows 1250)"}),value:"windows-1250"},{label:r.defineMessage({id:"ZfVgfk",defaultMessage:"Cyrillic (Windows 1251)"}),value:"windows-1251"},{label:r.defineMessage({id:"FX3mLw",defaultMessage:"Greek (Windows 1253)"}),value:"windows-1253"},{label:r.defineMessage({id:"dN2/fy",defaultMessage:"Turkish (Windows 1254)"}),value:"windows-1254"},{label:r.defineMessage({id:"JsVM7e",defaultMessage:"Hebrew (Windows 1255)"}),value:"windows-1255"},{label:r.defineMessage({id:"jJWptO",defaultMessage:"Arabic (Windows 1256)"}),value:"windows-1256"},{label:r.defineMessage({id:"F5fHRC",defaultMessage:"Baltic (Windows 1257)"}),value:"windows-1257"},{label:r.defineMessage({id:"5tXulG",defaultMessage:"Vietnamese (Windows 1258)"}),value:"windows-1258"},{label:r.defineMessage({id:"ahQ/LC",defaultMessage:"Chinese Simplified (GBK)"}),value:"gbk"},{label:r.defineMessage({id:"DVtgA8",defaultMessage:"Chinese Simplified (GB18030)"}),value:"gb18030"},{label:r.defineMessage({id:"HxL6Cr",defaultMessage:"Chinese Traditional (Big5)"}),value:"big5"},{label:r.defineMessage({id:"uRPDo4",defaultMessage:"Japanese (EUC-JP)"}),value:"euc-jp"},{label:r.defineMessage({id:"oQyQ+G",defaultMessage:"Japanese (ISO 2022-JP)"}),value:"iso-2022-jp"},{label:r.defineMessage({id:"gq9zB3",defaultMessage:"Japanese (Shift-JIS)"}),value:"shift-jis"},{label:r.defineMessage({id:"Ok/Fel",defaultMessage:"Korean (EUC-KR)"}),value:"euc-kr"}],Go=Ko.slice(0,3),zo=Ko.slice(3),jo=()=>{const e=i.useCurrentPreviewMetadata().previewType,t=J.useCurrentPreviewKey(),a=r.useIntl(),{logUserAction:n}=i.useFileViewerContext(),[o,s]=i.usePreviewKeyAtom(re.textEncodingAtom,t),l=qe.useMemo((()=>{var e;return null===(e=Ko.find((e=>e.value===o)))||void 0===e?void 0:e.label}),[o]),c=e=>{n(i.UserAction.ChangeTextEncoding,i.UserActionContext.PreviewToolbar,{text_encoding:e}),s(e)};return o&&e===i.PreviewType.Text?qe.createElement(i.Menu.Wrapper,{onSelection:c,className:"_text-encoding-container_1fpxp_1"},(({getTriggerProps:e,getContentProps:t})=>qe.createElement(qe.Fragment,null,qe.createElement(ue.PreviewButton,{...e(),variant:"outline",hasNoUnderline:!0,withDropdownIcon:!0},l?a.formatMessage(l):o),qe.createElement(i.Menu.Content,{...t()},qe.createElement(i.Menu.Segment,null,Go.map((e=>qe.createElement(i.Menu.ActionItem,{key:e.value,value:e.value},a.formatMessage(e.label))))),qe.createElement(i.Menu.Segment,null,zo.map((e=>qe.createElement(i.Menu.ActionItem,{key:e.value,value:e.value},a.formatMessage(e.label))))))))):null};jo.displayName="TextEncoding";i.injectInternalStyle("/static/js/file_viewer/toolbar/toolbar.module.out-vflq62FZV.css",(e=>"._lhs_1ubzy_1{align-items:center;display:flex}._lhs_1ubzy_1._fullscreen_1ubzy_6{padding-left:var(--dig-spacing__micro__xsmall)}._rhs_1ubzy_10{align-items:center;display:flex}"));const Zo=new Set([i.PreviewType.Excel,i.PreviewType.Text,i.PreviewType.Image,i.PreviewType.RawHTML,i.PreviewType.SsrDoc]),qo=e=>{const{featureConfig:t}=i.useFileViewerContext(),{actions:a,breakpoint:n,logAction:r,isDashChatM1Enabled:o}=e,s=i.useCurrentPreviewMetadata(),l=s.previewType,c=re.useIsFullscreen();return qe.default.createElement(Pe.ToolbarHolder,{role:"toolbar","data-tooltip":"redesigned-previews-toolbar",isFullscreen:c,breakpoint:n,isDashChatM1Enabled:o},(l===i.PreviewType.SsrDoc||z.getWillCloudDocPreviewAsSsrDoc(t,s))&&qe.default.createElement("div",{className:i.cx("_lhs_1ubzy_1",{_fullscreen_1ubzy_6:c})},qe.default.createElement(Bo,{breakpoint:n,showSeparator:!!a})),qe.default.createElement(be.ActionBar,{actions:a,logAction:r,breakpoint:n}),qe.default.createElement("div",{className:"_rhs_1ubzy_10"},qe.default.createElement(Ho,null),qe.default.createElement(Q.SlideshowControls,{previewType:l}),qe.default.createElement(f.PreviewZoomControl,{breakpoint:n}),qe.default.createElement(jo,null),(e=>Zo.has(e))(l)&&qe.default.createElement(Q.FullscreenButton,{variant:"borderless"})))};qo.displayName="Toolbar";const Jo=()=>{const{toolbar:e}=i.useFileViewerSubRegionContext();return qe.default.useMemo((()=>e?(e=>t=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(e,{...t})))(e):qo),[e])};i.injectInternalStyle("/static/js/file_viewer/toolbar/toolbar_wrapper.module.out-vflPTiRfz.css",(e=>"._sizer_1idgd_1{width:100%}"));const Yo=new Set([i.PreviewType.SsrDoc,i.PreviewType.Image,i.PreviewType.Text]),Xo=({actions:e,logAction:t,isDashChatM1Enabled:a})=>{const{featureConfig:n}=i.useFileViewerContext(),r=i.useCurrentPreviewMetadata(),o=null==r?void 0:r.previewType,s=ce.useResponsiveSize(),l=Jo(),c=z.getWillCloudDocPreviewAsSsrDoc(n,r);return qe.default.createElement("div",{className:"_sizer_1idgd_1"},Yo.has(o)||c||e?qe.default.createElement(l,{actions:e,logAction:t,breakpoint:s,isDashChatM1Enabled:a}):null)};Xo.displayName="ToolbarWrapper";const Qo=e=>{const{user:t,activePreviewFile:a,previewSurface:n,shareToken:r,sharedLinkInfo:o}=e,{file:s,sharePermission:l,encryptionOptions:c}=a,d=i.useUserHasDmtConflict(),u=i.useIsSendForSignatureEnabled(),{hasOpenInActions:_}=bt(),m=i.useIsHidePdfSignaturesEnabled(),p=W.useRootPreviewType(),f=W.useIsNestedArchiveFile(),g=gn({activePreviewFile:a,user:t,previewSurface:n,previewType:p,isNestedArchiveFile:f}),{actions:S,logAction:E}=Fo(t,s,l,n,_,d,u,m,r,c,o);return qe.default.createElement(Xo,{actions:S,logAction:E,isDashChatM1Enabled:g})};Qo.displayName="MetaserverToolbarWrapper";i.injectInternalStyle("/static/metaserver/static/js/shared_link/ui/sign_up_banner.module.out-vflXAGav7.css",(e=>"._file-preview-banner_8w12y_1{display:contents;position:absolute;top:0;width:100%;z-index:999}._file-preview-banner_8w12y_1>div{border-radius:0}._preview-banner_8w12y_16{margin-top:0;._animated-banner_8w12y_19>button{top:var(--dig-spacing__micro__small,8px)}}._animated-banner_8w12y_19{animation:_shimmering-background_8w12y_1 8s var(--easing__linear) infinite;animation-delay:3s;animation-fill-mode:forwards;background:linear-gradient(90deg,var(--dig-color__primary__surface) 0,var(--dig-color__primary__surface) 50%,var(--dig-color__primary__surface--state-2) 73%,var(--dig-color__primary__surface) 94%);background-size:200% 200%;span{align-items:center;line-height:30px;vertical-align:middle}}@keyframes _shimmering-background_8w12y_1{0%{background-position:200% 0}20%{background-position:200% 0}50%{background-position:0 0}70%{background-position:0 0}to{background-position:-200% 0}}@media (prefers-reduced-motion){._animated-banner_8w12y_19{animation:none;background:var(--dig-color__primary__surface)}}._signup-button_8w12y_69{border-radius:var(--dig-spacing__micro__xsmall,4px);margin-left:var(--dig-spacing__micro__small,8px)}._rocket-icon-styling_8w12y_74{margin:var(--dig-spacing__micro__xsmall,4px)}"));const $o=e=>{const{user:t,isSharedFile:a,sharedLinkInfo:n,...r}=e,o=W.useRootPreviewType();return o===i.PreviewType.Error||o===i.PreviewType.Loading?null:!t&&a&&n?qe.default.createElement(es,{isFile:!0,sharedLinkInfo:n,...r}):null};$o.displayName="SignUpBannerFilePreview";const es=({handleSUSIClick:e,sharedLinkInfo:t,isFile:a=!1,onClose:n})=>{const[r,o]=qe.default.useState(!1),s=qe.default.useCallback((()=>{ie.logSurfaceLevelSusiAction("close"),o(!0),null==n||n()}),[n]);if(r)return null;sessionStorage.setItem("has_seen_sls","true"),ie.logSurfaceLevelSusiView();return qe.default.createElement("div",{className:i.cx("_preview-banner_8w12y_16",{"_file-preview-banner_8w12y_1":a})},qe.default.createElement(T.Banner,{withLeftIcon:qe.default.createElement(i.UIIcon,{src:he.RocketLine,className:"_rocket-icon-styling_8w12y_74"}),type:"attention",className:"_animated-banner_8w12y_19",withCloseButton:"Close",onRequestClose:s},qe.default.createElement(T.Banner.Message,null,(()=>{const e=t.ownerName;return as(e,a)})()),qe.default.createElement(T.Banner.Actions,null,qe.default.createElement(i.Button,{variant:"transparent",onClick:t=>{ie.logSurfaceLevelSusiAction("login"),e(t)}},ts),qe.default.createElement(i.Button,{variant:"outline",onClick:t=>{ie.logSurfaceLevelSusiAction("sign_up"),e(t)},className:"_signup-button_8w12y_69"},is))))};es.displayName="SignUpBanner";const ts=r.intl.formatMessage({id:"3b7RKz",defaultMessage:"Log in"}),is=r.intl.formatMessage({id:"FFqlH9",defaultMessage:"Sign up"}),as=(e,t)=>e?t?r.intl.formatMessage({id:"fNuw8P",defaultMessage:"<strong>{linkOwnerName}</strong> shared this file. Want to do more with it?"},{linkOwnerName:e,strong:e=>qe.default.createElement("strong",null,e)}):r.intl.formatMessage({id:"7qM8rH",defaultMessage:"<strong>{linkOwnerName}</strong> shared this folder. Want to do more with it?"},{linkOwnerName:e,strong:e=>qe.default.createElement("strong",null,e)}):t?r.intl.formatMessage({id:"JkMQ1b",defaultMessage:"Want to do more with this file?"}):r.intl.formatMessage({id:"QhfaXF",defaultMessage:"Want to do more with this folder?"}),ns=e=>{const t=(()=>{const{signUpBanner:e}=i.useFileViewerSubRegionContext();return qe.default.useMemo((()=>null!=e?e:$o),[e])})();return qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(t,{...e}))};i.injectInternalStyle("/static/js/file_viewer/right_rail/right_rail.module.out-vflGyYAhv.css",(e=>"._editPluginContainer_kj1u0_1{background-color:var(--dig-color__background__raised);height:100%;width:328px}"));const rs=({Sidebar:e})=>qe.default.createElement("div",{className:"_editPluginContainer_kj1u0_1"},qe.default.createElement(e,null));rs.displayName="EditPluginSidebarInternal";const os=qe.default.memo(rs);os.displayName="EditPluginSidebar";i.injectInternalStyle("/static/js/file_viewer/ui/drawer_wrapper.module.out-vflbfZJSU.css",(e=>"._drawer-wrapper_lyxv4_1{color-scheme:var(--dig-color-scheme,light dark);flex:1;min-width:0}._inline-drawer_lyxv4_8{box-sizing:border-box;width:329px}"));const ss=({leftSidebarContent:e,rightSidebarContent:t,disableSidebarAnimations:a,defaultUi:n,children:r})=>((e=>{var t;const{optionalIOClients:a}=i.useFileViewerContext(),{preferencesClient:n}=a,r=null==e?void 0:e.defaultLeftSidebar,o=null==e?void 0:e.defaultRightSidebar,s=null===(t=null==n?void 0:n.sidebar)||void 0===t?void 0:t.getSidebarState(),l=null!=r?r:null==s?void 0:s.left,c=(null==e?void 0:e.ignoreRightSidebarPreference)||null==s?void 0:s.right,d=null!=o?o:c,u=z.useSetLeftSidebarCallback(r?null==e?void 0:e.userActionContext:i.UserActionContext.UserPreference),_=z.useSetRightSidebarCallback(o?null==e?void 0:e.userActionContext:i.UserActionContext.UserPreference);qe.default.useEffect((()=>{u(l),_(d)}),[e,u,_])})(n),qe.default.createElement(i.Drawer.InlineFrame,{withDrawer:qe.default.createElement(ls,{sidebarContent:t,alignment:"right",disableSidebarAnimations:a}),className:"_drawer-wrapper_lyxv4_1"},qe.default.createElement(i.Drawer.InlineFrame,{withDrawer:qe.default.createElement(ls,{sidebarContent:e,alignment:"left",disableSidebarAnimations:a})},r)));ss.displayName="DrawerWrapper";const ls=({sidebarContent:e,alignment:t,disableSidebarAnimations:a,...n})=>{const r=!re.useSidebarWillAutoOpen()&&!a,o=Ae.usePrevious(e);return qe.default.createElement(Ce.ErrorBoundary,{fallback:null},qe.default.createElement(i.Drawer.InlineDrawer,{...n,alignment:t,isOpen:!!e,className:"_inline-drawer_lyxv4_8",shouldAnimate:r},null!=e?e:o))};ls.displayName="SidebarDrawer";const cs=e=>{var t,a;const{viewer:r,editors:o,sidebars:s,comments:l,previewProps:c,showAuthModal:d,activePreviewFile:u,user:_,previewSurface:m,shareToken:p,previewContentOnly:f,webSignInTag:g,handleSusiClick:S,textHighlighters:E,userPresentableVerdict:h,ssrDocJumpToPageIndex:w,videoTimestamp:T,autoPlayVideo:I}=e,{featureConfig:b}=i.useFileViewerContext(),y=re.useAreAudioVideoControlsHidden(),A=re.useAreToolsHidden(),P=re.useIsFullscreen(),C=re.useActiveEditorId(),N=i.useCurrentPreviewMetadata().previewType;i.useMarkTimingEventOnMount(i.PreviewsTimingEvents.FVSDK_APP_MOUNT);const D=b.mobile_web,L=i.useShouldShowDashRedesign();(()=>{const e=re.useRightSidebarId();n.useEffect((()=>{e&&i.closeDashChatSidebar(i.WebIASidebarClosedReason.LOCAL_SIDEBAR_OPENED)}),[e])})();const M=C?Q.parseOverlayEditor(null==o?void 0:o[C]):void 0,O=C?Q.parseFullscreenEditor(null==o?void 0:o[C]):void 0,k=!(M&&!(null==M?void 0:M.allowTitleBar)||b.mobile_web&&P||A||f),{titleBarActionGetters:R}=_e.useTitlebarEditorActions(),x=null==R?void 0:R.isEditorReady,F=re.useLeftSidebarId(),U=re.useRightSidebarId(),B=Ae.usePrevious(U),V=i.useDashChatSidebarClosedReason();(e=>{var t,a,r;const o=z.useCloseSidebarCallback(i.UserActionContext.DashChat),s=z.useSetRightSidebarCallback(i.UserActionContext.DashChat),l=re.useSetAudioVideoDynamicTimestamp(),{data:c}=i.useDashAccess(),d=null!==(r=null===(a=null===(t=null==c?void 0:c.apiData)||void 0===t?void 0:t.feature_attributes)||void 0===a?void 0:a.has_chat_in_fss)&&void 0!==r&&r;n.useEffect((()=>{if(!d)return;const t=i.Messenger.getInstance(),a=t=>{if("view.transcription"!==t.source||!i.isValidDashMessageEvent(t))return void v.reportException({err:new Error("useOpenTranscriptionFromDashChat called with invalid event"),severity:"non-critical"});const{file:a,timestamp:n}=t.data;a.fileId!==e.file_id&&a.href?i.navigateToPreviewWithDashChat(a.href,{timestamp:n,otherParams:{transcript:"1"}}):(n&&l({timestamp:n,fileId:e.file_id,triggerId:t.uuid}),s(i.TRANSCRIPT_BLADE_PLUGIN_ID))};return t.registerActionHandler("view.transcription",a),()=>{t.unregisterActionHandler("view.transcription",a)}}),[d,o,s,e.file_id,l])})(u.file),(e=>{var t,a,r;const o=re.useSetAudioVideoDynamicTimestamp(),s=z.usePlayCallback(),{data:l}=i.useDashAccess(),c=null!==(r=null===(a=null===(t=null==l?void 0:l.apiData)||void 0===t?void 0:t.feature_attributes)||void 0===a?void 0:a.has_chat_in_fss)&&void 0!==r&&r;n.useEffect((()=>{const t=t=>{if("open.timestamp"!==t.source||!i.isValidDashMessageEvent(t))return void v.reportException({err:new Error("useVideoTimestampMessageHandler called with invalid event"),severity:"non-critical"});if(t.data.fileId&&t.data.fileId!==e.file_id){if(t.data.url&&c){const e=i.getCurrentDashConversationId();i.navigateToPreviewWithDashChat(t.data.url,{timestamp:t.data.timestamp,dashConversationId:e})}return}const a=t.data.timestamp,n=t.data.fileId,r=t.uuid;o({timestamp:a,fileId:n,triggerId:r}),s()};if(!c)return;const a=i.Messenger.getInstance();return a.registerActionHandler("open.timestamp",t),()=>{a.unregisterActionHandler("open.timestamp",t)}}),[e.file_id,c,o,s])})(u.file),qe.useEffect((()=>{B&&!U&&V===i.WebIASidebarClosedReason.LOCAL_SIDEBAR_OPENED&&i.openDashChatSidebar({type:"previews.reopen_after_other_sidebar_closes"},i.WebIASidebarShownReason.REOPEN_AFTER_OTHER_SIDEBAR_CLOSES)}),[U,B,V,u.file]);const[H,K]=qe.useState(!1),G=qe.useCallback((()=>{K(!0)}),[]),j=i.isEncryptedFile(u.file),Z=sr(),q=wi(),J=D&&!j&&!f,Y=W.useRootFile(),X=re.useEditorActivationParams();if(O&&Y){const e=O.fullscreenLayer;return qe.createElement("div",{className:"_editPluginFullscreenContainer_10wwt_6"},qe.createElement(e,{file:Y,activationParams:X}))}const $=N===i.PreviewType.Video,ee=k&&(D?qe.createElement(Z,{viewer:r,activePreviewFile:u,webSignInTag:g,user:_,previewSurface:m,userPresentableVerdict:h}):qe.createElement(yr,{viewer:r,file:u.file,showAuthModal:d,commentIconWithUnreadCount:null==l?void 0:l.commentUI.CommentIconWithUnreadCount})),te=null===(t=null==M?void 0:M.editUI)||void 0===t?void 0:t.Sidebar,ie=null===(a=null==M?void 0:M.editUI)||void 0===a?void 0:a.LeftSidebar;let ae,ne;const oe=!(f||P||A||M||C===i.VIDEO_EDITOR_PLUGIN_ID),se=P||C===i.VIDEO_EDITOR_PLUGIN_ID,le=te?qe.createElement(os,{Sidebar:te}):void 0,ce=ie?qe.createElement(os,{Sidebar:ie}):void 0;if(oe){const e=F&&(null==s?void 0:s[F]);ae=F&&e&&qe.createElement(dr,{sidebarPluginId:F,sidebarPlugin:e});const t=U&&(null==s?void 0:s[U]);ne=U&&t&&qe.createElement(dr,{sidebarPluginId:U,sidebarPlugin:t})}return qe.createElement(qe.Fragment,null,qe.createElement("div",{className:i.cx("_titleBarWrapper_10wwt_31",{_titleBarBorder_10wwt_37:!x,_isVideo_10wwt_45:$,_isFullScreen_10wwt_45:P,_hidden_10wwt_41:y})},ee,!f&&!A&&!x&&!D&&qe.createElement(Qo,{activePreviewFile:u,shareToken:p,user:_,previewSurface:m,sharedLinkInfo:u.sharedLinkInfo})),qe.createElement("div",{className:"_rendererRow_10wwt_11"},qe.createElement("div",{style:se?{display:"none"}:{}},ce),qe.createElement(ss,{leftSidebarContent:ae,rightSidebarContent:ne,disableSidebarAnimations:L,defaultUi:e.defaultUi},qe.createElement("div",{className:"_centerSection_10wwt_24"},oe&&S&&!H&&!f&&qe.createElement(ns,{handleSUSIClick:S,sharedLinkInfo:u.sharedLinkInfo,isFile:!0,onClose:G,isSharedFile:i.isSharedFile(u.file),user:_}),qe.createElement(Q.Preview,{...c,textHighlighters:E,commentPlugin:l,editors:o,ssrDocJumpToPageIndex:w,videoTimestamp:T,autoPlayVideo:I}))),qe.createElement("div",{style:se?{display:"none"}:{}},le)),qe.createElement("div",{className:"_footerRow_10wwt_20",style:P?{display:"none"}:{}},J?qe.createElement(q,{activePreviewFile:u,previewSurface:m,user:_,webSignInTag:g,userPresentableVerdict:h}):null))};cs.displayName="MetaserverFileViewerLayout";const ds=qe.lazy((async()=>{const{SaveDialog:t}=await new Promise((function(t,i){e(["./c_folder_dialog_save_dialog"],t,i)}));return{default:t}})),us=e=>qe.createElement(qe.Suspense,{fallback:null},qe.createElement(ds,{...e}));function _s(e,t){tn.select(Qa).emit({actionElement:e,action:t})}function ms(t,i,{allowCopyToDropbox:a,reduceUpsells:n,shareToken:r,encryptionOptions:o,sharePermission:s,webSignInTag:l,userPresentableVerdict:c,queryClient:d}){return{copyToDropbox:!a||s&&!p.isDownloadAllowed(s)?()=>{}:async({logModalConfirm:a,logModalCancel:n})=>{const{file:s}=i(),{saveToDropbox:c}=await new Promise((function(t,i){e(["./c_file_viewer_common_download_utils"],t,i)})).then((function(e){return e.download_utils_esnext}));_s("previews_dropdown","copy_to_dropbox"),f.showCopyToDropboxSnackbar(),c(s,(e=>{"save_to_dropbox_approve"===e?a():"save_to_dropbox_cancel"===e&&n()}),t,r,o,void 0,void 0,l)},downloadFile:async()=>{const{file:a}=i(),{downloadActiveFile:s}=await new Promise((function(t,i){e(["./c_file_viewer_common_download_utils"],t,i)})).then((function(e){return e.download_utils_esnext}));_s("previews_dropdown","download"),s({file:a,user:t,encryptionOptions:o,allowUnrequestedSusiModal:!n,shareToken:r,userPresentableVerdict:c,queryClient:d})}}}function ps(e,t,i,a,n,r){return{closeViewer:e?()=>{e()}:void 0,flipToNextFile:t,flipToPreviousFile:i,openUrl:r,flipToNextSlideshowFile:a,flipToPreviousSlideshowFile:n}}function fs(e,t,i,a,n,r,o){return{closeViewer:e?()=>{e()}:void 0,flipToNextFile:t,flipToPreviousFile:i,flipToNextSlideshowFile:a,flipToPreviousSlideshowFile:n,updateFiles:r?()=>r():void 0,openUrl:o}}function gs(e,t,i,a){return{closeViewer:e?()=>{e()}:void 0,flipToNextFile:t,flipToPreviousFile:i,openUrl:a}}function Ss(e,t,i,a){return{closeViewer:e?()=>{e()}:void 0,flipToNextFile:t,flipToPreviousFile:i,openUrl:a}}function Es(e){return{openUrl:e}}us.displayName="LazySaveDialog";const vs=(t,a,n)=>{const r=a(),o=i.UserActionContext.PreviewError;return{renderMenuContent:t&&(async()=>{if(!t)return;const{RenderOpenInMenuContent:i}=await new Promise((function(t,i){e(["./c_file_viewer_common_open_in_dropdown_content"],t,i)}));return i(t,r,o,n)})}};function hs(e,t){return t?function(e,t){return{docSidebar:{setCollapsedState:({isCollapsed:t})=>{f.setDocSidebarIsCollapsed(e.id,t)},getCollapsedState:()=>f.getDocSidebarIsCollapsed(e.id)},video:{getVolumeState:()=>f.getVolumeState(e.id),setVolumeState:t=>f.setVolumeState(e.id,t),getMutedState:()=>f.getMutedState(e.id),setMuteState:t=>f.setMutedState(e.id,t)},sidebar:{setLeftSidebarState:t=>f.setLeftSidebarState(e.id,t),setRightSidebarState:t=>f.setRightSidebarState(e.id,t),getSidebarState:()=>f.getSidebarState(e.id)},ui:{setHiddenState:({isHidden:t})=>{f.setUiIsHidden(e.id,t)},toolsAreHiddenInFullscreen:()=>f.getUiIsHidden(e.id),setLineNumbersAreHidden:t=>f.setLineNumbersAreHidden(e.id,t),lineNumbersAreHidden:()=>f.getLineNumbersAreHidden(e.id)},link:{setWarningHiddenState:({isHidden:i})=>{f.setLinkWarningIsHidden(e.id,t,i)},getWarningHiddenState:()=>f.getLinkWarningIsHidden(e.id,t)},finder:{setPromptHiddenState:({isHidden:t})=>{f.setFinderPromptIsHidden(e.id,t)},getPromptHiddenState:()=>f.getFinderPromptIsHidden(e.id)}}}(t,e):{docSidebar:{setCollapsedState:({})=>{},getCollapsedState:()=>!0}}}const ws=e=>({logStormcrowExposure:(t,a)=>i.logStormcrowExposure(t,a,null==e?void 0:e.id)});i.injectInternalStyle("/static/metaserver/static/js/file_viewer/modals/shared_folder_modal/shared_folder_modal.module.out-vflx-E3Hn.css",(e=>"._shared-folder-modal-facepile-container_ppprr_1{display:flex;justify-content:center;margin-bottom:var(--dig-spacing__micro__xlarge);margin-top:var(--dig-spacing__micro__large);width:100%}._shared-folder-modal-avatar_ppprr_9 div{font-size:28px;height:80px;width:80px}"));const Ts=["altText","inverse"];var Is=e=>{let{altText:t,inverse:a}=e,n=Ne._objectWithoutProperties(e,Ts);const{getInverseProps:r}=i.useTheme(),{className:o}=r(),s="dig-Illustration dig-13or4mr1_4-5-0 dig-Illustration-spot"+(a?o+" dig-Illustration--inverse":"");return qe.createElement("svg",Ne._objectSpread2(Ne._objectSpread2({role:"presentation"},n),{},{className:s,viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),qe.createElement("title",null,t),qe.createElement("g",{fillRule:"evenodd",clipRule:"evenodd"},qe.createElement("path",{d:"m295.714 216.1-.7.6c.2 1.7.3 3.9.4 5.7 4 .8 8.5 3.9 10.8 7.3 2.4 6.7 5.1 15.1 1.2 21.6-4.8 6.1-10.2 6.6-17.4 6.8-6.7.2-8.2-2.5-11.7-6.6-3.1-4.2-2.9-9.2-3-14.7-.9-.8-3.7-2-5.2-2.7-.6.7-1.5 1.4-2.3 2-12.7-3.8-17.6-5.1-29.6-.6-1.2-1-3.3-6.2-4.3-7.3 0-.3-2.1.3-2.2.3.5 2.1 3.5 6.9 4.3 9.9.8 13.6-15.1 27.2-27 18-2.4-1.5-6.2-7.1-7-10.3-.4-2.6-1.1-10.5.8-14.1 1.3-5.6 8.1-9-1.3-6.4-7.9 2.3-11.8 10.9-12 19.2-1.1 9.5-3.8 21.5-7.7 31.6-14.5 32.6-37.9 66.1-52.6 97.6-4.5 9.1-8.5 19.3-11.5 27.9-3.8 9-6.6 20.9-3.2 30.2 3.9 13.9 19.8 17.7 31.6 16.1 8.1-.6 17.9-11.6 22.1-16.7 2.4-1.9 8.2-8.4 10.6-13.2 6.2-10.1 13-39.8-3.9-46.4-2.5.3 0-3 .5-4.8 7.5-18.7 12.8-38.6 20.2-56.9 4-6.8 14.3-9.4 17-18.1.9 1.7 4.8.7 5.5 1.9 1.8 6.5 3.2 11.6 6.5 15.7-.1 13.3 8.3 28.1-8.9 33.8-3.3 1.8 12.4 19.8 16.4 20.7 8.5 5.2 26 2.9 35.1-.4 3-.6 26.8-23.3 19.5-22.9-3.9-1.5-9.8-.5-9.5-6.1-.6-11.5-4.5-22.1.8-32.8 3.2-4.4 1.8-10.2 2.7-14.8 1.7-.9 5.2-2 6.1-5.1 11.5 13 23.9 20.9 30.8 38.3 5.2 10.4 8.8 21.5 11.6 32.8 1.4 5.2 5.8 16.4 4.9 21.1-8.9 7.1-10.5 17.6-8.6 28.1 4.1 12.9 12.4 23.3 22.6 33.1 9.6 9.1 15.7 11.9 27.9 5.5 25.3-10.6 7.5-51.1-.1-68.8-7.1-15-14.6-32.5-22.6-47.2-5.6-10.4-12.1-19.4-17.6-31.1-8.9-17.2-7.5-38.3-19.2-54.3-2.4-4.1-17.1-27.8-20.8-23.5Zm-12.7 2.3c-1.5.1-1.2 2.6-2.3 2.4-4.9-1.4-6.4 3.5-3.1 6 2.8-2.4 7.6-6.4 11.7-5.9.5 0-.1-.6-1.5-1.6-2.2-1.4-3-1.4-4.8-.9Zm-37.8 6.7c-1 .4-6.3 2.5-7.1 3-.6.5-.6 1.5 0 3.6.5 1.9.7 1.9 3.3.5 7.4-2.9 10.2-5.6 17.1-1.7 3.9 2.1 6.1 3.2 10.2 3.8-6.1-5.9-15.3-11.5-23.5-9.2Zm23.9 2.6c-2.1 1.9.4 6.4 3.1 3.7 1.1-1 2.6-1.4 1.5-2.3-1.4-.8-3.5-2.2-4.6-1.4Zm17.2 33.2c9.4 7.1-4.5 8-4.1 2.9-.3-2.1 2.3-3.5 4.1-2.9Z",fill:"#E39D77"}),qe.createElement("path",{d:"M256.614 211.8c-10.9 1.2-21.1.4-28.9 7.8-1.3-.4 7.6 7.8 8.3 9.6-.7 2.1.5-.1 1.3-.1 9.8-3.5 10.2-7.6 23.3-.1 2.6 1.3 4.4 2.7 6.3 4.7.9 1 .9 1 1.5.7.5-.3 1.6-1.2 2.2-1.7-4.4-3.7-1.4-6.6 2.3-3.1.4 1.2 3.5-1.5 4.8-2.7-2.8-1.8-2.9-6.4 1.7-5.7 5.9.4-1-2.3-2.4-3.5-7.6-5-13.3-6-20.4-5.9Zm29.3 52c-1.4.8-2.4.9-3.3 1.6-1.5 1.1 6.1 3.4 6.6 1.3.8-2.1-.3-4.9-3.3-2.9Zm-.2 18.5c-2.4 5-6.4 1.9-5.9 6.9.7 9.4-4.9 11.9-4.8 19.5.2 4.4-.8 9.7-2.4 13.9 2.9 1.7 12.6 1.4 15.7.8 12.9-3.9 15.2-6.5 11.9-20.6-1-3.9-1.4-7.7-3.4-11-2.2-2.7-5.2-6.1-7.5-8.8-2.1-1.9-2.2-3.3-3.6-.7Zm-75 11.4c-3.4 6.6-5.7 6.8-8.9 9.6-4.9 12.3-4.4 24.6 14.3 22.6 7.8 0 7.1-.1 11.2-.8 1.5-.2.4-.9-.1-2.4-1.4-3.9-2.3-6-2.7-10.4-.1-5.5-5-11.6-5.8-15.9-1.1-4.7-2.5-3.5-6.5-4.8-.3 0-.6.4-1.5 2.1Z",fill:"#7A3B24"}),qe.createElement("path",{d:"M216.214 217.9c-7.6 1.7-15.8 7.7-17.2 15.2-1.3 11.5 2.6 24.6 14 29.7 12.1 4.1 15.2.2 25.8-1.7 1.1.1 5.4-.6 6.1-.2.2.4 1.9-.8 2.4-1.1.4-3.1-.3-7.4 2.5-9.3 4.1-.2 8.8 2 6.8 6.9-1.2 3.2-.9 5.6 1.4 6.6 1.3-.5 2.8-1.9 4.5-2.4 6.5-2.4 14.8.6 20.5 4.3.6-.3 1.4-.9 2.4-1.2 9.9-4.8 26.2-7 26.3-20.9.6-5.4.8-8.5-2.8-14.4-3-9.5-14.2-9.5-22.3-9-6.5 1.6-12.4 9.7-18.5 13.5-1.1-1-1.3-1.2-3.5-1.9-3.3-1-6.9-3.6-9.8-4.2-5.7-1.5-10.5 3.2-15.8 4.4-2.4-8.3-13.1-15.8-22.8-14.3Zm4.7 5.4c22 3.5 12.9 39.9-7.9 33.2-9-2.7-11.8-14.7-9.8-23 3.8-6.9 9.4-11.9 17.7-10.2Zm75.8 1.7c9.1 1.4 10.8 10.8 10.4 18.8-2.8 7.3-8.3 13.7-16.8 12-9.8-1.4-14.9-10.5-11.6-20.5 1.7-8.5 10.2-12 18-10.3Z",fill:"#14C8EB"}),qe.createElement("path",{d:"M255.314 211.5c-2.1 1.1-5 3.7-5.4 5.5-2.2-1.5-5.6-4.5-8.4-3.7.4.8 1.2 1.3 2.5 1.3 1.7.1 4.9 2.2 5.6 3.4 1.4 1.7.7.2 1.2 0 3.3-2.7 10.8-4.6 15.5-3.7.7.2.7-.2 0-.7-.5-.3-.8-.4-4.2-.4-4.9-.1-6.4.7-10.1 2.5.7-1 7.7-5.7 3.3-4.2Zm-18.3 4.3c-1.4.5-9.7 5-6.5 6.3 2.1-2.1 4.8-4.1 7.9-5.2l3.5.1c7.2-.5 6.7 2.9 9.4 6.4.4.1.4.1.3-.2-.1-.6 0-.4.4.3.4.8 2.3 2.7 2.9 2.9.7.2.7 0-.1-.8-3.3-3.7 2 .1 4.2 0 3.4.7 6.4 1.4 9.4 2.8-1.9-4.7-14.1-2.3-16.3-6.9 6.7-.5 18.2 2.9 23.8 6.9-2.5-4.8-13.3-8-18.7-9.3-1.2-.2-.9-.3 2-1.1 2.9-1.2 11.4-1.2 14.6-.3 1.2.4 3.8 1.1 2.1-.6-4.9-2.8-20.6-.9-24.5 2.4-.1.8-1.2.3-1.8-.6-2.4-3.6-9-3.4-12.6-3.1Zm-.9 3.8c-1.6.4-4 1.3-4.4 1.7-.4 1.1.6 1.5 2.6.5 4-1.6 12.3-2.3 15.5 1.9-7-4-20.6 6-12.9 3.8 3.2-2.6 9.7-4.5 13.3-3.2-.5-4.7-10.4-5.3-14.1-4.7Zm44.8.9c0 .6 1.8 2.1 2.4 2.1 1.1-.2-2.4-3.2-2.4-2.1Zm-64.1 6.5c-5.8.5-15.4 9-7.5 11.9.7-3.9 5.4-7.3 9.4-7.8 1.9-.3 2.2-.5 2.1-1.1-.4-1.2-2.6-3.6-4-3Zm32.9.4c-.8.2.1 1.3-.7 1.4-4.6 3.2-3.3 9.6 1.8 11.8-3.9-.3-5.2 2.9-5.1 6.2-1.2-2-5.8-16-7.3-14.1-1.3.2-2.2-1.8-1.5 1.9.7 4.5 1 12-1.6 15.5-2 4.2-5.7 10.5-10.3 11.4-1.6.5-8.6 0-10.7-.2-2.7-.4-2.4-.2-5.1-2.6-1.9-1.7-2.9-2-1.9-.6 1.6 2.5 4.3 3.6 6 4.5 0 .4 1.7 3.2 2.6 4-1.8-.5-4.3-1.7-5.9-2.6-2.6-1.8-1.7.2-.1 1.7.8.6 7.4 4.8 7.5 3.4-.3-.7 1.1-.6 1.1 0 .6 1.9.1 5.2 1.9 6.5 2.2 1.7.1-7.2.4-6.7-.1-.3 0-.4.3-.4 1.7-.1 4.3-1.5 5.5-3.1-1.1-1.8-6 1.8-7.9.9-1.6-.2-2.6-3.2-4.4-3.8 7.5 1 13.7 2.1 18.9-4.4 25.8 2.3 7.7-8.7 16.8-16.2 2 0 6 0 8.1.1 4.5 4.3-.2 8.5 1.5 13 4.2 6.3 4.9 3.4 16.7 4.4.9 0 5.8-.1 6.4.6 1.1.9 10.8 2.9 7 .1-1-.6-1.1-.7-2.7-.7-10.4-.2-15.7-11.9-13.8-21.1.7-3 1.8-6 3.5-8.6 1-1.5 1.1-2 .5-2-6.2 5.3-7.9 18-2.9 24.8 1.2 1.9 2.2 2.8 5.4 5.4.7.2-11.7-.1-15.2-.2-7.2-5.5 1.2-16 3.5-23.2-.8-2.1-2 1.4-3.7 4.7-4.8 9.8-.6 1.9-7.6 1.8 5.9-5.3.6-15.3-7-13.6Zm40.5.4c-4.1.6-5.8 2.6-7.1 5.8 1.9 5.7 4.7.8 6.6.1 1-.9 7.4-1.2 8.1-2.4-1.1-3.3-3.7-4.6-7.6-3.5Zm-36.4 1.9c5.2-.3 5.1 13.7-3.3 9.4-3.8-1.7-2-11.4 3.3-9.4Zm26.5 7.6c-2.3.7-2 2.5-.3 3.9.7.5.8.6 1 .3.2-.3.2-.3.7 0 1.4.6 3-1.9 1-3.2-1.2-1.2-1.2-1.2-2.4-1Zm-81.3 2.1c-.3.8-.9 2.6-1 3.6-.1 1.8-.1 1.8-1.2 1.1-.7-.4-1.5-.7-.9 0 .3.8-.3.6 1.3 2 1.4 1.2 3 2.2 2.4.9-.2-.4-.2-.4.1-.3 1.2.2-.3-.7-.7-.9-.2-1.1 1.4-7.2 0-6.4Zm41.6 1.7c1.5 4.4 3.9 8.9 4.2 13.7-1.9 2.6-6.2 2.3-10.3 1.7 1.8-3.2 4.2-7.2 4.5-9.6 1.1-1 .2-10.9 1.6-5.8Zm-35.1.2c-1.5 1 1.3 3.7 2.6 2.9 2.1-.3-1.3-4.7-2.6-2.9Zm105.1 3.9c-2.6 1.1 1.5 2 3 1.6 4.4-.5-1.7-2.7-3-1.6Zm-53 8c.1.5-1-.3-.3.4.6 1 .8-1.5.3-.4Zm-59.2.5c-.3.4 1 1.7 2.2 2.4 1 .9 2.9 0 3.8.6 1.6.8 1.7-.1.2-1.2-1-1.3-5.3-2.5-6.2-1.8Zm-1.9 3.8c.4 2.9-.5 13.6 2.8 13.6 1.3.3.8 0 .6-1.3-1.3-1.9-.4-11.8-3.4-12.3Zm48 3.1c0 1.7 4 1.5 3.7 4.1 0 .3-.5 2.5-1.1 2-1.1-.5-9.4-.1-8.4 2.2.4.7-1.6 1.4-2 1.5-2.5.8-6.4 2.4-8.7 3.7-5.6 3.6-10.7 10.6-15.3 16.6-1.5 1.6.8.3-.6 2.7-3.4 6.8-3.2 18.8-2.8 26 .1 1 .4 3.5.4 4.3 1.5 0 1.8.4 1.5-2.5-.4-14.7-2.8-23 7.2-34.8 8.5-10.1 10.6-11.4 22.3-15.7.5-.6-.5 2.3-.8 2.4-2.7 3.6-1.2 6.8 2.8 6.8-.8-1.6-.6-3.9.3-5.6 1-1.6-.1-4.4 1.9-4.8 7.3-.7 5.4-8.5-.4-8.9Zm12.4 3.5c-3.7 6.4 4.7 5.7 9.3 5.4 5.7-.3 11.1 3.9 15.9 6.9 0 .9.1 2.5-.4 3-.3.4-.4.6-.2.7.2.1.2.3 0 .8-.8 1.2 1.3 1.3 1.5.7 0-.6-.3.3-.4.1-.1-.1 1.2-2.9 1.4-3.1.1-.1.5.4 1 .9.9 1 1.2 1.1 2.2 1.5 2.6.2-3-4.1-3.4-4.7-3.8-3.5-10.3-5.5-13.2-7.4-.4-.7-2.7-.6-3.8-.8-3.7-4.9-10.6.7-8.8-3 .2-.6.4-1.1.4-1.1-.4-.2-1.2-.7-1.5.1Zm53.2 2.6c.2 2.4.6 8.6 2.6 10.2.2-.9-1.5-9.7-1-12.3-1.5-.8-1.8-1.6-1.6 2.1Zm-103.2.9c-2.4 4.5-4.8 15.3-3.8 18.4.3.3 1.1.5 1.6.5.4-5 .9-10.8 1-10.6-.3-.4 2.8-7.7 2.4-9.4-.7-.5-.6.1-1.2 1.1Zm86-.5c13.3 4.7 6.2 3.4 14.9 12.3 1.9.4-.8-2.6-1-3.3-3.1-6.5-7.5-8-14-9.4-.4-.1-.4 0 .1.4Zm-27.4.8c.4.4.4.4-1.2.4-1.7-.1-4 .8-5.5.4-3.5-.7 5.6-1.9 6.7-.8Zm-19.7-.2c-.8.2-6.7 2.2-5.5 1-.2-.6 5.5-1.3 5.5-1Zm12 4.4c-1.6.3 2 2.3-.7 7.3 3.8 3.9 5.6-4.7 2.4-6.2-.9-.6-.9-.8-.2-.8 1.2-.1-.6-.9-1.5-.3Zm-14.4 4.4c-1.2.8 1.3 1.8 1.8 1.9 1.7 1.3 5.2 3.5 7.4 2.2.6-.4.7-.6 1.1-1.5.2-.5.3-.5 1.1-.5 1 .2 2.9-1.2 1.4-1.8-2-.8-3.8-.6-4 .4-.5 2-2.4 3.4-3.8 1.3-.6-1.2-4.5-2.8-5-2Zm42.3 6c2.1 6.2 7.9 9.7 9.6 16.1.3 1 .7 2.5 1.1 3.5 2.3 6.7 2.6 7.6 3 9 .2 1.5 1 2.4 2.2 2.2-1.5-6.2-5-15.6-8.1-21.5-1.1-3.7-.6-6.4-2.8-6.4-.2.2.1 1.5.9 4.2 1 3.6-5.7-8.7-5.9-7.1Zm-3.3 2.2c-1.1 1.2.4 3.2 1 4.9 2.1 4.7 7.3 13.9 7.5 21.2.4 2.7 0 7.9-.2 10.3-.3 1.3.8 1.1 1.7 1.1.8-5.6.2-14.9-1.9-20 1.9 3.1 5.4 11.9 6.2 15.9-.1 1 1.8 1.9 2 1-.1-.2-.4-1.3-.7-2.5-1.5-4.9-3.6-10.5-6.2-14.7-1.4-2-3.1-3.2-4.3-6.1-1.8-3.6-4-7.2-4.5-10.5-.1 0-.1-.2-.1-.4.2-.4-.5-.6-.5-.2Zm25.9 1c-.5 2.9.9 8.3 3.4 11.2 2.2.7 2.1.2 1-1.9-1.6-2.1-2.3-9.4-4.4-9.3Zm-28.8 1.5c-1.4.9 2.4 15.3.6 19.6-1 2.4-3.6 5.6-5.7 7-.7.5-.7.5-.3.8 3.2 1.9 5.8-4.9 7-6.6.5-1.2.7-.9.6.5-.4 8.7-2.9 9.2-6.5 14.8.5 1.8 3.1.1 4.1-1.5 4.1-4 6.1-10.5 4.4-17.5-1.2-3.1-1.8-18.1-4.2-17.1Zm-33.8 2.2c-5.7 3.2-12.7-.1-7.3 5.2 3.9 0 4.5-.9 7.8-1.8 5.3-.7 11.1.4 16.7.3.6-.7 1.8-1.3 1.4-2.2-.2-1.6-.1-1.6-4.1-1.6-5.4 0-9.5-.4-14.5.1Zm-28.5 4.8c-.9 3.8-.2 8.7-1.3 12.7-.9 4.5-2.8 13-.8 16.7 1-1.7.5-9.6 1.4-12.6.1-.5.1-.7.2-.6.3 3.6 1.2 7.2 2.8 10.9.9 1.5.9 4.8 2.8 3.7.5-2-2-5-2.5-7.5-1.8-4.5-2.7-18.2-1.2-23 .2.1.2.1 0-.2-.5-.3-.1-1.1-.8-1-.4.2-.5.3-.6.9Zm36.5 4.8c-.8 1.3-9.9-.8-7 1.2 7.7 5 17.3-3.2 7-1.2Zm-47.4-.2c-.9 2.5-2 8.4-3.4 11.2-1 2.9-2.4 3.7-2.8 7.3-.5 2.8-.5 2.8.6 2.8s.4-2.1.9-3.5c.3-2.2 8.6-17.9 4.7-17.8Zm64.6 8.9c-3 2.6-8.9 8-13.4 9.4-10.4 1.9-19.2 1.5-26.4-4.4-.7-.5-3.9-2.2-4.1-2.2-.2 0 .2.4-.2.4-.4.5 2 1.8 2.7 2.2 6.2 3.7 11.1 8 19.3 7.4 12.4.7 16.5-3.2 24.6-10.7-.4-.6-1.4-1.5-1.5-2.1-.2-.2-1-.1-1 0Zm-17 8.3c.3.3.5.1.1-.1-.3-.1-.3 0-.1.1Zm-20.1 7.9c-.7.2.8 2.8.9 3.3.7 1.8 3.5 10.3 4.9 13 4.6 1.7-1.2-6.5-1.3-9.1-1.1-2.1-1-8.2-4.5-7.2Zm29.6 1.1c.1 3.8-4.4 23.5-1.4 22.6 1.9-2.4 1-12.6 2.2-16.9.1-2.8 1.7-6.5-.8-5.7Zm12.8 18.4c-.3.7 2.3 6.4 3.2 7.3 1.1 1.1 3.2 1.7 2 0-.6-1.5-2.3-8.3-5.2-7.3Zm-51.3 2.7c-.9 1.5-7.6 7.9-3.7 8.3.8.5 7.8-10.9 3.7-8.3Zm31.2 1.6c.3.1.6-.1.1-.1-.2 0-.2 0-.1.1Zm25.6 1.4c0 .1.2.3.4.3.8.2-.7-1.1-.4-.3Zm-45.5 10.1c-17.5 2.4-6.3 2.7 4 1.3 10.2 3.5.5-2.8-4-1.3Zm-62.1 11.6c-3.8 15-6.7 31.1-12.2 45.8 2.2 9.1 5.3-6 6.1-8.2 2.3-9.7 4.7-19.5 7-29.3 1.5-5.8 1.7-7-.9-8.3Zm159.3 3.1c1 10.7 2.3 23.2 5.7 34.5 1 2.3 1.1 11.8 4.2 10.1-.2-4.1-3.2-13.5-4.3-19.5-1.4-7.6-1.7-13.6-3.3-23.3-.4-1.2-2.5-3.7-2.3-1.8Z",fill:"#1E1919"}),qe.createElement("path",{d:"M390.114 24.4c-1.8 2.9-2.1 11.9-1.2 15.3.5 2.5 3.6 7.1 4.8 9.3-.3.1 0 1.5 0 1.9-.6 0-3.1-.3-3 .2 0 1.4 4.1 5 5.4 4.1.9-.2 2.6 6.9 2.4 7.7-1.6-1.3-1.2-2.4-3.2-3.3-4.6-2.4.9 5.2 1.5 7.5 2.7 4.7 2.6 10.4.7 14.7-4.1.7-6.9-4.4-8.8-7.9-.5-1.6-5.1-4.1-3.1 0 1.5 5.7 2.8 13 4.8 20 1.4 5.6 1.1 21.1-5.7 8.3-.5-4.4 1.4-10.5-3.3-10.6-.5 7.3 1.1 20.3-2.1 28.3-3.9-6.5-3.9-24.6-2-29-2.8-2.9-2.9 9.8-3 15.1.1 7.3.3 14.4 6 16.2 3.8-.7 3.6-11.7 4.2-16.4 2.3 2 5.2 3.3 8.3 3 4.2-6.3-1.7-23.1-2.4-28.7 2.3 1.8 7.6 5.2 10.4 3 3.5-6.5.6-13.1-2.1-18.8 2 .2 3.7 1.7 3.2-1.5-.1-1.7 0-1.8.2-1.6 4 3.4 10.5 6.7 15.7 7.1 3.1.5 2.7-.4 2.5-2.6-1.4-2.9-7.5-7.2-10.9-8.9 8.1-.3 10.2 1.9 16.6-5.2 12-11-.9-11.8-10.9-11.5-4.3 1.3-10.2 4-14.4 6.5 1.7-7.4-2.3-16.1-7.3-21-2-1.6-2.2-2.1-3.3-1.2Zm-252.1 2.4c-1.9.7-3.4.1 0 3.1 2.8 2.5 4.9 5 6 6.7.8 1.4.8 1.4.9 3.3.9 4.9-6 2.2-8.6 1-4.6-2.3-8-2.9-3.7.8 3.9 4.9 11.9 10.1 10.6 15.6-6.2 1.8-12.2-1.1-16.3-6-1.5-1.9-4.1-3.3-5.1-2.3.6 1.3 5.9 9.2 6.7 10.6 5.4 8.7-.2 5-7.5.8-4.5-2.2-9.6-10.2-13.1-11.2-4.9-1.7 3 5.1 3.8 6.1 1.4 1.3 10.3 11.4 10.4 14.5-6.6.9-12.6-.7-18.1-5.3 0-1 .1-2.4-.4-3.1-1.1-1.7-2.5-3.7-2.1-.5.5 2.8-1 .3-2.4.4-.5.6.7.7-1.3.6-2.2.3-2-1.9-3.9-2.9-.8-.4-1.6-.6-4.7-1.1-4-.6-4.3-.6-4.6-.3-.1 2.5 3.7 4.6 6.2 5.9-4.4 1-14.7 4.3-14.5 5.8 1.1 6.6 10.3 3.3 14.5.3 4-2.3 4-6.1 9-5-3.2 4.6-16 10.9-22.1 12.2 1.1 2.5 5.7 6 7.7 8.7.5.6.6.7.2.5-1.9-.9-5.2-1.9-7.1-1.9-4.2.2-1.5 5 1.3 6.6 4.6 2.2 11.2 5.6 10.8-.7 2.3.7 2.4 2.3 4.7 3.1 1.1.3 1.3.6 1.3 1.8.4 1.8-2.4 2.5-4.2 3-24.9-15.9-24 9.5.8 2.2l3.4 1.7c4.6 2.4 4.8 2.5 4.8 3.4 0 2.2-2 3-8.2 3.2-5.9-.2-7.5.6-11.4-2.3-2-1.5-2.2-1.6-2.4-1.3 2.3 5 12.9 8.9 17.4 12.1-7.5-.1-13.6.4-20.8.8.5-2.7 2.5-10.9 2.8-11.5.2-.2 1.8 3.6 2.4 5.4.4 4.2 1.2 2.8-.1-1.2-4.1-12.1-4.4-1.8-7.1 7.3-.8 0-4.4-.2-4.3.1-.2.6 2 2.4 2.9 2.4.8 0 .9.1.6 2-.3.9-.1 5.2-1 4.5-1.5-1-.7.9-.1 1.4.7.9-.8 3.6-2.3 3.4-4.4-1.1-4.8-11.4-5.8-15.6-.1-.7-.2-1.3-.4-1.4-.5-.4 2.3-2.5 1.8-3.1-.6-3-2.8-2.5-4.2.6-3.4 4.5-5.2 5-9.7 12.3-3.7 5.7-7.3 11.5-13.6 11.1-1.2-2.6 8.1-12.1 10.5-16.1 2.1-4.2 4.6-3.2 5.6-6.6.2-1.3-1.2-2.8-2.1-3-.4.2-2.6 4-3.2 5-2.1 1.1-5.3 2.1-7.4 2-.9-2.9 7.5-16.8 8.3-19.4-1-1.5-1.5-2.1-2.5.3-4 7.3-12.6 15.5-21.5 15.5-.5-5 6.2-11.5 9.6-13.5 2.6-1.5 4.6-1.8 2.4-3.5-3.3 1.2-6.7 3.7-10.3 4.4 2.5-5.8 6.4-9.9 8.5-13.1.4-5-4.4 2.8-6.7 5.9-2.4 4.2-6.2 8.4-1.2 8.9 1.2-.1 1.2-.1.9.3-1.4 1.5-3.6 4.3-4.4 6.2-3.2 11.9 12.9 4 17.1-.2-3.1 5.5-3.1 12.2 4.8 9.8-.4 1.6-3 3.8-5.3 6.9-13.9 14.7 4.4 18.3 13.1.3 2.5-3.3 4.9-8.4 3.8-4.4-2.1 7.4 3.2 21.3 6.8 6.3 1.8 4.7 7.5 9.9 9.7 3.6.3.7 1.7 3.3 1.7 3.5-4.1-5.3-2.3 3-2.2 5.6 1.2 6.9 2.5 10.2 5.3 14.3-4.4 4.6-10.1 10.5-13.1 15.9-.7-1.3-6.9-6.2-4.4-2.5.8.9 2.5 3.3 3.5 4.5-.9 2.3-1.8 5.7.6 7.5-1.3-.6-5.1-2.1-4.5-3 3.4-1-14.4-23.4-6.7-5.8.5 1 1.6 2.7 2 3.4-1.8.7-7-1.2-7.9-2.1-.7-.6-.7-.7-.8-1.9-.3-2.9-2.4-7.2-3.9-9.3-7-7.9-2 5.4 1.2 9.4 0 14.1-9.1 7.3-9-4.7-.4-3.8-.6-3.3-.6-6.4 0-2.2 0-2.2-1.4-3.1-1.5-1-1.7-.6-1.2 2.2.9 6.1-7.7 17-10.9 18.2-1.6-2.5 4.9-18 9.9-23.4 1.9.8-.6-1.9-1.2-.8-.1.1-.2 0-.4-.3-.6-11.1-3.1-22.6-12.9-27-1.4-.5-5.3-.3-5.7.3-.8 3.4 5.5 15.4 7.7 17.9-17.9-11.7-20.1 3.4.2 7.1-3.6.6-14.8 5.3-15.5 6.2 1.8 4.5 10.1 5 14.7 2.1 2.1-.5 6.3-4.7 8.9-5.7.3.2 1.2.7 1.6 1-4.4 7.5-9.1 15.4-9.5 22.6 6.1 5.4 11.1-6.2 14.2-10.7.4 7.1 3.3 13.8 10 14.1 3.3.2 3.4-4.1 4.1-7 2.5 1.7 5.5 3 9.3 3.5 3.6.9 5.6 4 9.6 5.1 4.2 1.7 5.7 9.4 8.2 13.8 1.7 4 2.9 11.2.4 14.1-1.3 1.4-.8 1 .1 2.8 1.5 3.1 3 4.6 5.7 5.9.7 8 3.1 23.4 5.9 24.2-.6 6.8.9 15.1 9 14.3.6-.5 1.3-1.5 1.7-1.9 2 4.4 7.6 13.2 11.7 12.8.1-2.6-.3-4.8-1.4-8.4-.9-2.9-.9-2.8.3-1.5 4.3 4.4 12.1 7.2 17.5 8.1-1.5 7.4-2.9 14.9-.6 20.5 1.2 2.5 4.9 5.6 7.3 4.2.9-2.2.4-5.5.3-8.3 4.5 6.8 6.7 11.6 12 13.1 5.1-.6-4-14.2-5.5-17.5-2.9-4.4-7-8.4-11.7-9.8-1.3-2.8 1.8-1.4 2.7-2.3 2.1-3.1-13.1-19.7-17.1-22.3 12.2-.2 19.1-.9 25.4 10.3 2.7 3.2 7.1 11.8 10.4 11.6 3.1 0 2.8-11.4 1.9-13.6.2-.7-4.1-9.3-2.2-8.1 4.4 1.4 7.5 1.5 5.1-4.2-.7-2.6-6.9-8.3-8.9-10.9-1.8-2.1-8.2-12.9-11.2-14.2-.4-.3-.3-.3.6 0 3.5 1 8.7 1.9 12.4.3 1.2-.7 2.8-1.2 1.7-2.4 1.2 0 6.6.3 6.3-.3 1.1-2.4-.1-3.1-4.1-5.8-2.4-1.8-11.3-7.1-6.7-5.3 2.7.6 13.1 1.2 13-2.7.2-1.9-7.6-5.5-10.6-7.7 9.2 1.2 13.1-7 4.8-12 2.3.6 2.3-.7 2.4-2.9 3.7 4.2 7.7 9.1 11.1 9.9 1.9.7 4.7 3.7 6.4 3.6-1.9 3.9-4.3 9.3-3.8 13.4-.3 5.1 1.6 7.8 5.1 8.4 2.7-.6 1.5-3.3 1.6-7.9-1.5-12.7 4.1 9.9 11.4 7.8.5-5.8-5.4-15-10.5-18.9 4.8 1.1 14.8-1 13.6-6.6-4.1-2.2-11.9-.3-16.2 3.3-2-.3-2.8-1-4.6-2.3-1.7-1.3-1.2-.9-1.1-2.4 0-2.8-5.3-7-7.5-9.3-1.2-1-1.3-1 .2-.6 6.8 2.8 20.1 1.1 6.5-6-3.4-1.7-9.2-1.9-13.3-.4-.3.1-.5-.1-1.3-2-2.2-4.7-3.6-5.5-6.7-9.5-5.3-6.3-11.3-15.1-17.5-19.4-2.4-.3 1.3 2.2.9 3.2.3 2 .7 3.4 1.1.9.1-.6.2-.7.5-.5 3.2 2.5 10.6 12.8 14.2 16.9.7.6-1.9-.4-1.8-.1-.4.4 1 1.7 2.4 2.1 1.1.1.7 1.1.8 1.8-5.3 1-14.9-15-16.8-18.9-3.4-6.1-3.6-8.1-8.1-8.6.9 9.7-.7 19.9-6.5 28.3-6.1-5.7 3.7-27 6.9-30.2 0 .3.7 1.2.5.2-2.2-5.1-7.6 9.1-9.9 14.8-1.2 3.1-1.9 9.6-1 12.2 6.6 13.6 10.6-7 11.8-11.3.2-1.6.2-1.6.3-.6-.1 5.2 4.6 13.7 9.7 13.7.6-.1.7-.1.8-.8.2-1.2-.1-2.8-1.7-7.5-.8-2.3-1.4-4.2-1.4-4.2 4.7 5.1 10.4 16.9 17.7 14.6.3-.4.3-.3.8.9 2.1 4.7 3.4 8 2.9 13.2-2.6.9-8.6-4.7-10.2-8.1-2.3-4-3.8-11.7-7.7-10.9 1.9 2.9 2.8 4 4.1 9.5 1.4 5.1 1.7 8.9.4 12.3-3.8 1.9-6.6-11.9-5.5-14.7 1 .8-.3-1.4-.3-2.1-2.1-5.5-1.5 5.1-1.4 6.9 0 2.7 2 5.9 1.8 7.3.6 3.7-1.6 9.8-4.6 15.2-1.4-1.4-3.3-3.3-4.6-4.4 1.9-5.1 5.3-12.7 6.9-14.5l.9.9c-.9-4.4-3.3 0-6.2 6-1.8 4.2-2.5 3.6-5.7 4.9-1.4-.7-3.9-2-2.7.1 0 1.4 2.1-.8 5.1 2.1-1.3 3.4-1.8 6.5-1.9 9.9 2.5 1.8 5.2 6.1 8 6 3.4-.2 3-7 1.5-9.2 1.9-2.7 5.6-11 5.3-14.6 6.7 6.1 6.6-3.6 5.5-8.7 3.1 3.6 3.1 3.7 9.6 8.3 2.5 1.8 3.7 3.3 3 6.2-2.7 5.4-6.5 2.4-10.1 3.4 3.6 5.7 22.7 10.3 1.8 10.7-2.3.6-7.2-3.5-8.9-2.9 1.2 3.7 17.1 10.1 16.6 14.3-1.4 0-4.2-.1-5.6-.2-2.4-1.7-8.6-5.9-11.2-4.2 2.2 2.4 7.5 4.2 10.4 5.8 0 .3-2 1.3-2.6 1.5h-3.5c-4 0-4.3-.2-7.2-1-2.1-3.9-15.3-10.8-5.7-2.6 1.3 1.2 2.8 1.8 3.1 2.8-.1.3.1.5 1.5 1.5 4.6 2.9 9.1 13.2 14.4 17.9 4.7 5 5.8 6.7 6 10.6-2.2-.1-4.1.1-5.1-2.2-1.9-3.5-5.4-8.9-9.2-9.1-1.3 1.9 4.6 8.3 6.4 9.4 2.5 3.2 6.4 16.4 3.7 21.7-13.1-20.3-15.5-21.1-39.3-21 6.3 4.3 18.6 17.6 19.3 22.9-9.8-.3-17.4-4.6-22.2-14.6-1.2-2.7-2.6-3.6-3.9-2.9.3 1.3 3.4 10.1 3.7 11.5 4.1 12.5-2 2.7-4.8-3-2.9-4.9.4-10.4-5-13.5-4.1-1.4 2.6 9.2.1 11.4-4.7 6.8-6.6-5.3-6-9.7 3.6 1.4 2.9-7.3 2.7-8.5-.4-.8-3.2-2-3.4-1.2-.7-.5-1.5 7.5-2.1 4.8-.8-1.5-2.6-12.9-3.4-19.4 0-2.9.2-15.1-.1-15.8-2.9-2.4-2.3-1.5-2.4 4.7-.2 4.9.2 8.2-1.4 7.7-.5-1.3-3.7-4.4-2.4-5.6 4.8-6.5-3.3-20.8-6.5-26.5-2.4-3.2 6.3 2.9 1.4-5.8 3.1-2.2 6.6-9.5 8.6-13.4.8 12.1 14.6 32 9.8 4.9-1.2-3.5-3.9-9-5.8-11.6 3.4.5 3.8 4.8 6.9 8.1 3.4 6.3 24.1 15.8 13.2 1.8-5.7-7.1-10.7-21.7-21.3-18.5-1.9-6.2-5.2-14.2-6.6-17.4 3.4 2.8 14.2 10.8 17.6 9.1.7-.3.2-4.4-.3-5.1-8.7-19.9-28.8-15.7 5.1-17-.4-4-7.5-6.5-10.7-8.5 12.9 1.1 23.1-2.6 7.2-11.1 2.6-.8 3.6-2.8 2.7-5-.5-.6 1.1-.1 2.1-.7 3-1 2.7-1 6.1 1.3 3 2.4 4 1.9 5.6 4.6 3 5.3 1 3.4 1.4 9.2-.1 7.9 1.6 15.1 6 19.3 2.2 2.6 6.9 4.2 8.7 2.3.4-1.2.2-4-.3-5 0 0 .7.3 1.5.7 2.5 1.5 11.5 3.6 15 4-1.8-3-11.3-7.6-12.7-9.7-3.4-3.1-4.9-4-9-4.2-.8-1.8-2.2-4.7-3.3-6.9l.7.3c1.2.6 1.5-.6.3-.5-.9.4-3.1-3.5-3.9-4.1-.4-.3-.5-.4-.4-.9.1-.5 0-.7-.5-1.1-.5-.2-2-3.3-2.1-3.7 3.6 1.3 11.2.2 12.3-3.2 0-5.4-11.4-4.8-16.8-5.5 4.7-1.6 9.4-4.2 11.1-7.4 2.9.7 6 1.5 9.5 1.2 2.2.3 8.2-1.9 10.2-2 .4.1 3.3 3 3.6 3.5-3.9 2-12.4 1.9-17.6 1.6 1.7-1.5.3-1.3-1.2-.8-1.9-1.3-3.4-3-3 .3-2.3-.2-2.6.6-.3 1.8.6.4 3.5.4 4.1.8 4.2 6.7 8.2 16.9 14.6 19.7.3 2.2-.3 16.1 1.9 15.3 1.5.7 1.3 1.1 1.9-1.9.4-2 .7-2.9 1.1-4.2 0 5.8 1.9 21.8 4.6 27.2 7.5 10.5 8.3-2.3 9-9.4 4.6 4.9.6 15.9 2.1 21.2 1.2 3.1 3.1 3.9 6.2 2.2 3.6-1.7 4-2.2 4-5 0-2.2-.6-10.4-1-12.8-.1-.9-.2-1.7-.2-1.8.8-.2 2.4-1.2 2.5-2 0-3.6-9-20.2-11.1-24.4-.8-2-2.3-3.2-.2-2.4 4.8 1.4 1.8-2.3 4.9.2 2 2 10.1 4.2 6.5-.5-1.1-.8-5.2-3.5-6.2-4.4 16.4 5 26.6-3.3 6.6-12.5 2.1-.1 6.4.9 7.8-.2.4-.3.7-2 1-2.2 2 1.1 11.8 4.1 11.3 7.7-1 0-3-.1-4-.1l-4.3-1.7c-2.9-1-6.6-3.2-4.4-.5 5.4 4.1 16.3 6.4 22.6 9.3-.4 1.2-1.7 2.3-3.7 2.1-3.5-.3-.6 1.8 1 2.7 3.9 1.2 6.1 2.5 10.7 2.8 6.7.6 8.7.1 12.3 3.7.9 1.1 6.8 1.8 3.5 2.4-6.6 1.5-8.9-.5-13.9-2.6-3.7.9 14.3 9.6 15.1 11.8.6.4.8 2.6.5 3.1-2.4.2-6.8-.4-8.9-1.6-2.5-1.2-3.4-4.4-5.6-5.6-7.1-4.7 6.7 9.7 6.1 15.2-4.1-2.4-7.2-5.5-11.5-11.1-1.5-2-6.3-9.3-2.8-5.7 1.6 1.7 5 4.1 3.1 2.4-1.9-.7-9.2-11.9-6.9-4.9 2.4 6.9 10.6 16.2 17.1 20.1 3.4 2 4.6 3.2 4.3.6-.2-2.2-2.7-7.1-3.5-9.2.1.1 1 .4 2 .9 16.3 5.4 10.8-4.1.3-10.2 3.1-.4 11.2.6 9.9-3.3-.1-.1.5-.2 1.9-.1 3.9 0 31.1 6 30 10.3-6.3.4-16.9-7.5-21.5-6.3-10.6 1.6 6.7 5.8 9.2 6.2-2.8 6.1-6.3 9-11.8 5.3-1 1.7 12 13.2 10.1 17.6-1.6 4.9-8.2-7.7-12.8-9.6-1.9-.2-1.2.6-.7 2.3.7 1.5.9 6-.2 6.3-.8.1-3-.2-3.7-.5-1.2-.2-6.2-8.6-7.5-6.3 2.3 3.4 7.2 14.9 5.8 21.1-6-4.3-9.3-22-22-21.1 3 4.1 10.9 12.8 10.5 18.2-2.9-3.2-6.9-7.5-8.9-10.4 2.3-7.2-16.7-24.1-6.1-6.5 3.7 6.3 2.9 4.3 3 7.5-.2-.1-.9-.4-1-.1-1 4.8-1.9.7-3.2-.7-1-1.1-.2-2.3.2-1.1.5 1.2 1 .6 1.2-1.5.1-.9.1-1-.3-1.1-1.3-.8-1.8.3-2.6.7-1.4-1.5-2.7-13.3-5.6-15.2-3-2.6-1.9 5.3-3.2 6.4-1.3 5.4-4-3.2-3.6-7.7-.3-7.3-.3-5.9-3.5-9.1-4-2.5-6.6-8-9-12.1-3.8-2.9-.4 2.2.7 4.5 1.6 4 5.6 6.8 7.8 9 1.8 2.1.3 14.1 3.5 16.4 4.2 6 5.5 6 7.7-.4 1 3.5 2.1 7 3.5 9.7-3.6 3.6-12.7 12.7-13.1 14.5-3.8 13 10.8 4.9 14.7.6-1.1 3.8-2.4 11.6-1.5 15.2 5.5 6.2 8-7.9 8-11.7 1.4 7.5 2.2 18.7 8.6 20.8 1.6-.2.6-2.2.8-4.5-.3-9.9-5.9-19.9-11.8-26.3-.4 0 .4-1.6.4-1.7.7.4 3.5 1.4 3.7.5 1.2-1.9-.2-4.8 2.8-1.1 18.3 20.6 8.7-3.2.9-10.5 8.6 1.6 10.8 21.3 20.5 21.7 2.2-3.2-.3-11.4-1.6-15.2-.4-1.6-1-2 .4-1.1 3.9 2.5 6.7-.2 10.3 4.3 4.5 4.4 10.5 14.9 10.8 21.1-8.3-.7-10.9-14.3-13.8-21.2-.1-1.2-2.9-2.1-2.2-.3.2.7.2.8-.2.7-1.3-.7 1.6 8.3.6 9.6-2 6.5-4.5 14.8-4.3 21.3 4.2 4 4.4-6.1 6-11.6.4-2.2.4-3.2.4-7.8 0-4.3 0-5.2.2-4.8 2 7.5 7.5 15.9 15.6 15.2.1-7.9-8.3-22-15.5-25.8-.4-.1-.5-.2-.4-.5.4-1.6.5-3.5.2-4.8 4.3 4.5 13.7 13.3 13.3 4.8-.7-4.4-6.4-10.7-8.7-13.6 5.8 1.6 8.4-3.8 10.8-8.8.1 0 1.5.3 1.9.3 0 4.5.9 11.2 2.4 13.5 3 4.7 10.2 8.2 10.3-.2 2-20.6-7.3-18.5 6.6-11.1 6.5 2.4 3.7-4 1-13.3-2.6-8.3-3.9-11-7.4-15.7-2-2.2-1.2-2.6-.4-4.8 1.7 6.3 9.3 15.4 14.7 16.4 1.5 3.9 2.7 11.5 8.5 11.3 2.2.7 2.8-2.2 3.8-3.4 1.9 1.3 7.3 5.7 6.9 9-.2 8.2-11-5-13-2.1-1 2.2.7 8.2 1.2 10.6-2-1.2-23.4 20.6-16.6 24.4 6.4 2.2 7.2-4.7 13.4-12.3-2.6 13.1-11.3 23.4-10.2 34.6 8.1 4.4 6.2-18.6 8.9-23.6-.3 4.5-1.4 12.8 2.4 15.9 6.3 6.8 4-12.6 4.1-15.3 0-3.9-3.1-8.9-2.2-13 0-2.1 3.2-7.8 0-7.6-.2 1.1-2.8 5.4-3.6 5.8-1.1 1.9-7.4 12.7-10.8 14.6-6-.5 13.8-22.8 14.4-21.4 1.3-.7 2.9.6 4.4.7 0 .2 0 3.2.1 2.4.1-1.5.2-1.4.9.3 2.1 5.4 3.5 9.2 6.4 12.3 2.5 2.2 4.7 3 4-1.1-.1-6.2-6.2-13.4-11.7-14.8-1.3-2.5-2.5-7.4-2.4-10.8 12 9.6 18.9 1.3 5.5-8.4-1.8-1.5-2.3-1.3-1.8-3.2 1.2-.3 5.4.7 5.1-.8-.1-.5-.1-.5.3-.1 2.1 1.8 6.9 4.2 9.6 4.5 5.4 1.6 3.7-3.1 2.7-6.3-1.4-3.9-8-20.1-8.5-12.3-.1 3.1.4 2.5 1.4 1.3 1.2 2.9 5.7 11.7 5.2 15.4-1.4 1.1-5.2-.3-7-1.5-8.9-7.2-8.1-4.9-8-17.1 14.7 9.6 2.6-12.4-1.1-17.3 4.8 3.7 18 8.2 19.4-.3-1.8-9.2-11.8-14.6-19.3-19.1-.7.7-2 2.7-1.7 2.8.8.3-.6.7-1 .7.4 0 1.1 0 1.3-.2.1-.1.1.1-.1.5-2.4 5.2-5.8 9.8-9.3 16.6-1.1 2.2-4.1 6.8-5.7 7.3-1.3-2.9-.6-6.2 1.8-11.1 3.3-7.1 6.9-12.6 9.8-16.5 0-.3-1.3-.9-1.7-1.1-4.1 5.4-9.7 8.9-15.4 11.8 5.2-4.6 12.5-10.9 18.4-14.1-1.5-.8-1.8-.8-3.5.3-2.6 1.6-3.7 1.2-6.2 3.7-6 5.5-10.4 7.8-14.2 13.1 1 3.2 10.2-3.6 12.3-4.5 6.6-5.3-5.7 9-4.2 15.9-3.8-1.1 8.7 12.8 5.4 21.9-4-1.9-10.6-10.4-12-16.5-.1-1.6-2.4-2.4-2.6-1.7 0 .4-1.2 3.2-1.6 4-2.9-1.5-1.7 1.1-1 1.8-1 4.2-7.4 21.3-10.3 20.2-3.3-3.4 2.9-17.7 4.4-19.8.5 1.1.4-1.4.9-1.8.9-1.5-.9-1.6-1.6.2-2.9 5.5-8.6 15.9-5.5 21.2.9 1-2.2-.4-4.6-.9-4.3-1-9.7-3.1-12.5-3.5-.9 0 0-.2 1.9-.4 2.8-.4 3.7-.9 5.1-2.3 3.2 2.8 1.5 3.5 8.2-4.7 4.6-6.7 7.9-7.6 5.2-10.9-1.1-.8-1.2-1-1.7.3-.5 1.8-5.3 7.4-7.3 10-5.5 6.9 4.1-14.3 7.1-14.6 2.1-.7 6.7-3.2 6.7-3.7 0-.4-1.5-1.6-1.9-2.1 1 .2 3.2.5 3.1 0-3.7-5.5-20-1.7-25.5-4.9.1-1 10.4-4.5 12.7-4.3 4.1.1 11.1.6 15-.5 4.1-6.8 9.9-15.1 19.8-18.8.3-.4.3-.4-.6-1.4-2-1.8-3-1.1-5.7.6-.6.8-11.1 4.9-11 4.4.4-1.8 6.6-7.8 8.3-7.2.6 0 .9-.4.7-.9-.3-2.5 12.5-6 13.7-7 7.9-.9 22.3-2.7 26.9-7.7 2.4-2.1 2.2-2 2.1-.9-.4 3.8 5.6 3.4 8.2 3.5-3.6 2.1-9.7 6.6-10.1 8.2-1.9 5.5 6.9 4.4 9.8 2.7-2.3 1.5-5.9 8.3-6.3 9.8.1.6 1.9 1.4 2.8 1.4-1 1.2-2.1 3.1-3 4.6-.5-1.4-2.5-3.3-3.7-3.3 1.4 1.7 2.2 6.4 1.1 8.6-1.9 4.1-7.1-5-6.8-8.2-.2-2.1-.5-1.8-1.5-2.3.3 1-1.7 4.1-1.2 4.7.6-.9.9-3.7 1.5-.4.6 4.9 4.5 6.5 7.1 8.7-1 4-.7 7.4 3.8 7.3 3.5-.4 4.3-2.9 7.4-6.8 1.8-2.9 1-.7.5 2.1-.9 6.9-6.1 7.9-10 12.2-2.2 2.3-9.1 10.3-5 12.9 1.5 1.5 4.8-1.7 6.2-2.7-1.3 3.1-8.9 25.7-.4 20.4.5-.7.6-.8.6-.5-.6 2.6-1.1 12.9-.7 13.9 4.7 5.4 9.5-5.1 3.6 7.1-1.9 3.6-1.4 1.6-4.4 4.4-1.1.9-3.8 4.5-4.7 6.2-.9 2.5-3.1 5.8-1.5 7.5 2.7 1.8 4.9-.8 6.9-2.8-2.5 6-4.6 13.8-4 20.2.3 2.7 1.2 3.9 3.3 4.3 3.1.2 3.8-8.6 4.6-11.8 1.7 3.4 6.6 6.9 10 5.1 3.2-9.9 2.1-7.3-1.2-23.1-.8-3.9-2.2-7.8-1.5-8.5 1.1.2.3-1 1.5.3 6.7 5.9 13.4 8.3 11.7-3.7-1.3-4.6-4.6-12.5-6.4-16.8 2.9.8 1.7-3 1.5-5.1-3.2-7.1-9.6-16.1-12.3-24.5 1.3.3 3.1 1.1 5 1.6 4.5.5 11.8 9.1 15.7 8.8 3.3.3 3.7-4.2 4.3-7 .7-4.3-9.3-11.5-13-13.7 1.8-.1 7.1 0 7.5-.6 3.3-1.7 5.2-7.4 3-10.6 1.3.7 3 1.2 4.4 1.4-.2 7.2-.5 17.8 6.9 20 .8.3 1.5-.7 2.2-1.3 0 4.4-.5 8.6 3.9 9.3-2.6 6.8-8.9 18.8-5.9 25.8 3 2.7 5.2.3 7.8-2.3-2.9 4.9-9.4 15.2-8.7 17.6-.3 2.6-4.2 5.3-5.4 8.1-2.5 3.2-6.3 8-9.6 12.2-5.4 6.7-8.9 11.7 2.3 11.3-12.6 10.5-2.2 16.8 10.9 11 3.7-1.3 3.1-1.6.8 1.6-6.5 8-10.4 16.4.8 13.6-7 11.6 10.2 11.1 9.6 3.9-2.8 0-4.3 4.1-9.2 3.3-.8-2.7 2.1-7.1 4.5-10.6-2.2-3.5-3.5 3.4-10.7 2.4.7-4.7 7.3-13.5 10.7-17.3 2.1-2.4 1.2.4 1.9-1 .7-2.6 4.9-6.4 5-8.7.3-1.4.3-.6-.1 2.1-.6 4-.8 7.3-.7 12.2-.1 6.9.8 7 5.5 7.8 5.6-3.6 5-18.1 6-13.2 1.8 5.8 3.9 8.7 6.5 8.7.5 0 .5 0 .5.9 0 1.5.7 4.7 1.3 6.6-6.1-.6-11.5 1.3-15.8 5.3-4.5 4.5-6.2 6.2 1.2 6.7-5.9.4-17.2 1.3-21.8-2-4.9-5-9.1-14.9-16-18.4-3.3-2-2.8.5-2.7 2.7-1.6 1.8.4 5.7 2.4 9.2.4.8 1.4 1.6.1 1-1.7-.8-10.2-2.4-12.6-.6-1 11.4 14 11.8 23.2 11.5 2.6 5.5 13.3 5.7 18.8 5.9-1.4.6-6.2 4.4-8.4 6.6-27.2-13.4-27.4 9.4-1.3 2.6-.1.7-.6 1.8-.9 2-.2.1-.2.2 0 .2s.2.1 0 .4c-.3.5-.1.8.3.5.4-.1-.5 2.9-.3 4.1 2.2 11.4 18.2-9.6 19.2-14.1.8-1.3-.7-1.7-1.9-2.3.8-.4 1.9-1 2.7-1.2 2.7-.7-2.1-2.7-3.1-1.6-3.6 1-21.2 3.2-23.1-2.9.3 0 1.7.1 1.7-.2-.1-.3.5-1.2-.2-1.1-1.3 0-1.8-1-1.6-2.3l2 .1c1.9.1 2 .1 2.4.6.6.7 1.1.9 1.1.3.4-1 2.7.1 4.7.2 10.5 1.9 21.9 1.4 28.7-5.7-3.3-3.8-4.8 3.6-13 2.9-5.6.6-2.2-.9.3-4 4.3-4 8.9-5.9 14.4-5.6 1.1 4.6 5 13 8.2 7.6.3-.7.4-.8.5-.5 1.2 3.3 2.5 5.6 4 7.2 5.9 5.4 7 2 6.6-6.3.8-5.7-3.6-21.2-5.2-29 .5.3 2.8 1.4 3.3.9 1.1-4.8-1.9-11-4.6-16 1.9 1.3 5.1 2.1 7.3 2.3-.6 3.2-1.4 16.9-.3 21.2 1.2 5 2.9 8.1 6.5 7 .4-.4.5-.3.5.3 1 4.8 2.5 20.3 10.4 20.1.6-1.5.2-4.9 1.4-1.4 2.4 5.2 6.5 10.1 11.5 9.4 1.1.9 1.5-9.5 1.6-11.1 1.4 1.2 4.4 2.4 6.2 1.7.3-.2.2-4.4.2-5.4-1.6-4.1-7.8-8.7-12.7-11.9 4.7 1.3 11.8 1.4 17.9 1.4.4-5.2-11.9-8.3-16.7-11 17.9.1-8.7-12.1-13.4-15.7 2.4-.1 10.8.3 11-.4 4.3-2.4-11.9-11.9-10.9-12.1-.3-1.8.5-6.1-.4-7.8-1.1-4.4-11.1-5-3.8-2.6.3.6.9 1.7 1.1 2.3-.1 1.1 0 6.1-.5 5.9-1.3 1.3 2 2.8-2.4 2-1.4-.3-1.8-.7-2-1.9-.7-2.5-4.6-9.2-6.5-12.4-8.7-8.8.8 10.1 3.8 12.6 0 2.1-.2 6.7-1.3 7.3-2.1.8-6.6.9-8.4-1.6-2.9-1.8-3.9-10.8-7.3-12.9-1.5-.8-1.8-.7-1.6.7 1.7 8.2 11.9 19.4 10.6 28.1-11.6-35.9-16.4-15.4-3-.6 2.3 11 7.8 29.9 4.4 38-5.1-3.8-6.6-12.3-6-19 .2-4.6.2-4.9-1.3-5.5-3.2-2.9.2 14.6-3.5 16.8-.6-.1-2.8-5.7-2.5-6.3.2-.3.1-1.3.4-1.6.1-.1 0-.3-.6-.5-4.5-7.3.3-16.7-.5-24.8-3.7-4.2-3.1 6.9-3.7 11.5-1.4 12.6-7.4-10.8-6.3-13.2.6-4.2-.4-8-.6-11.8-.5-.2-1.7-1-2-.9-.3.1-.3 7.1-.1 10.6-.8 8.1-.7 19.4-6 23.4-1.9-6.7 1.4-20.8 1.4-28 0-2.1 0-2.1-1.6-2.9-1.1-.6-1.5-.5-1.5.2-.7 2.4-2.8 6.3-3 8.7-.2 3.5-6.5 10.9-9.8 11.9-6.4 2.9-21.8 7.4-12.7-4.2 1-1.5 6.2-5.3 7.9-7 0-.4-1.5-1-1.9-1.2-3.6 1.3-7.6 2.7-10.5 2.3l.6-1c-.9 1.1 9.8-13.9 10.1-11.8 2.9.6 8.1-.2 10.2-2.6.2-.4-5.5-3.8-6.6-4.3.6-.8 3.9-7.7 6.9-7.1 3.1.4 8.6-5 9.1-6.1-.1-.3-1.7-1-2.2-1.2-1.7.4-2.8.8-5.1 1.9-8.1 5.4 8.9-17.2 7.1-19.2.3-1.2-1-1.6-1.7-1.8-2 1.7-6.3 7.2-8.1 7.7-.6-7.3 5.2-24 11.2-30.3-2.4-2.9-4.8.9-6.3 3.7-2.8-.2-2.2-.1-2.3-4.7-.8-3.6 2.5-12.6.5-14.7-1.3-.7-1.3-.7-1.6 1.5-4.4 20.5-9.8 1.9-8.9-9 1.9.7 2-5.3 2-8-.8-1.7-3.4-7-3.4-7.4 2.8 2.5 12.2 10.1 11.1 1.4 0-3.1 0-3.1-.7-5.1-.3-1.3-1.5-3.2-.2-2.1 5.6 4.7 9.5 6.5 9.2-1.9.1-6.6-2-8.5-4.8-16.7-1.8-3.8-1.7-6.9-4.9-6.6.5 2.8 5.9 15 6.5 17.8 1 9.8 0 13.1-6.9 3.9-2.5-3.3-3-11.5-7.6-11.8-.9.8 3.8 9 4 10.8.5 1.9 1.7 5.5 2.5 7.7 0 1.2.1 5.7-.1 6.1-3.9.4-8.6-7.2-10-9.6-7.5-6.8 2.5 12 2.3 13 .1 1-.3 6.2-.5 6.5-5.5 1.8-7.4-7.9-11.4-7.1.4 1.7 4.1 5.8 5.1 8.1 1.3 9.9-7.5 10.3-14.4 7.8-1.6-.6-1.6-.7-1.5-1.1.4-1.6.9-7.7.8-8.3-.1-.4-1.8-1.7-2.1-.9-2.3 2.8-6.7 12-10.8 11.7.1-1.4-.3-5.2 1.1-5.5.6 0 .6 0 .8-2.4.1-2.5 4.3-8.8 7.1-11.9 0-.2-1.6-1-2-1.2-5.6 4.5.3-4.5 1.9-6.1 1.1-1.2 4.7-4.1 5.5-4.5 1.2-.4-.6-1.3-1.2-1.6-3.6 1.2-9.5 4.1-13.2 3.7-.5-4.5 16.6-13.7 21.2-16.5 2.9-.9 2.7-3.2.8-4.1-14 14.3-35.7 9.7-2.8-2.8 1.3-1 7.9-.6 5.3-1.6-5.4-1.6-19 6.3-23.1 8.7-.6.4-.6.4-.9.2-2.6-.9-7.2 4.3-10.4 4.5-10.8 3.7-15.5.8-27.3 6.1-8.1 3.2-6.8 3.1-8 5-.9-.1-3.7 2-4.6 2.8 0 0-.1-.6-.2-1.4-.1-1.3-.2-1.5-.8-2-1.5-2.2-3.8-9.9-6.8-11.7-6.8-4.5-5.9.3-4.9 5.5-2.6-2.6-5.8-5.4-9.3-4.6-3.3.1-1.9 2.8-1.3 5.3-2.2-1.7-5.7-4.9-8.7-4.6-12.1-.6 7 21.6 9.9 25-4.2-1.6-4.2-1.9-10.8-2-5-.1-5.4 0-5.5.3-.3 6.2 6.4 8.8 13.1 10.9-.8 1.6-13.6 2.4-7.7 7.2 1 1.9-9.5 1.5-4.1 9.8 3.8 7.8 18.9-.1 16.1 3.1-1.7 2.7-4.2 8.4-4.6 11.3-5.4-5.3-11.2-3.3-19.1-.6 3.5-4.5 4.1-11.2-2.5-11.7-1.6 0-1.6 0-5.5 3.4-4 3.6-6.5 5.1-10.6 7.8.6-3.6-9.6-4.9-10.2-6.4.4-5.5-9-9.1-14.3-11.4-.6-1.6-3.8-6.3-4.7-7.6 9.2 5.5 14.6-.3 7.7-9.3 1.4 1 3.7.4 4.2 2 2.9 7.3 9 14.5 16.8 13.9 1.6-5.8-2.4-11.5-5.3-18.3 10.6 8.2 30.2 9.9 13.3-8.1 7.9 4.2 27.6 2.7 8-5.3-1.7-.7-4.1-2.2-3.4-2 .9.4 20.9 3.7 15.7-1.2-4.1-5.3-13.5-9.4-20-9.7 7.9-4.6 19.3-13.7 5.5-16-6.2.3-13.3 6.2-18.5 9.7.1-1.2-.8-2.3-1.9-2.3-.1.1-.2.5-.3 3.2-.2 2.5.1 2.4 1.6 3 1.7-2.4 25.2-19.7 23-8.1-1.8 2.4-10.9 10.4-15.8 10.2-2.2.2-5.1.1-4.6 1.4.6 1.3 5 1 6.2.6 7.3-.9 17.1 1.1 22.1 7.5 3.6 2.8-9.2.8-11.1 1-3.2.5-9.1-5-12.1-5.3-.2.3-.4.2 4.4 3.6 2.9 3.5 18 8 14.3 9.9-3.3.9-13 .8-16-3.6-4.2-5.9-11.7-8.5-3.3-.8 3.2 3.1 12.6 13.5 9.5 15.9-8 1.9-14.5-1.1-19.5-9.7-1.1-2.3-4.6-4.3-2.7-.8 2.9 6.9 9.1 16.8 8.6 23.4-4.8 2.6-10.8-5.9-13.9-12.8 8.8-3.7-4.9-15.8-9.6-18.7 3.7-.1 5.6-.1 9.5-2.1 4.7-2.6 11-7.9 8.2-11.6-6.7-5.2-11.2.5-17.8 6.2-1.8 1.8-2.8 2.4-3.7 3.1 1.7 2.4 1.6 1.1 5.3-2 6.2-5.2 9-9.3 15.4-7.2.2 7.1-12 13.8-18.8 11.9-1.7-1.4-3.2-.9-4.2-2.1-2-3.2-7.8-6.1-11-7.4-1-.3-.1-.3 2.1.1 2.1.3 12 1.3 12.8-.9 1.7-1.8 2-4-.2-5.9-2.1-2-13-7-16.6-6.1 3.4 3.9 19 3.2 13.6 10.6-4.4 2.5-13.4.3-19-1.4-2.2-.7-3-.8-3-.3-1.4.4 13.3 6.4 13.6 6.9 3.2 1.9 8.2 7.4 6.6 11.4-3.4.8-7.4-1-9.6-4-.7-1-10.8-10.9-11.3-11.8-3.4-2.4-2.3.2 2.8 5 2.3 2.3 4.2 4.3 4.2 4.4-4-2.8-11.3-9.2-9.2-4 .1 1.8 5 7.5 2.2 6.8-1.8 0-1.7-.1-1.7 1.1-1.4 13.5 13 19.7 22.4 11.8-.5-1.8-3.7-6.1-5.5-8.5 1.8 0 10.2 3.8 9.4-1.4.6-1-2.2-5.5-1.1-4.5 5 2.8 12 8.2 14.5 13.4 1.1 1 .2 7.7-1.4 4.2-.5-1.5-.2-2.1-1.4-3.4-1-.7-1 .1-.2 2.8.6 1.9.6 1.9.2 1.8-.2 0-.7-.1-1.1-.2-.4-.1-1.2-.3-1.8-.5-1.3-.2-5.4-6.2-6.1-5.9-1.3 1.9 8.2 9.8 7.2 12.9-.6 8.9-11.1.8-14-1.6-.6 0-.4.5 1 2 2.5 3.3 8.3 9 5.9 13.7-7.4.1-10.8-.8-15.6-2.9 1.2 3.3 11.4 5.4 14.3 7.6 3.2 1.8 5.8 5.1 2.5 7.9-2.8 2.3-12.3-.1-14.4-.3-4.3-1.5-7.4-5-12.2-8 2.5-.3 8-1.8 9.2-2.4 1-.8-.4-3.7-.9-4.6-3.6-4.4-9.4-4.5-15.6-4-10.7-11.6-8.8-1.1-24.7-4.3 0-5-8.4-4-13.1-4.3-5.3-1.5-9.1-3-13.4-5.2 2.9-1.7 7.7-6.2 7.6-7.7 5.7 3.6 11.1 6.9 18.7 6.4 4 0 4.4-.1 4.4-1.4-.2-1.9-3.9-6.2-4.8-7.9 11.1 5.1 19.6 9.7 9.5-5.6 4.4 2.8 10 3.3 16.1 3l1.3-1.3c-.3-6.9-3-6.9-10.3-15.6 5.3 1.8 14.1 4.7 11.4-4.3 0-1.7-6.4-7.9-7.7-9.5 2.9-.4-1.5-2.4-2.7-1.6Zm256 1.7c4 5.2 5.3 13.5 3 19.4-1.4 4.4-4.7-4.3-5.5-6.2-1-1.4-.9-20.1 2.5-13.2Zm-367.9 7.4c-1.4 7.3 7.1 11.8 12.7 14.3-3.5 3.4-3.6 8.5-3.7 14-3.1-2.7-5-4.1-9.3-3.9-3.7.6-9-1.1-4.6 2.8 3.6 4.5 9.5 11.5 10.7 14-4.4 1-17.6 2.5-20.7 3.8-6.5 3.8 2.1 8.5 7.9 7.8 4.5.7 15.6-3.6 19.5-4.8 1.3 2.3.3-9.3.8-8.9-1.1-4.8-2.6-18 1.6-22.1 7.8-4.7 3.2 23.9 1.2 25 4.7 7.6 5.2-8.9 5.6-14.4.5-6.6-2-13.9-7.6-14.2-3.4-.4-8.6-4.3-10.6-7.8-.3-.5-.4-3.2-.5-4.1 4.1.1 10.3 9.1 13.2 11.4.9-4.4-11.2-14.5-16.2-12.9Zm366.8.1c-.1.2.1.4.7.6 2.3 1.2-.6-1.7-.7-.6Zm-132.4 6.8c2.4 2.2 5.9 11.3 6.1 15.1 0 .5.5 1 .9 1.4-4.2 3.7-3 9 3.2 7.5-2.3 2.4-4.3 4.8-5.8 7.9-1.3 2.7-1.6 2.9-3.6 3-2 .2-1.2-.6-1.7-1.9-.2-.8-.2-.9-.2-.2 0 1.8 1.5 2.4-2.2 1.5-1.8-.4-2.5-.5-5.5-.5-5.2-.6-4.1 2.1-7.6.8-5.3-2.1-10.6-3-11.1-9.3 10.6.1 10.3-.8 19.4 4.7.8.2.8-.4 0-.9-6.5-5.9-15.3-17.3-17-25.1 6.9-8.1 16.2 15.1 22.9 16.5 1.2.3 1-.2-1.7-3.1-6-5.9-14-17.7-4.6-15.2 2.7 1.4 7.4 9.9 10.6 12 1.7.8 1.7.3-.2-2.1-3.1-3.6-3.7-7.9-3.9-12.8.8.1 1.3 0 2 .7Zm214.2.6c.9 2.2 3.8 6.5 5.4 10.2 0 1.2.2 4.7-.1 5.3-1.4 1.5-4.8-.2-6.5-1.1-1.4-2.4-3.3-6.7-5.2-7.4-.8 0-.3 1.9 1.3 4.2 5.2 8.8 8.1 8.9 5.5 16.1-6.8 1-7.1-5.6-11.2-7.7-.6 2.1 2.8 13.8 3.4 15.6 1.9 6.7 3.8 10.7-4 6.4-8.8-3.2-8.5-18.6-13.1-23.1-3.8-2.1 2.6 12.5 3.3 13.4.1 3.4 0 10.4-1 11.7-2 3.3-10.5-9.8-11.2-10.3-.8-1.3-.8-1.4-.6-3.9.1-1.3.1-1.6-.1-1.7-1-1.7 2.1-3.2 2.9-.4.2.4.1 4 .4 4.3.9-2-.3-8.3-4-6-2.1 8.7-2.7 17.8-4.7 27-3.9-6.7-20-28.8-21.2-18.1-2.6 11.7 10.1 15.9 17.2 20.2.2.3.3 2.1.2 2.1-5.6-1-15.4-4.2-21-4.7-4-.2-4.3 0-4.2 2.8 0 1.8 0 1.8.7 2.8 3.6 4.3 8.2 6.6 15 6.3 3.9 0 4.1 0 5.9-.5 3.3-.9 3.1-1 2 .5-.7.8-1.1.6-1.9.5 0 4-7.6 6.9-10.2 10.1-4.5 3.2-12.2 14.7-2.5 14.6 2.1-1.8 4.2-4.5 6.2-7.3 0 5.2-.6 17.6 1.3 19 3.1 5.9 9.5 8.2 10.6-.2 1.5-6.4-1.4-28.1-1.9-30.4.4-1.3 2.6 3 2.3-3.2 0-2.5 0-2.7.5-3.3.9-1.1 2.2-4.8 2.9-7 4.3 3.7 20 20.4 20.3 6.5.9-8.5-12.2-16.5-18.3-17.7.2-3.8.7-8.8 1.4-12.5 6.1 7.4 15.6 22.6 15.1 2 3 4.6 9.4 9.1 14.3 9.9 4.5.9-3.9-18.8-2.9-20.8 0 0 .3.2.6.6 9.1 9.4 15.5 2.3 7.9-8.1 17 8.7.9-20.4-.8-16.7Zm-50-.1c1.3.1 2.3.3 2.3.3 0 .8-7 8.1-8.9 9.1-3.3 2-16.4 1.3-18.4-1 8-5.7 16.1-9.6 25-8.4Zm-263.9 12.9c1.2.1 8.9 9.4 8.7 11.6-2 2.1-7.5 2.7-10.8 2.5-5-2.7-5.5-7.4-5.6-13.1 4.6.3 3.1-.5.9-4.9-3-4.4 6 3.8 6.8 3.9Zm243.6 1c6 2.5 12.7 4.1 12.7 8.4-5.2.1-14.1-3.2-16.9-8.5-1.9-3.2 1.1-.7 4.2.1Zm-313.6 3.3c3.7.5 3.8.5 3.5 1.6-.1.4-.2.4-1 .3-3.5-.4-9.5-3.2-2.5-1.9Zm-59.6 2.6c4.2 1.1 4.2 5 4.2 8.5-.2 4.1 1.3 5.2-1.4 5.3-2.8-3.2-8.1-10.9-10.9-13.9-.3-.3 7.6-.4 8.1.1Zm59.7 3.6c-3.2 2.4-8.5 5.4-12.1 4.4-.6-1 13-5.5 12.1-4.4Zm208.4 3.1c5.8 4.1 14.6 9.9 14 17.4-3.3 3.7-10.6 2.5-14.4-.2-3.3-1.8-4.1-4.8-6.5-6.2 2.1-3.2 4.3-8.7 5.5-11.7.2 0 .8.3 1.4.7Zm-204.8 4c2.3 1.4 7 3.6 9.7 4.4-4.6.4-10.6 2.1-15.4 4.2 1.3-1.7 2.2-11.1 5.7-8.6Zm164.6.5c0 .9.2-.1.1-.3 0-.2-.1-.1-.1.3Zm-169.6 1.1c-.4 1.5-3.1 6.9-4.2 8.7-.8-1.2-5-4.7-4.3-5.3-.2.3 9.6-4.1 8.5-3.4Zm330.9 4.2c6.6 6.5 10 12.3 14.1 19.2l-.8-.6c-3.5-3-15.4-6.3-16-13.2-.5-1.9-.2-7.7.3-7.7.1.1 1.1 1.1 2.4 2.3Zm-384.6-1.3c.1.7-.8-.1-.3-.2.3-.2.3-.2.3.2Zm-1.6.8c2.6 4.4-.1 3.2-7.9 6-4.1 1.2-13.2 3-14.9.1 1.1-3.5 3.2-2.5 9.5-4 3.2-.1 11.9-3.5 13.3-2.1Zm221.7.3c-1.1.2-4.3 0-5.9-.1.6 0 7.4-.1 5.9.1Zm-142.8 1.6c2.1.7 3 1 4.2 1.5-4.3 5.9-13.8 7.9-20.8 9-.9 0-1.1-.1-2.1-.8-1.1-1-5.9-2.9-6.6-4-1.1-1.3 0-.4.8-1.1 6.3-2.8 16.7-7.1 24.5-4.6Zm4.8-.2c.1 1.1-1.8-.4-2.5-.5.5.1 2.9-.1 2.5.5Zm178.9 9.7c3.8 6.6 5.6 8.5 5.4 14.5-4.8-.3-4.3-6.1-6.7-8.4-.8-.7-1-1.1-1.9-3.5-1.1-2.6-.6-3.6-2.9-3.9-1 1.1 4.5 13 5.2 13.1 0 5.2.1 14.5-.6 17.6-.9 0-3.5-1.2-3.8-.4 2.2 2.6 4.5 2.8 1.6 6.5-4.8 2-6.6-6.7-6.9-12.4-.1-3.8.4-4.7.1-8.1-.3-.1-1.2-.5-1.3-.1-.9-.9-3.2-7.1-4.1-8.4 4.8-.7 7.9-10.3 10.8-15 1.6 2.7 3.2 5.4 5.1 8.5Zm36.9-5.8c6.8 3.2 19.8 10.9 13.7 19.5-1.1 1.7-1.4 1.6-6-2.3-2.9-2.4-4.6-3.3-10.1-5.2-3.7-1.3-3.8-1.3-3.8-1.8.3-.7-2.3-1.7-2.3-1-.1.2-.2.3-.6.1-.9-.5-1.1 0-.7 1.4-.6 2.1-8 9.2-8.4 9.4-.1-5 8.7-12.5 12.7-15.4 1.1-.9 2.3-4.1 3-5.7.1.1 1.2.5 2.5 1Zm-249.6 2.9c3.3 1.3 4.4 1.1 3.5 3.4-1.6 1.4-6-1-8.2-1.8-.8-.4-.8-.4-.8-1.3 0-2.2 3.4-.7 5.5-.3Zm165.4.9c2.6.4 10.8.4 9.4.8-5.5 2.9-16.1 8-23.9 6.8-3.4-2.3-1.6-6.6 3-7.5 3.9-1.2 6.4-.2 11.5-.1Zm-91.7.7c1.6.4 2.3 3.2 2.1 4-1 .6-7.8 2.2-10.2 2.4-2.3-1.3-7.7-2-9.4-1.3 1.4 3.4 7.3 3.4 11 3.5 5.9 3.5 10.3 7.1 12.8 11.6-1.3-.9-2.9-2.1-2.9-1.9-.3 0-.1.4.3.9.3.4.4.4.1.4-.4-.1-.3.8-.3 1.1-4.1.1-4.4-4.1-7.2-5.9-10.3-8.1-3.6 5.6 3.1 6.8 4 8.6 12.5 22.1 11.8 26.8-11.3-31.3-11.5-2-2.6 2.7 2.4 1.4 1.2 8.1 1.9 12.1.9 5.1-2.5 5.1-5 6.2-1-9.6 3.2-17.2-5.3-25.3-2.4-1.5-1.2-1-2.5 8-2.9 19.6-8.1-13.4-7.9-21.6-.4-4.8.2-6.1-2.7-7.3-.3-.6-1.8 3.9-2.1 5 0-3 .3-14.9 0-15.5-3.1-5.3-3.5.9-4.2 3.8-.7 4.6-9.2-12.9-11-15.6 4.9 1.3 13.6 1.6 18-.9 1.4-.7 2.1-.7 6.9-.7.8.2 4.6-.1 5.3.7Zm284.8 2.7c6.7 2.3 14.2 10.7 10.5 18-4.6 1.3-12.8-9.9-15.7-10.8.2-1.3 1.3-6.4 1.4-7.8 0-.2 2.6.2 3.8.6Zm-327.2 1.5c15.1-.1 5.5 6.7-2.4 4.9-1.9-1.1-3.3-4.2-5.3-5.1 2.5-.1 4.6 0 7.7.2Zm-8.9.4c.7.3 2.9 2.1 2.7 2.2.3.2-6.7-4-2.7-2.2Zm-23 1.8c1.2.3 3 1.1 5 2.1 4.7 2-13.7 2.4-12.4-.1.2-3.1 4.8-2.4 7.4-2Zm333.1 2.8c4.1 1 10.7 3.1 13.7 3.3v1.5c-5.2 2.3-16.6 4.4-20.5-1.1-2.5-5.8 1.9-4.5 6.8-3.7Zm-90.9 1c1.4 6.2 11.8 18.4 11.2 24.6-1.7-3.4-5-7.9-7-8.3-1.3-.4-1.5-.2-1 .9.7 1.8 4.3 5.5 5.6 7.5.6 1.1 7.1 16.4 7.1 19 1.4 10.7-4.6 7.2-10.1-.9-.9-1.6-1.9-1.6-3-2.1 1.2-3.2 3.9-8.5 5-11.7-.8-.7-2.2-1.6-2.6.1-1.8 3.5-9.7 13.8-8.8 7-.2-7.6 1.5-14.8 3.3-21.4.2-.5-1.8-1.4-2.1-1.3-.8 1.4-4.3 9-4.8 9-.4-2.7 5.5-23.9 7.2-22.4Zm-101.3 1.4c-.2 4.1-5.2 8.9-7 11.8-1.7.1-5.5-1.2-8.5-.9-2.2 0-2.5-.1-1.6-.6 3.6-2.1 8-5.1 11.6-8.4 3.7-3.1 3.4-3.1 5.5-3.1v1.2Zm-71.5 3.5c.7.7 2.1 2.6 3 4 .2.4-2.1-.7-2.7-1.2-1.2-1.3-2.7-5.4-.3-2.8Zm326.8-.4c-.7-.1 2.3 6 4.1 9.5 0 1 .2 4.8-.1 5-2.6 2.2-13.9-6.4-6.1 3.3 2.7 3.5 8.8 12.3 2.5 11.7-3.7.1-4.5-1.4-6.7-4.6-.6-1.8-5.2-3.9-3.4-.9 1.4 3.5 5.4 11.2 5.2 15.3-5-.5-5.6-1-8.8-6.1-1.6-3.9-7.7-7.4-4.9-2.4 4.9 8.8 17.3 20.6 14.3 30.2-2.4 2.2-6 0-8.5-2.6-3.3-2.8-5.1-10.6-7-15.8-1.6-.6-3.6-2-2.6 1.1 2.2 8.8 9.1 21.2 9 30 1.5 18.2-12.1-4.9-12.7-10.6-1.1-4.1-.5-6-3.8-6.4-.9 2.8 3 12.4 4 16.9 2.2 6.4 1.9 8.6 2.1 14.4-1.5-1-3.4-3.3-5.6-6.2-1.9-3.2-5.3-5.4-4.3-2.9.7.8-.2 4.1 1.2 3.9.4 0 .4-.1.4-.7 0-1.4.4-.8 1.2.3 2.1 2.9 10.9 13.2 9.6 3.3.1-4-.4-6.6-1.3-9.5 2.4 3.4 7 6.9 11 6.3 2.6-6.3.9-14.8-2.5-22.7 3.2 2.5 7.5 4.1 11.8 3.8 5.2-7.3-3.1-16.5-7.6-24 2.5.2 9.1 4.2 8.1-1 .3-.8-2.2-7.1-2.9-9 12.5 5.5 13-1.9 5.3-11.2-1.2-1.5-2.1-2.8-2-2.9 1.8.4 5.9 1.8 7.7.6 2.7-3.6-2.7-11-2.3-12.1.7.3 1.9.5 2.1.3.6-.9-2.5-1.8-2.9-2.7-.5-.7-3.3-2.5-3.6-1.6Zm-210.4 2.9c3.1 5.2 9 20.5 7.5 25.6-5.5-1.3-8.1-10.6-11.3-14.9-.6-.1-.4-2.7-1.7-1.7-.1.4.7 1.1.1 1.4 2.6 7.6 7.2 24.1 3 31.7-6.9.7-8.9-12.3-8.6-17.2 2.5.7 9.4 4 8.5-1.3-2.3-2.3-4.7-4.3-7.8-5.7-1.5-.7-1.6-.8-1.2-.9 3.7-2.2 6.7-11.7 8.9-16.4 1.2-3.2.9-3.2 2.6-.6Zm-103 1.7c4 2.2 7.8 6.3.3 3.4 2.2.2-2.2-4.2-2.5-4.9.7.4 1.2.8 2.2 1.5Zm-48.2 2.8c1.8 4.3 4.3 7.9 5.2 10.5 1.5 1.2 3.1 5.3 2.2 7.5-9.4.5-9-13.8-9.5-21.9.8 1.1 1.2 1.9 2.1 3.9Zm22.3-2.5c-.1.4-.2-.5 0-.4v.4Zm100.4.5c2.6 1.9-2.1 5.4-4.9 5.2-4.7.6-10.6 2.7-14.6-.3 6.1-3.2 13.7-6.1 19.5-4.9Zm187.9 6.8c.3 3.9 5 32.3-1.9 31.1-4.9-6.2-2-22-1.4-29 .3-1.3-2.2-1.3-.8-2.1 1-.7 2.9-1.7 3.7-2.5 0 0 .2 1.2.4 2.5Zm-366.6 1.2c.1 2.1.7 8.8-.5 11.5-3.1 8.3-2.3-6-1.5-8.3.9-2.7 1.7-7.1 2-3.2Zm236.8.1c.8 1.1 1.1 1.7 1.5 2.5h-3c.4-1.8-.3-5.8 1.5-2.5Zm-173.6 1.5c5.6.6 10.1 7 14.2 9.1-5.5-1.4-11.2-.9-13.9-6.1-2.3-4.3-2.5-3.2-.3-3Zm295.9.3c-1.8 3-5.9 9.1-7.7 10.6.2-3.2 5.6-9.7 7.7-10.6Zm-158.4 1.7c.1.2.2.3.2.2.2-.1-.4-.8-.2-.2Zm32.3.1c-.1.1-.2 0-.3-.1-.5-.4.5 0 .3.1Zm-217.7.5c7.8 1.9 14.2 10.2 14.7 17.7-5.6-.2-14.1-6.4-17.5-10.5.1-1 .7-7.9 1-7.6 0-.1.8.1 1.8.4Zm185.4.7c-.1.4-.1.7 0 .8.3-.1.4-2.4 0-.8Zm-243.4 5.8c5.8 4.1 7.8 14.5 7.7 22.4-6.4-6.4-11.1-15.6-12.7-22.2.7-1.1 3.8-.8 5-.2Zm145.5 3.7c.5 1.9 3.1 6.5 1.5 6.7-2.7-.7-3.2-8-3.6-10.8 0-.2 1.4 2.4 2.1 4.1Zm-42.6 6.2c.1 2.3-.5-1.5-.2-1.2.1.2.2.7.2 1.2Zm-43.9 5.1c1.1 2.3 1.9 6.8 3 9.6.3-.1.6 3.4.1 2.6-3.5-2.5-6.2-13.4-6-18.3 1 1.9 2 3.9 2.9 6.1Zm47.4.3c1.3 4.1 7.4 16.8 3.6 15.9-5.7-3.3-5.6-10.8-5.8-20.4.8 1.4 1.3 2.5 2.2 4.5Zm202.8-1.1c.1.6 1 2.7.1 2.4-.4-.1-.5 0-.5.5.4 5.7 5 17.8 4.7 25 .4 10.6-5.8 8-8-.3-.8-1.3-.6-6.1-.7-7.6-.5-6.6.5-6.7 3.6-11.8-2.5-3.9-8.1 6.8-11.7 9.8-.9.9-1 .9-.8.4 1.1-5 6-9.6 9.4-12.5.6.1 3.6-9.4 3.9-5.9Zm-313.5.4c2.7 1.3 8.5 5.3 9 7.2-5.8-1.6-14.3-1.5-16.2-6.1-.2-2.5 5-2.6 7.2-1.1Zm351 2.7c-.6.5-2.1 1.4-1.8 1 .1-.2 3.3-2.2 1.8-1Zm-67.1 1c3.4 2.4 6.7 8.7 6.2 13.1-1 .3-10.2-17.1-6.2-13.1Zm-208.2 5.8c4.4 1.8 8.6 12.4 12.2 16.2 2.3 3 2.2 3 2.5 5.1-14.4-1.6-12.4-12.4-21.1-16.4 0-1-.1-3.2-.1-3.8.3-2.2 4.7-1.7 6.5-1.1Zm-66.4.8c-4.4 3.3-12.1 7.6-17 5.7 1.9-1.3 13.7-6.4 17.5-6.1l-.5.4Zm176.9 1.7c.6.9 2.3 2.7 3.2 3.7-2.8 6.5-8.5 11.3-15.7 14.1-1.5-2.6-.2-5.7 1.7-7.9 1-1.3 9.9-10.8 10.1-10.8 0 0 .3.4.7.9Zm5.6.8c-.1.3-.1-.8 0-.5.1.1.1.4 0 .5Zm-.3 1.5c0 .4-.3.9-.5.8-.1-.2.5-1.7.5-.8Zm151 .4c1.3.7 2.7 1.6 2.7 1.7-1.3 1-5 2-6.7 1.9 1.1-1.5 2.5-5.1 4-3.6Zm-278.5 2.2c-.8 5.4-5.2 13.2-8.9 16.7-.2-.1-2-2.5-2.5-3.1.7-2.2 13.6-20.6 11.4-13.6Zm4.3-.8c4 5.9 7.7 15.8 4.9 23.1-3.7-5.9-5.4-11.3-5.9-19.1 0-2.8-1.4-7.4 1-4Zm207.8 4.1c.6 2 1.6 23.9-1.8 14.4-1 0-.1-21.3 1.1-17.4.3.7.6 2.1.7 3Zm128.3-1.4c1.9.5 3.2.6 3.5.4 2 .6 8.6 6.2 9.2 7.9-.2.7-4.9.9-10.4.5-3-.2-3.5-.2-3.3.4 3.9 4 20.9 10.3 21 15-.5.2-6.1.2-7.5.2-1.5-.5-5.6-1.8-6.5-2-3 .5 3.9 2.9 5.7 3.3 1.6.1 25.8 10.2 16.4 9.9-6.4 0-12.6-.9-14.4-2.1-5.4-2.6-4.8-.3.4 2.8 8.8 6.6 10.9 6.5 12.1 13.4.4 6.5-5.1-4.1-5.7-6.2-.3-.9-.4-1-1.3-1.3-2.3-.9-2.3-.8-1.4 2.4 1.4 5 1.6 6.1 1.8 8.9.5 10.6-2.3 8.5-6.3 1.6-2.6-3.8-2.7-12.4-5-12.9-1.8-.6-1.7-.8-1.8 3.1-.1 3.4-.4 6.3-.7 6.5-5-7.4-5.7-23.1-5.1-33.4-1.4-.7-3.2-2-2.8 1.5 0 3.1-.3 7.2-.6 8.4-.6 1.3-1.4 6.1-2.3 3.7-2.6-3.9-2.9-21.2-1.4-24.7.5 1 .7.6.3-1.1 2.3-1.1 2.8-3.9 3-7.5 1 .5 2 1 3.1 1.3Zm-318.2 0c.8 2.7 14.3 10.5 8.5 15.1-4.5 4.7-17-5.4-10.5 2.5 3.4 5.5 12 10.5 15 15.7-6.2.5-11.1-2.3-16-5.1-.7 0-.4.6 1 1.6 4.9 4.3 11.2 11.4 15.5 15.1 4 3.6 4.8 4.5 5.9 5.8 1.9 2.4 2.9 7.6-1.4 6.7-1.2-1.8-11-10.2-7.2-4.2 2.2 3.9 9.8 5.9 6.9 11.3-1.8 2.8-8.7 1.3-11-.3-6.9-3.6-5.3-13.7-11.2-17 0-1.5 0-7.3-.2-7.7-.2-.3-1.6-1-2-1-.6 1.3.3 6.1-.3 7.2-.1 4.2-5.8 15.4-5.8 6.3-1.5-2.3 6.9-17.6 7.1-19.9-.5-.3-.7-.2-1.4 1.1-3.4 6.2-9 15.5-7.3 21.2 6 7.2 7.9-4.8 8.2-1.1-.4 3.9 4.3 25.8 8.7 20.2 1.7-20.7-4.1-5.2 15.5-6.1 2.9-1.4 3.6-5.6 1.5-7.9-.5-.3-.1-.5 1.2-.5 3.4.3 3.1-3.7 2.5-5.8-2.9-5.3-14.3-14-19.5-20.2 25 7 4.4-5.2-2.2-13.7-1.4-2.1-3-2.8-.3-1.9 4.1 1.4 12.2.8 11.2-5.1-.4-2.1-2.2-4.2-7.5-9-3.5-3.2-4.5-3.9-4.9-3.3Zm104.7.9c-.5 2.2-.1 13-1.3 14.7-1.8 4.8-3.7 9.5-3.5 2-.2-2.6 1.3-18.3 4.8-16.7Zm115.6 4.8c-.4 5.9-1 9.8-2.4 13.7-.7 2.1-.8 1.8-.9-2-.9-1.5 4.4-24.7 3.3-11.7Zm78.6 4.5c3.3 9.8-3.4-5-3.1-7 .1-.5 2.3 4.6 3.1 7Zm-189.5-.2c2.5 5.2 4.6 11.6 4.2 18-3.5-6-3.7-8.3-5.4-17.6-.9-4.4-.8-4.4 1.2-.4Zm-46.1-2.2c1.6.7 4.5 1.8 4.3 3.8-.1 3.5-15.6-.1-16.2-2.6-.2-.5-.2-.9-.1-.8 3.2.2 8.5-1.6 12-.4Zm-106.7 3.9c.5.7 1.2 2.1.4 1.2-.9-1.3-2-3.6-.4-1.2Zm97.9.7c2.1 1.8 11.3 8.7 8.1 11-2.1-.8-11.1-9.5-10.4-12.3.8.4 1.4.7 2.3 1.3Zm216.2.1c-.1.3-.1-.8 0-.5v.5Zm-88.5 1.5c-.7 4.6-1.6 8.5-2.9 10.7-.3-1.7 2-10.1 3.1-12.3 0 0-.1.7-.2 1.6Zm-46.2 1.8c-.2 1-1.2 6.2-1 4 .2-3.5 1.9-9.7 1-4Zm-169.3-.6.7 1c-.7.5-1.6 1-2.4 1.1.3-1.8.2-4.9 1.7-2.1Zm13.1 1.8c.1.2.3.3.3 0 0-.2-.4-.2-.3 0Zm-11.1 2.3c.1.4-1.4.2-1.7.2.5-.1 1.9-.9 1.7-.2Zm166.1 2c-.1.4-.2-.5 0-.4 0 .1.1.3 0 .4Zm-190.1 1.4c-4.8 7.6-14 9.6-18.8 13.4-3.9 4-4.3 10.2 3 7.9-2.3 3.3-12 7.9-12.5 10.7-6.2 8.8 1.6 11.9 6.6 4.9-.6 5.2-4.9 21.2 4.4 18.5 1.4-2 1.2 12.4 5.6 14.4-2 .3-3.3.9-4.3 2-2.9-7.7-11.2 3.6-12.6 6.9-3.7 7.3-1.2 5.6-3.2 10.9-.8 5-2.2 1.2-5 2.5-1.7 1.1-5.1 6-3.8 8 .6.5 1 .3 1.1-.4.1-1.6 5.5-10.6 5.9-4.9-.2 1.3 1.7 2.1 1.7.4.1-.3 1.8-9.2 2.3-8.8.8.6.1-.2.2-.5.1-.1.9-4 1.3-3.6.9-1 .3-2.1 1.8-4.1 2.2-3.2 3.8-6.4 7.3-8.1 1.9-.3.8 6.7 1 8.8 3.8 2.4-.2-5.5 5.7-8.1 1.8-1 4.1.4 5.7-.3.9.2 1-5.1 1.4-5.7 3.5-4.8 9.8-11 15.7-11.5.9.8.5 5 0 6.5 2.5 4.3 1.3-6.5 11-8 0 1.1 0 2.3-.4 3.4-.5 1.3-.4 1.4.5 1.7.8.6 3.1-2.6 3.9-2.2 2.2 3.7-1.2 10.5-2.9 14.3-.9-2-4-5.4-5.7-5.6-.7.1-1 3.3-1.4 13.2-.1 13.6-2.8 27.4-1.1 40.5-.8-.8-3.3-2.5-3.8-2.6-1.5.6-3 6.3-3.2 8.2-8.2-14.7-30.7-24-24.5 1.9-3-2.7-5.1-4.6-3.4 2 .5 2.5 2.7 15.8 3.3 18.3.7 3.3 1.3 6.4 1.2 6.4-10.3-11-12.2-9.6-7.6 4.3-5.5-3.2-18.6-16.8-10.8.2-10.7-8.9-8.6-1.7-1.2 1.6.6.1.6.1-.4-.4-.9-.4-3.4-2.8-3.2-3.3 2.2 1.4 6.5 5.8 8.5 9 1.4 2.2 1.7 2.4 2.7 2.8 4.4 2.2-7.3-10.9-6.3-16.4 3.3 2.6 10.2 7.1 12.6 10.1 1.2 1.4 1.4 1.6 2.3 1.8.9.2.8-.3-.1-1.6-2-2.6-4.2-9.8-3.7-13.5 2.5 2.5 7.8 8.2 9.5 8.1-.5 1.4 2.4 19.4 4.5 17.5-1.8-6.6-5.4-19.1-.7-25.4 2.5 1 2.8 7.8 3.1 11.5-.7 2.1-1.3 3.5-1.3 5.9-.5 3.6.9 5.4 2.4 4.1 1.1-2.1.1-7.7 1.5-10.2 9.8-21.4 8.4-12 6 3.1.4.6 2 1.3 2.1.5 0-1.2 2.1-6.7 4.2-11.1 2.3-4.7 7.2-12.8 7.3-12.1.2 4.1-.3 12.4-1.5 15.8.5.5 1.8 1.2 2.1.8.3-1.9 2.9-7.1 4.6-9.4 9.1-12 3.4 3.3.5 7.9-2 2.7-1.1 3.5.7 3.3 2.1-4 5.5-9.5 9.7-11.7.2 2.2-.8 4.5-2.2 8.2-3.7 9.6 9.2-10.1 2-9.6-7.1 2.6-3.5 4.8-3.9-4-3.8-3-7.6 4-10 6.8.9-21.2-6.8-5.3-12.1 5.1 1.1-15.7-5.9-6.5-10.4 3.2-.5-7.6-6.6-14.4-8.4-2.9-1.5-6.2-3.6-18.6-4.8-26.1.3-.4 5.1 8.1 6.5 7.7 1.4-.2-3.2-6.7-3.2-8.6-1.2-3.4-.6-11.5 2.3-13.6 8.1-2.9 15.7 6.6 19.3 13.8 1.4 2.8.6 5.8 3.2 8.2 1.2 1.4 2.5 2 2.5 1.1-.6-3.3-3.4-6.8-2.2-11.3.4-2.1 1.2-5.7 2.6-5.7 1.4 1.1 3 6.1 5 6.8 1.7.2-1.8-5.4-1.4-8.2.1-2.8-1-16.6 1-17.8 1.9.7 0-2.1-.5-2.8.1-8.2.5-23.6 1.7-29.6 2.2 1.6 5.1 9.4 3.6 11.8-1.6 1.2-3.2 15.8.8 13.2.7-3 1.3-9 1.7-11.6 2.7 1.9 4.6 5.6 5 9.8-.4 3.9-3.5 7.4-3.1 11.9 0 2.1 0 2.3.4 2.7 4.2 4.3 4.3-11.9 5.2-13 5.6.1 2.5 25.3 2 30.6-.3 3.1.3 3.6 1.9 3.6.3-3 .7-7 2.3-9.9 2.3 5.5 1.1 17.5 1.4 25.4.5.5 1.2 1.1 1.8 1 1.7-2.2 4.1-9.2 5.7-5.3.8.7.6 3.3.6 4.2.8 3.4-3.5 11.2.7 11.1.4-1.6.6-2 .7-2 .3 0 4 1.6 4.9 2-.2 2.5-.3 3-1.4 7.1-1.2 2.6 1.2 4.6 3 3.3.7-1.4 4.8-4.3 6.5-4 .9 3.2-6.6 14.6-4.5 16.4 1.3 2 3.4-3.5 4.2-3.9 2.1 7.2.3 17.7-2.9 24.5-1.9 4.4-1.9 3.6.4 4.4.7-1 3.3-4.5 3.4-4 .2.4.1 6.9.2 8.4.8.5 2.2 1.4 2.3.1.3-.9 1.5-3.1 1.8-3 2.5.9-.7 14.7 2.8 14.4-.7-5.3 2.7-16.1-4.7-15.6-.5.7-.2-4.7-.5-4.6.2-.7-2.4-1.5-2.7-1.7 1.8-5.2 2.9-10.6 2.7-17.5 0-4.6-.4-5.4-3.6-7.1 1-3.8 5.8-10.2 1.3-12-2.6-1.7-4.9.9-7.2 1.9.5-1.3 1.1-4.6 1.3-6.4 3.1-.1 6.7.8 5.7-3.4-.6-4.7-3.1-9.6-5.3-14.5 4.7 3.5 11.3 8.7 17.1 8.8 2.4.1 2.6 0 2.4-1.3-.9-5.4-4.4-12.1-7.5-17.3 2 .8 7.4 1 8.2-1.1.1 6.6 8.2 17.1 16 14.2 2.2-6-11.5-19.2-17.3-18.7-.9-1.6-2.4-3.4-3.7-4.8.6-.1 3.4.2 3.1-.3-2.2-4.8-6.5-12.8-9.7-15.2 11.8-3.6 6-12.4 1.3-19.1.4 0-2-1.1-1.9-.8 5.7 8 10 15-1.9 18.9 2.8 2 8.5 11.8 9.4 14.8-1.4.9-6.6-2.7-7.3-1.9-.3.9 1.5 1.3 2.7 2.1 1.9 1 2.3 1.3 4 3.4 2.6 3.9 4.7 6.9-.4 7.2-3.2.9-5-3-7.2-3.2-.6 0-.4.5.3 1.2 2.7 3.2 8.8 14.6 9.3 20.1-5.5 2.2-23.8-15.5-19.5-7.8 1.5 3.7 9.9 18.3 2.3 16.9.1-3.5-.7-7.6-3.4-8.8-1.6-.9-2.2-.9-2.9.2-.5.5-.1-4.2-.9-4.6-1.6-3.8-5.8-5-7.5-.8.1-6.7-.1-23-3.2-22.3-1.9-1.1-1.3-.2-1.3-3.3-.1-8.4 1.6-18.8-5.7-21.8-1.4-4-3.2-8.5-7.3-10.5-.1-1.4-.2-4.4-.5-5.4-.6-1.2.2-1.4.5-2.1.8-2.3 1.8-4.3 2.8-6.8 1-3.3 1.7-11.1-3.9-9.5.5-6.3-8.7-1.5-10.6 1.5-.3-2.6-2.8-3.4-5.1-2.7-1-1-1.4-3-2.8-5.5-3.3-6-6.4-15.7-10.1-19.5-2.2-.9-3.2-.1-1.1 2 2.7 3.3 8.8 18.5 11.4 23.4.1.4.1.4-.5.3-4.3-1.3-11-6.2-14-10.3-1.5-1.8-1-2-2.7-2.2-.9-.1-1-.1-1 .2 4.5 7.4 2.7 5.5 5.1 19.2 2.4 14.9-5.3 10.7-6.5-3.8-1.3-7.8.1-8.2.2-14.9.1-3.3.1-3.6-.2-4-5.2-4.4-.7 13.5-5 16.9-4-4.2.3-21.5 2.9-26.7 2.4-5.8 6.4-9.5 9.5-14.9 1.4-2.1 3.4-3.9 2.9-5.1-.9-.3-.9-.3-.3-.8.4-.3 2.8-2.5 3.1-2.8-2.5 9.1-8.5 19.3.1 21.5 4.1-1.4 4.4-10.8 4.5-19 0-4.1 0-7.5-.1-7.6-.8-.6-1.8-1-3 .9Zm189.9-.5c-.1.4-.2-.5 0-.4.1.1.1.3 0 .4Zm-113.4 1.4c-.3.8-.6 1.4-.9 2.1-.3-.2-2.4-1.5-2-1.6.2.2 4.1-2.5 2.9-.5Zm-73.9 4.1.2 4.7c-1.4 1-1.7 2.8-3.1 8.2-1 4.5-2.7 8.4-2.8 3.9-.4-2.5 3.1-16.7 5.4-21.6 0 .1.2 2.2.3 4.8Zm69-3.5c-.1.2-.8.3-.8 0-.1-.2 1-.3.8 0Zm68.1.1c.9.2 1 .6.4 1.8-1.5 4-9.4 5.7-12.4 3.4-.2-1.8 9.5-6.3 12-5.2Zm261.6.7c-.1.4-.2-.5 0-.4.1.1.1.2 0 .4Zm-321.6 5.4 1.4 1.5c-1.1 1.5-3.2 4.1-4.6 4.5-.5-1 .3-.6 1-.5-.6-.6-1.3-1-2.2-.9.1-2.4.6-5.4 1.5-7.6 1 .9 1.8 1.7 2.9 3Zm48.4-1.1c.3.1.6-.1.1-.1-.2 0-.2 0-.1.1Zm164.8 2.7c5.1 3.5 10.4 13.3 14.5 17.6-2.1-.4-5.8-.5-5.4.2 0 .3-.2.2-1.3-.6-4.8-2.5-10-8.8-10-13.4 0-1.2-.3-1.2-.9-1.8 1.6-1 .6-3.7 3.1-2Zm-166.9 10.9c0 3.5 0 5.3-.2 5.6-1.6-.1-2.5-2.9-2.6-5.2-.5-4.1.9-8.5 2.4-11.9.3 3.7.4 7 .4 11.5Zm4.5-8.8c1.5 1.5 7.7 11 7.1 14.7-2 .2-15.9-24.2-7.1-14.7Zm-138.1-1.8c-1.4 3.6-8.4 11.2-11.4 11.1-1.9-5.5 6.3-9.3 11.2-11.4.8-.4.8-.4.2.3Zm428.9.8c-6.2 6.5-2.5 12.8 2.2 25.2.1.1-.5-.2-1.3-.8-3.6-2.6-8.8-3.5-9.8.6 2 4.2 14.7 12 18.8 13.7-.9.8-1.9 1.8-2.5 2.8-.4-.1-1.2-.4-1.6-.6-1.2.4-4.4 7-4 2.6-.7-9-9.4 2.9-11.3 5.7 1.8-28.7-13.7.8-15.9 12.6-.2.5-.3.8-.3.7-.6-4-1.2-11.4-4.4-14.3-5.1-.8-3.2 22.5-.7 25.5 1.2 3.2 1.7 3.8 1.9 2.8-.2-.3.5-1.2 0-1-4-7.1-4.3-18.3-1.5-26.6 3.8 6 3.3 18.4 3.1 24.1 1.7 1.2 1.6-1.7 1.7-2.9 1.3-8.6 6.9-26.9 13.9-32.1 1.9 4.6-.4 16.6-1.7 20.9-.1 1-.1 1 .4 1.2 1.2.5 1.2.5 1.7-1.8.8-5.7 6.9-14.1 11-17.1.5-.4.5 5.8.5 7.2-1.4 2.4-2.3 5.1-2.3 7.4 2.6 2.6 2.9-3.1 3.6-4.9-.1-1.2 3.5-7.5 5-8.1.2 1.5.4 2.7 2.2 2.7.4-1.8 1-4.3 2.8-5.5.4-.3.4-.3.9 0 1.1.6 2.2.2 1.4-.5-.2-.2-.2-.3 0-.4 1.1-.8 1.6 2.9 1.7 4.2.4 0 2.1-.1 2.3-.2 0-1-1.2-4.9-2.8-5-6.2-.4-9-3.1-15.5-8-3.9-3.1-4.8-3.9-4.8-4.6 2.1-3.4 3.6-1.6 7.7 2.5 4 3.4 5.6 10 10.4 9.1.4-.7-7.1-8.2-5.1-8.6 1.8.2 1.3-3.8 2-5.3 20.4-12.5 2.9-31.5-1.7-4.5-1.5-8.5-.6-18.8-8-18.7Zm-339 3.3c.1 1.6-.6 2.7-1.3 4.1-1.2-.1-1.7.4-2.5-1.1-.6-1.1-1.2-1.1-.1-1.6 1.2 0 4.6-5.7 3.9-1.4Zm341.5.4c1.1 3.4 1.6 6.8 2.1 13.9.5 6.6.4 7-.9 3.9-3-7.2-4.2-10.9-3.2-16.9.9-1.5 1.4-3.7 2-.9Zm14 5.7c.3 4.5-3.6 7.1-6.3 9.7.9-5.5 2.8-11 6.1-12.8.2.9.2 1.5.2 3.1Zm-90.5-2.2c-.1.6-.7-.5-.2-.4.1 0 .2.2.2.4Zm-59.7 4.1c7-.1 8.4 4.4 13.2 6.6 1.4.6 1.2.7 1.1 1.5-6.2.2-15 0-17.4-1.7-2.7-1.1-4.6-4.3-2.8-6.5.8-.1 3.7-.1 5.9.1Zm-191.5 3.6c2.4 1.5-1.7-.3-2.2-1 0-.1 1.3.5 2.2 1Zm-115 2.3c-1.1 3.1-5.6 12.1-9.5 12-.2-5.3 3.4-9.3 8.3-12.6 2-1.2 2.2-1.8 1.2.6Zm72.6 5.7c2.3 2.1 4.1 23 .3 11.9-.5.7-4.3-21.3-2.1-16 .4 1.1 1.2 2.9 1.8 4.1Zm288.9-3.8c-4.2 4.6-11.4 21.6-10.1 29 4.3 5 6.4 3.4 10.7-3.5 3.9-7.2 0 7.9.6 9.7-2.7.8-14.4 3.2-18.4 4.3-6.8 2.1-8.5 9.7.3 8.2-4.8 4-12.4 2.7-17.6 3.2-4.3 5.8 4.5 7.4 8.7 6.1 1.9-.4 5.4-2.3 7.3-3.3 0 0-.2.8-.6 1.6-1.3 3.9-3.7 8.4 1 8.9 1.2 0 4.3-8.5 5-13.6-.7-1.7 5.4-7.8 7.7-9 1.5-1.3 7.8-3.9 4.6-4.8.6-.1 1.7-.4 2.2-.6-.4 2.3 3.6 3.3 6.5 2.2.3-.1.3-.1 0 .6-1.9 4.5-3.4 9.6-3.3 14.7 2.9 2.5 8 .6 10.3-1.7.5-.6.5-.2-.1 1.9-.8 4-3 9.5-.4 11.7 5.1 3.1 9.3-1.6 12.2-6.1-.1 3.8.7 7.1 3.9 9 .1 4.5.4 11.3.9 14.3.2 3.7 2.5 9.2 1.7 11.4-3.3-8.4-9.1 11.7-10.1 15.3-.4-.7-2.4-2.3-3.3-2.3-.2 0-.3-.3-.4-1.6-.7-10.4-4.1-28.6-11-33.5-5.9-3.7-10.7-1.9-10 5.8.2 9 1.5 5.1-5.1-.2-11.2-7.2-5.8 12.5-2.3 16.9-5.3-1.8-15.2-7.2-16-2.7-.5 7.8 9.5 12.5 16.1 16.7 4.9 3.9 2.1 2-2.3 2.2-3-.7-11.3 4.2-9.7 6 1 1.4 4.3 3 7.1 3.6.3.6 28.6-.1 21.2-1.9-5.8-1.4-17.2 1.9-23 .3-1.1-.5-2.4-1.5-2.4-1.8 1.4-1.8 5.8-5 9.5-4.5 5.1-.9 9.3 5.4 12.8 4.2-.6-1-5.6-4.7-6.3-4.1-.2 0-.9-.2-1.7-.4-1.2-.4-1.3-.5-.8-.5 3.8-3.1-19.9-9.6-17.1-19.7 3.9.1 12.3 3.4 15.5 6.6 1.4 1.2 2.3 1.7 3.5 1.8 2.7.4-3.1-4.5-3.2-5.5-3-4.6-5.9-12.5-3.4-17.1 4.7 3.1 14.6 19.3 17.6 20.9 2.9 1.2 3.8 1.1.3-2.5-20.6-29.1 6.1-40 9.4 12.7-3.3 4.5-5.6 13.2-6.4 16.1-2.3-3.9-3.9-2.4-5.1 1.6-.6 2.2-1.3.9-1.2 3.3-.1 3.9-.2-3.1-2.7-2.5-3.1 7.2-3.9 18.1-3.7 26.2-5.4-14-5.9 17.9-4.5 20.8.7 2.8-.7 2.7 1.4 2.5-1-6.2-1.2-18.3 1-25.1 1 1.5 2 8 4.2 7.4-.8-9.2-.4-21.2 2.4-29.3.9 2.3.8 6.8 3.3 7.2.8.8 0-7.7.9-8.2.5 0 1.7-3.6 2-3.9.3-.4.3-.4.4.2.6 1.6 2.3 4.8 4.4 4.4-.3-4.5 1.6-12.9 4-14.9.9-.8.9-.9 1-1.9 2.2-8.1 2.8 2.3 4 3.7 2.5 1.8 1.9.7 2.2-2.5.3-6.5 2.8-14.1 6.2-18.5.6.9.4 7.1 1.4 8.5 2.3 1.9 1.6.2 1.8-2.5-.5-7 7.5-19.5 12.2-22.9 4.1 9.3-8.8 27.2-13.7 37.4 3.5 3.7 7.6-6.6 14.8-2.8 2 1 6.1 2 6.4 4.1.6 1-1 8.1 2 6.3 4.7-7.1-3.1-9.7-9.7-11.9-2.6-1.1-5.5-.7-7.6.2 3-7.2 17.8-29.6 8-33.9-.6 0-.7-.1-.7-.4 0-1.2-1-1.6-1.5-.6-3 3.4-7.3 8.4-9.6 12.9-2 5.4-2.6-12.3-2.8-14.6 0-4.7-.4-5.3.8-5.7.5-.4 1.9-.9 2.3-.1 1.4 2.6 1.5 8.3 4.6 8.6-.6-4.8-3-7-2.4-13.9-.2-2.2 1.4-12.4 2.5-11.4 1.4-.1 2.8-1.3 3.7.5 11.4 15.4 13.5 36.3 15.2 55.3.2 2.9.7 3.5 2.4 3.8.1-.1.2-1.3.2-2.9-.1-5.2 1.5-14.1 3.2-20.9 1.7 4.7 2.4 10.8 2.5 19 .2 5.5-.5 5.1 2 5.8-.6-2.6 4.4-23.8 6-12.6 1.7 5.6-2.7 20.3-2.5 24.5.8.7 1.8 1.9 1.9.2.4-3 3.4-10.1 5.2-12.3 2.8 5.9-4 27.7-4.3 29.8-.8 2.8-1.8 5.9-3.8 7.7.9-3.1 2.5-9.6 2-12.7-3.8-6.2-11.1 5.3-14.5 10.1-1.2-2.7 5.6-27.7-5.1-16.9-1.2-21.5-15.1 8.1-10.7 14.6 1.2 2.5.7-5.3.9-6.3 1.5-5 4.7-12.1 7.5-14.1.5 1.3.2 6.9.2 9.1-1.3 2.4-2.6 5-2.6 7.2-.4 2.1.7 3.6 2 4 .2-.1 1.5-4.6 2-7.1.2-2.5 3.7-6.7 4.7-7.2.3 0 .1 3.5-.4 6.3-.5 3.6-1.6 12.4-.9 15.8 1.5 2.2 1.8 1.7 3-.6 3.4-6.1 7.2-11.4 11.8-14.1 1.1 0-5.2 18.8-3.7 20.3 1.3 2 1.6 1.8 2.7-.4 2.6-4.9 4.7-8.3 5.1-8.5-.4 5.9-3.1 18.6-5.6 24.6-2.7 3.2.9 7.9 1.3 4.8.3-2.8 4.5-7.2 8-7.9.9 4.8-3.9 11.8-7.9 16.1-1.1 1.2-2 2.2-2 2.3.8 1.9 1.7 3.4 3.5.8.6-1.9 20.8-15.6 17.6-7.5-1.6 2.7-13.4 9.7-15.4 11.9.3.6.8 1.5 1.4 1.9.5.3.5.4.3.7-.5.6.4 1.5.9 2 17.3-17.5 38.2 1.3 4.4 2.8-2.5-.2-2.3.4-.9 1.9 5.9.9 17.3-1.3 20.9-5.1-1.8-18.2-24.1-3-15.1-9.1 4.8-3.3 9.5-7.1 5.1-11.7 1.9-6.3 5.1-14.6 10.1-17.9.4.9 2.2 4.5 1.3 5.9-.3.7-.4 1.2-.4 2.4-.2 2.7 3.1 8.3 2.7 1.6 0-2.7 0-2.9.4-3.5 4.2-4.7 4.6 1.9 4.9-1.1-.5-3.5-3.7-3.5-6.2-1.7-.6-1.7-2.4-5.6-3.3-5.7-3.9.3-9.7 13.8-11 19.5-2.3-.4-8.7 2.9-11 3.9 0 0 .2-.6.5-1.3 1.2-2.6 2.1-5.9 1.8-8.8-2.6-4.4-4.3-2-7.6-1.3.4-1.3.6-2.4 2.4-11.4 1.4-6.7 1.2-6.2 1.2-10.3-.3-.4-.9-1.1-1.2-1.5 2.6-9.6 6.4-23.2 5.5-32.3-1.6-3 9.1-3 12.7-3.6 0 1 .4 3-.5 3.3-1.5.9-5.5 2.4-6 3.4 1.7 2.8 4.8-.1 6.9-1 1.9-1.1 2.2-.8 2.2-3.8.8-6.3-9-2.6-12.2-3 1.3-.9 9.2-5.8 9-6.3 4.6-5.3-3.3-8.2-7.3-5.9 2.2-4.5 14.5-24.9 4.7-25.1-2.2 0-6.9 2.8-9.5 4.8 2.7-6 2.3-15.9-6.8-9.9-6.9 5.5-4.3 6.1-3.9-2.7-.3-13.2-14.3 17.7-11.8 23.1.6.2 1.2.2 1.7-.2-.9.1-.9-.5-.8-1.2-.6-3.1 4.2-17.9 9.4-23.2.3.3-1.3 10.9-2.1 13.5-.4 1.4-.7 2.3.9 2.6 1.2-.8 1.5-3.9 3.1-5.7 2.2-3.2 11-11.4 9.9-3.6.1 4.3-3.2 10.6-4.4 13.8 2.4 4.4 3.9-7.2 15.6-10-.1 9.5-4 13.4-9.1 23.6-1.9 4.4-3.8 4.3-6.6 7.2-.2-3.9-1.6-10.7-5.4-9.1-.6-.2-3.1 6.1-3.2 4.3-.4-3-1.5-14.7-5.6-14.8-.4.5-2.6 10.6-3.1 13.2-1.9-11.5-3.3-27.1-9.8-36.5-2.9-3.9-5.7-14-12.5-10.8-2 7.5-2.2 10.9-2.2 17.3-1.1-1-2.4-1.2-4.3-.7-2.6-1.4-2.2-6.8-2.2-10.5.8.4 2.9-1.2 1.1-.8-3.1.7.9-7.8 1.1-9.4-4.5-2.8-4.8 6.1-4.8 9.4-1.2-.2-2.2-.7-2.4.6-.9 2.9-5.7 8.7-7.9 8.2-.4-5.3 1.7-12.5 4.1-17.4 1.3-1.9-.6-1.9-2-2.4-.6 1-10.6 10.6-11.1 7.5.1-4.3 2.5-13.7 6.4-18.1.6-.6 1.2-1.3 1.2-1.4-.1-.4-2.6-1.3-2.9-.8-1.5 1.5-5.4 4.7-7.8 5.1-.4-4.6 1.8-15.2.9-18.3-3.7-1.9-3.8.9-7.2 5.1-5.9 9.8-5.9 5.3-4.9-2.2 1.1-4.6 5.7-19.3 10.4-22.1-.7-1.2-3.2-1.9-3.9-.7Zm-15.3 10.1c-2.1 5.5-8.9 12.5-14.2 15.9-.3-5.4 4.2-10.7 8.7-13.8 1.3-.8 4.8-4.1 5.5-2.1Zm-42.9.6c0 .2.4.3.3 0-.1-.2-.3-.3-.3 0Zm21.4 2.5c1.5.4 2.9.9 4.1 1.3-2.2 1.9-14.9 3.7-14.6 0 1.2-1.9 7.9-2.3 10.5-1.3Zm-310.3 7.1c2.5 1.8 6 3.5 8.7 4.4-3.8 1.9-7.4 6.7-9.4 8.5-.4-2.4-2.3-15.3-2.4-15.1.4-.3 2 1.6 3.1 2.2Zm307.2 3.6c0 .2.4.5.3.1-.1-.3-.3-.4-.3-.1Zm-258.9 2.9c-.1.5-.1-.9 0-.6v.6Zm293.9 11.5c-3.6 3.4-11.7 9.4-16.4 8.6-.8-6.4 10.4-7.2 15.4-8.7 2-.6 2-.6 1 .1Zm-26.6.8c-.1.3.3.2.3 0-.1-.2-.2-.2-.3 0Zm-315.2 5.4c-1.7.7-6.4 5.6-9.6 9.6-2.3-10.4-9.5-.1-10 9.8-.3 1.7-.2 2.6.8 2.2 0-.4 1.2-5.8 1.8-7.6 1.1-4.1 5.7-12.1 5.6-4.4.4 2.3-.7 3.7.1 4.9.4.4 1.6.8 1.5-.1 1.4-4.3 8-12.1 12.2-14 .5 0 .4 5.8.5 6.4 3 2.4 1.3-4.9 1.1-6.3-.5-1-2.4-1.3-4-.5Zm333.2 1.9c-.1.2-.3.2-.3.2-.1-.3.9-.8.3-.2Zm-22.8 2.7c-.4.5.5.8.4.2.1-.5-.2-.6-.4-.2Zm19.8 1.1c-1.5 3.1-1.2 0-3.8 2-2.5 2-15.3 7.5-13 .7 1.1-2.5 8.4 0 10.7-1.1 2.3-.4 5.1-1.7 6.9-2.8l-.8 1.2Zm-19.3-.1c0 .3.3.7.5.6.1-.2-.3-1.1-.5-.6Zm-298.5.7c-.3.3-.4 2.2-.6 2.6-.4 1 3.1 2.2 3.3 1.7.1-.2.2-2.6.2-3.3-.6-.3-2.8-1.3-2.9-1Zm298.7.4c-.1.2-.1.3 0 .4.2 0 .4-1.3 0-.4Zm20.1 2.8c-1.2 4.4-3.3 9.5-3.5 8.4-.2-1.7 3-9.5 4-10.6.1.1-.2 1.1-.5 2.2Zm-240.4 5.9c3.6 2.9 10.7 16.8 10.6 19.8-4.9-5.8-11.1-15-13.6-22.2.8.1 1.4 1 3 2.4Zm-4.7 1.5c1.3 1.8 3.8 16.9 1.1 13.9-2.8-.4-3.5-21.8-1.1-13.9Zm-96.2 3.3c-.2 1.1 0 2.7 1.8 2.2.7-.1.7-.1.4-.3-1.4-.6.6-3.1-2.2-1.9Zm14.1 7-.4.6c-.2.3-.6 0-.5.8-.1 1.4 4.7 3.4 2.6 0-.8-.2-.5-3-1.7-1.4Zm77.8 18.8c-.4 0-.7.2-.7.3 0 .2-.5-.9-.5-1.2.1-.2 1.6.7 1.9.9h-.7Zm4.7 2.8c3 3.3 9.4 8.2 8.5 13.2-6.9-.5-11.3-10-11.9-15.5-.2-.8 2.9 2 3.4 2.3Zm-57-1.9c-.5.9-1.2 2.8.4 3.9 1.4 1.3 1 .5 2.1.3.7.6.6-3.9.4-3.9-.7-.3-2.4-.9-2.9-.3Zm-59 3c-.1.4.4 3.3 1.2 3.1.7.3 1.7 1.4 2.5 1.6-.1-.4-1.1-1.8-.4-2.1.2-.1.1-.1 0-.1-.4-.2-.2-1.2-.5-1.7 0-.8-2.9-1.2-2.8-.8Zm469.3 4.9c.4 3.8-13.5 10-15.7 12.6.1 0 .3-6.3.4-6.3 1.2.7 1.7 1.5 3.5-.3 3.1-2.6 11.3-8.8 11.8-6Zm-436.6.7c-.7.7.9 3 2.2 2.5 1-.1.8-.6 1.6-.6.3 0 .6-.1.6-.2-.1-.6-1.5-.1-1.7-.9-.1-.7-2.5-1.1-2.7-.8Zm54.3 12.8c.9 1.5 1.1 4.8 1.2 7.1-1.5-.3-4.2-1.5-4.6-2.1-.3-.5 3-7.9 3.4-5Zm-13.2 8.1c.4 2 .7 3.9 1.7 1.1 1.1-.6-1.6-2.2-1.7-1.1Zm203 6.4c0 2 5.6 1.6 7.3 2.2 4.1.6 8.1 1.5 12.2 2.6 3.6 1 7.3 1.4 11 2.3 5.5.7 4.2 2.2 8.6 2.1 1.4-.1 1.7-.3.9-.6-1.1-.5-2.2-.3-3.4-.6.5-.1 1.4-.2 1.8-.2-1.5 0-2.2 0-3.9-.8-4.9-1.9-11.2-2.4-16.3-3.8-6.2-1.2-11.9-3.7-18.2-3.2Zm-78.9.7c-9.3 1.6-18.2 3-27.4 4.1-2.4 0-.9 1.5 1.8 1.7 1 .1 1.3.2 1.5.5.1.2 1 1.4 1.9 2.6 6 6.9-3.6-1.6-4.7-1-1.5.7 7.2 4.9 7.3 5.6 1.9 1.3 6.5 15 8.2 14.2 3.7.7-6.6-15.9-9-18.6-.8-1.1-2.2-2.6-1.1-1.9 1.7 1-.7-1.1-1.4-1.5 5.2-.5 10.9-1.5 16-2.2 2.7-.2 20-1.5 6.9-3.5Zm95.5 1.7c0 .5.2-.2.1-.2 0-.1-.1 0-.1.2Zm-223.2 4.1c-8.4.6-20.2 5.4-20.2 15.1.1 0 1.4.2 1-.1-.1-9.6 13.6-14.4 22-14.4.4 5.1-7.6 14.5-11.4 18.3 1.3 3.2 5.9-3.9 7.8-4.1 4.5-1.7 5.2-2.7 4.9 3.6-.6 6.6 2.2 1.4 1.9-2 .6-4.8-3.1-3.4-6.2-3.5 2.1-4 10.1-14.8.2-12.9Zm-20.7.7c.1 1.1.7.9 1.1 1.7.1.2.1.2.2 0 1.8-1.5.8-2.5-1.4-2.5l.1.8Zm-50.5 3.2c-.8 2.4-1.1 5 2.6 4 .7.2.3-2.8.4-3.6-.9-.4-2.8-.8-3-.4Zm400.6 1.1c-.8 1.3 1.6 3.6 2.3 2.2-.1-.8.6-1.5-.6-2.1-1.1-.9-1.4-.9-1.7-.1Zm-396.7 7.4c-1.3 1.5-.5 9 .6 10.9-1-.3-5.2-3.1-5.6-1.1-.7 4.8 1 11.7 2.7 16.9.3 1 .6 1.2-2.3-1-10.9-8.8-4.5 5.3-1 10.5-9.1-4.4-12.5-3.7-7.2 6.2 2.1 3.7 6.8 5.6 9.6 9.3 1.8 4.7 16.9 12.3 9.3 4.5.9-.4 3.8-1.7 1.6-1.7-1.6.4-6 .2-3.3 2.3.6.6.9 1 .7.9-1.8-.4-6.8-6.7-6.9-7.5-4.6-3.3-11.3-7.6-10.6-15 1.9.1 5 1.3 7.4 2.5 1.4.7 3.9 3.5 5.2 3.5 1.3.3.9-.7-1-2.2-2.7-1.8-7.5-10.9-6.9-14.2 2.8 2.2 6.6 5 8.3 7.1.8 1 3.1 2.4 3.8 1.6-5.2-4.7-7.7-15.2-6.8-22.9 4.3.9 7.1 6.9 11.2 6.6-2.8-4-8.1-4.6-7.3-12.3.3-3.3-1-4.4 2.7-3.2 4.7 1.7 8.9 4.1 11.4 8.9 1.4 3.8 4.8 2.7 2.7 2.4-1.7-.8-3.2-6-5.4-7.2-3-2.7-11.7-6.6-12.9-5.8Zm306 3.1c-3.5 5-4.2 14.6-4.4 21-.8-2-4.6-8.6-4.1-2.4-.5 14.5 9.7 20.1 9.8 30.3-.7 9.6 1.3 29.6-1.7 37.9-1.8 4.5.2 5.1-.1 10.8.2 6.3.7 9.5.8 15.6.9.7 3.2 1.3 3.7.8.4-4.3-.8-10.6-.9-15.5-1.8-12.3 1.6-7.6 1.3-21.6-.2-5.2.2-21.2-1.1-30.3 4.4 3.2-2.4-7.6-2.6-12-2.4-8.9-2.2-10.6-2.3-17.6 1.3-4.1 1.4-11.6 3.9-14.5 1.7-1.1-.4-2.6-1.2-3.2-.1-.1-.6.2-1.1.7Zm-137 .2c3.9 10.4 5.2 26.2 1.8 37.5-1 2.7-1.5 5.5-2.9 7.7-1.3 1.8-.8 1.8.2 2.6 0 .1-1.4 1.5-2.4 2.4-.4.8-1.4-.2-1.9-.1.2 1.8-1.7 3.4-3.4 5 1.2 1.6 2.4-.5 3.3-1.2.3 6.6 1.2 12.2 3.2 19 1.7 9.3 4.8 11.3 3 17.5-3.6 5.1 3 3.9.5 5.9-5.3 5.8 2.7 5.7.9 15.1 4.5 4.6 3.4-2.6 2.8-5.1-1.2-4.1-4.5-5-.5-8.6 12.9 6.7 36.2 4.6 50.6 4.5-1.7-2.5-6.4-1.7-12-2.1-10.2-.6-15.1 0-24.4-1.6-7.2-1.4-17.2-3.2-15.3-5.9 3.3-4.8-1.6-12.8-2.7-19.3-2.4-6.6-2.8-15.5-4-21.3 9.3-8 14.6-22.9 11.5-34 .1-4.4-5.8-18.7-8.3-18Zm-139.8 4.9c-.3 1.8-.5 3.6 2 3.4 0-1.2.9-2.1.4-3.2-.1-.1-2.3-.5-2.4-.2Zm144.9 5.3c3.8 9.1 3 25.2-3.5 34.1 3-8.5 4.9-17.5 3.3-26.6-.1-2.9-2.7-16.8.2-7.5Zm-124-.5c-.7 2.4-.3 3.3 2.3 3.5.7-2 .7-4.1-2.3-3.5Zm348 8.2c-1.5 1.2-2.2 4.9-2 7.3 1.4 1.9 3.7 2.6 6.1 2.6 5.6-3.6 2.2-11.5-4.1-9.9Zm3.5 1.6c2.9 1.5.1 7.3-3 6.3-.5-1.7 2.5-5.2 1-6.2 0-.5 1.5-.1 2-.1Zm-376.9 2.9v1.6c.8.4 1.8.7 2.7.8 0-2.8.8-4.1-2.7-4.1v1.7Zm276.7 1.9c.5 1.4 2.8 10.5 2.7 10.7-1.1-.7-4.2-11.3-3.8-13.4.3.8.8 1.8 1.1 2.7Zm-229.1.8c-.1.1-.3 2.1.2 1.9.8.3 1.7 1.2 2.7.9-.2-.2-1.1-.7-.6-.8 1.2-1.8-.8-2.5-2.3-2Zm127.1.3c2.3 3.3 6.8 4.7 11.7 6.8 9 3.9 19.6 10 30 10.3-2.2-4.4-13.9-4-17.7-6.1-6.2-3.1-19.5-8-24-11Zm-148.6 3.9c-.8.9-.9 4.1-.8 4.8.4.8 3.4 1.5 3.8-.3.6-2 1.8-4.2-.8-4.5-1.5-.3-1.8-.3-2.2 0Zm20.1 5c-8 5.1-15.4 20.5-12.5 30 .4.1.4.1 1.3-1.1 1.3-1.6-.2-1.2-.5-.2-.3-9.6 3.1-17.8 9.7-24.9 3.3-3.2 5.4-5.4 4.9.4 0 3.4-.6 8.2-3 10.8-1.1 1.4-3.7 4.2-2.4 5.3 2.7 1.6 4.7-3.6 5.2-5.1 1.5-1.5 6.6-1.5 9.2-1.7.1 3.6-6.5 10.2-12.2 14.2-2.3 1.8-2.8.4-5 1.7-4.3 2.4-5.7 3.5-.3 3.4 5.5 8.5 12.6 28.4 24.7 22.7 1.7-1.6-2.2-7-.2-8.1 3.9-1 5.9 8.2 6.5 12.2 0 1.6.9 1.5 2.2 1.6-.3-1.5 1.6-17.9 4.6-11.3 1.3 1.2 1.6 10.6 1.8 13.4.6.7 2.3 1.5 2.1-.7.2-3.6 3.1-11.2 5-13.6.6-.7.6-.7 1.2-.5.9.3 1.3.3.7-.1-3.1-2.6-5.6 4.5-6.7 7.1-1.8 5.5.1-10.2-7.1-8.5-.7.2-2.5 5-2.6 6.3 0 .7-.4.3-.8-.8-1.6-3.7-4.7-8.3-8.8-6-3.3-7-12.9-12.1-19.4-14.8 0-.2-.1-.5-.3-.6-1.1-.9 1.2-1.6 2.1-1.5 5.5-1.6 12-9.2 14.3-13.1 3.6-5.9-6.4-3.6-9.7-3.5-.3-1.6 1.8-6.7 1.2-9.6.1-4.6-2.3-4.2-5.2-3.4Zm23.1 4.7c-2.6 1.3-.2 2.2 1.1 2.1 1.1-.1-.1-.8-.2-1.2 2.1-1.3 1.9-2.2-.9-.9Zm-78.2 1.5c-2.1-.1-1 2.1-1.5 3.6-.3 2 .4 2.5 1.7 3 .7 0-.2-.1-.1-.3 0-.2-.4-.8.1-.7.6-.8.8-3.5 1.3-5 .2-1.2-.7-.5-1.5-.6Zm19.2 1.7c-.4 1.1-1.1 3.2.8 3.3.2-.1 1.6.9 1.8.6.7-2.8.8-3.8-2.6-3.9Zm-22.9 10.9c-.4 2.1 0 6.1.7 8.1-18.5-13-11.1 9.9.6 14.2 4 1.8-3.4-.4-5 .1-5.8-1.6-13.4 9.4-5.5 10-3.7 3.8-8.3 12.8.8 12.4 9.5-.3 18.7-9.7 23.6-17.7 1.4-1.9-12.9-4-14.8-6.7-4.5-3.1-10.5-9.9-7.1-14.7 1-.9 8.4 5.1 9 7.5 1.3 4 4.4 7.4 7.4 6.5-1.7-5.7-8-7.5-7.4-18.5 1.2.6 8 4.7 9.2 5.6.8.4 4.9 4.6 5.4 4-.6-2.1-13.3-11.8-16.9-10.8Zm421.5.4c-1.3 1.2 1.3 3-1 2.7-3.4-.5-7.5 3-10.5 4.8.5-2.2.9-10.2-3.5-6.1-2.7 2.3-9.3 12.9-4.7 11.8-.8-2.7 4.4-9.4 6.7-11.4.2 3.3-.9 8.1-2.4 11.4-.3 1.1-1.3 2.2-.2 2.8 2.6 2.5 1.7-10.2 15.6-12.5.9 10.3-13.7 16.7-7.5 17.4 4.8-3.1 5-7.7 13.6-8.3.3 4.6-5.1 9.8-8.5 12.7 1.2 1.3 2 1.2 3.8-.6 2.5-2.6 9.5-5.3 11.8-5.5.4 0 .4.1.3.6-.7 3.8-7.6 10.8-10 13.3.9 1.3 2.1 1.6 3.7-.3 1.8-2.2 6.8-5.2 9.3-5.9-.2 5.1 5.7-4.5-4.4-.2 5.4-7.3 4-10.8-5.1-7.3-2.9 1.4-.4-.7 0-2.2 3.5-6.7-3.4-6.2-7.9-4.4 1.3-2.5 3.1-6.6 2.7-8.8 2.3.6 3.3-.7 2.7-2.8-.8-.5-3.6-2.4-4.5-1.2Zm-43.9-.1c-1.1 1.1 1.3 6.2 2.1 2.6.1-.6.2-.6.6-.6 1.1 0-.5-.3-.3-.8.3-.5-2.4-1.6-2.4-1.2Zm46.2 2.3c0 .5-.4 1.2-.6.6 0-.4.4-.2.3-.6-.1-.3.3-.3.3 0Zm-390.3 6.6c-.2 2.3-1.3 5.4 2 5-.1-.5.4-3.7.3-4.9-.6-.3-2-.5-2.3-.1Zm39.5 2.1c-.9 1.4 3 .9 3.4.4 0-.4-3-.8-3.4-.4Zm-13.2 5c8.4 3.6 15.2 12.1 15.5 19.8-6.7 3.5-15-15.8-19.3-21.3 0-.3.5-.1 3.8 1.5Zm-41.6 1.8c-.3.8.9 1.2 1.7 1 .7-.1 1 1 1.9.8 1.4 0-.6 0-.4-.8 0-1-2.9-1.4-3.2-1Zm337.8 2.4c-2.4 1.8-6.3 11-6.8 13.4-.6-2.1-1.8-6.9-2.7-7.3-.5-.5-1.1-.7-.9-.3 1.7 3.2 1.4 9.9 2.4 13.4.7.6 1.3 1.1 1.4-.3.7-4.5 4.4-15.5 7.9-18-.2 3.4-.1 3.6-1.7 8.5-1 3-1.1 3.4-.9 3.8 1.8 2.5 1.7-1 2.4-2.1.4-.7 1.9-2.5 1.7-2-.7 1.7-.8 2.3-.6 2.4 2.2 0 4.2-7 .2-4.9.2-1.5.4-4.5.2-6.4-1-1-1.4-1.6-2.6-.2Zm-352.4 4.3c2.5.7 3.4.3.6 1.5-9.4 3.9-11.4 4.6-12.8 4.6-1 0-1-.2 0-2.3 2.4-5.2 6.5-4.6 12.2-3.8Zm275.7.6c-9.6 4.6-24.7 9.8-33.7 13.7-6.1 2.3-7.2 1.6-6.3 3.7 1.5 3 3.1 1.8 6.5.6 4.7-1.9 8.6-2.7 12.4-4.7 7.3-3.5 17.6-5.5 23.9-10.4-.1-.5-1.5-3.9-2.8-2.9Zm62 1.3c-.7.8-2.1 4.2-2.6 6-.4-1.5-4.9-6.8-2.4-2.5 2.5 2 .3 9.3 3.2 10.1-.4-3.2 1.4-12.4 2.9-13.1.7-.2-.7-1.4-1.1-.5Zm-329.2.5c-1.3 4.3-19 20.6-23 15.3.6-7.8 7.8-10.9 15.2-13.4 5.4-2.1 5.8-2.4 8-2.5l-.2.6Zm26.9-.3c0 .7-2.3 0-.9 1.3 1 .5 5.9 4.5 7.9 6.3 3 5.6 9.6 14.6 10.4 19.5-8.6-.6-17.1-12.6-20.1-20.3-4.1-2.2-1.7 1.6-1 4.1 1.1 3.7.1 5.4.3 9.6-.2 5.3 1.1 10.9 6.3 9.8.4-3.4 0-6-1.5-10.8-.3-.9-.5-1.6-.4-1.6 1.9 2.7 5.9 6.4 8.7 7.8 15.1 6.7 10.6-1.3 2.9-13.4 5.2 4.4 13.7 8.7 19.9 7.1 2-6.1-7.8-15.2-12.5-17.5-1.7-.2-3.4-.1-1.1 1.1 7.3 4.8 20.4 22.9 1.1 12.3-2.1-1.2-9.5-6.8-11.5-9.6-2.9-3.6-4.9-7.3-8.5-5.7Zm-60.3 1.1c-.4 1.7.5 4.3 2.7 3.8.4 0 .2-1.4.5-1.4.2 0 .2-.1 0-.2-.2-1.5-1.3-2.8-3.2-2.2Zm350.2 1.1c-1.3.2-.9 4.6-.9 6.4-8.4-10.2-7.6 1.2-5.7 7.2-2.1-.9-7.3-3.5-8.3-2.2-1.6 4.2 3.4 14.1 7.3 14.6-.2-.5-2.5-2.6-3.4-4.6-6.4-16.6 2.5-5.2 9.8-4 3-.1-.8-1.4-1.9-1.7-1.8-3.2-2.6-7.7-1.9-11.1 3.6 2.7 4.9 5.9 6 9.5.2.8.8 1.2 1.8 1.5 1.7.9-.5-3.8-.4-4.2-.6-1.8-2.4-8.1-.6-10.4 4.8 3.8.5-3-1.8-1Zm-214.7 2.6c-.1.1.2.5.5.8 1.3.2.7 5.6 0 5.8-.2-.7-6.3 8-6.6 8.9 3 2 7.2-6.2 8.3-7.1.5-.8 1-1.4 1-1.4 1.2.2 3.2.8 2.9 2.5.3 3.1-3.8 13.6-4.8 15.4-.8 1 2.4 1.3 2.3.7.7-1.2 5.6-7.2 7-7.9 2.7 1.5-1.2 11.9 2.5 11 .3-5.1 2.8-11.2-2.2-11.8-2.3-.6-3.3.8-4.6 1.7 1.9-5.7 4.1-11.9-3.1-12.2.7-3.2.7-6.8-3.2-6.4Zm248.7.7c-1.8 0-1.8 4.5-1.6 6.8-9.8-11.2-7.9 3.6-6.4 10.8-.1 1.5 3.8 7.4 2.5 3.7-.9-.3-4.4-23.6 2.1-14.7 3.9 3.1 2.4 6.7 6.6 6.9 0-2.3-2.5-4.2-2.2-7.9-.2-2.5.4-5.1 2-1.8 1.9 3.1 2.6 3.9 3.8 4.3 1.8-.4-5.2-9.3-6.8-8.1Zm-241.8 4.4c-1.6.7-.6 1.3 1 1.9 1.2.3 1.3 1.4 2.7 1.4 1.1-.9 1.4-2.1 3.2 0 1.8.8.6 4.8 3.3 5.2 2.8-4.9 4.8 1 4.7 5.3.4 3.7-1.3 3.6 1.3 3.7.5-3.7.6-10.8-3.6-11.6-1.3-.7-2-.1-2.8-1.1-1.5-2.5-5.5-4.3-8-3.6-1.4-.4.5-2.4-1.8-1.2Zm-101.4 3.8c-.5 1.8-.1 4.8 2.4 4.5.8.3.7-3.4.5-3.8.1-.8-2.9-1.2-2.9-.7Zm362.1 2.4c.4 5.4 3.9 1.2 1.6 0-1.1-.4-1.6-.4-1.6 0Zm-215.3 1.5c3.1.9 6.4 1.7 9.4 2.3-3.7-.2-5.7 0-9.3-1.7-3.6-1.6-6.4-2.4-.1-.6Zm-127.3 6c.5 1.9.7 3.9.8 5.6-2.9-2.4-2.5-7.3-2.6-11.6.6 1.9 1.3 4.2 1.8 6Z",fill:"currentColor"})))};i.injectInternalStyle("/static/metaserver/static/js/file_viewer/preview_tour/mini_modal.module.out-vfl2TSPP2.css",(e=>"._mini-modal-container_1soaa_1{bottom:0;padding:var(--dig-spacing__macro__medium);position:absolute;right:0;z-index:501}._mini-modal-inner-container_1soaa_9{background-color:var(--dig-color__background__raised);box-shadow:var(--boxshadow__elevation2);padding:var(--dig-spacing__macro__small)}._top-section_1soaa_15{display:flex;flex-direction:column;gap:var(--dig-spacing__micro__small);max-width:224px}._thumbnail_1soaa_22{align-self:center;display:flex;margin-bottom:-30px;margin-top:-30px;width:160px}._footer_1soaa_32{align-items:center;display:flex;flex-direction:row;gap:var(--dig-spacing__macro__xsmall);justify-content:flex-end;padding-top:var(--dig-spacing__macro__xsmall)}"));const bs="_mini-modal-container_1soaa_1",ys="_mini-modal-inner-container_1soaa_9",As="_top-section_1soaa_15",Ps="_thumbnail_1soaa_22",Cs="_footer_1soaa_32",Ns=({titleText:e,bodyText:t,confirmText:a,dismissText:r,onConfirm:o,onDismiss:s,headerContents:l,shouldShowImage:c=!0,confirmUxaLog:d="preview_tour_start",dismissUxaLog:u="preview_tour_dismiss",modalUxaLog:_="preview-tour-mini-modal-container"})=>{const[m,p]=n.useState(!1);return qe.default.useEffect((()=>i.dispatchModalOpened()),[]),m?null:qe.default.createElement(i.ThemeProvider,{mode:"dark"},qe.default.createElement(i.ThemeContainer,null,qe.default.createElement("div",{className:i.cx(bs,"uxa-modal"),id:"preview-tour-mini-modal","data-testid":"preview-tour-mini-modal"},qe.default.createElement("div",{className:ys},qe.default.createElement("div",{className:As},l,qe.default.createElement(i.Title,{size:"small",weightVariant:"normal","data-uxa-log":_,"data-uxa-interactions":"shown"},e),c&&qe.default.createElement("div",{className:Ps},qe.default.createElement(Is,null)),qe.default.createElement(i.Text,{tagName:"p"},t)),qe.default.createElement("div",{className:Cs},qe.default.createElement(i.Button,{variant:"transparent",onClick:()=>{s(),p(!0),i.dispatchModalClosed()},"data-uxa-log":u,"data-testid":"mini-modal-dismiss"},r),qe.default.createElement(i.Button,{variant:"outline",onClick:()=>{o(),p(!0),i.dispatchModalClosed()},"data-uxa-log":d,"data-testid":"mini-modal-confirm"},a))))))};Ns.displayName="MiniModal";const Ds=r.defineMessage({id:"pWXkpn",defaultMessage:"Working on a project with {senderGivenName}?"}),Ls=r.defineMessage({id:"zV0/JW",defaultMessage:"Create a shared folder that you both can upload to and edit."}),Ms=r.defineMessage({id:"9/kJZU",defaultMessage:"Create folder"}),Os=r.defineMessage({id:"NVkpY9",defaultMessage:"Skip"}),ks=({senderGivenName:e,onConfirm:t,onDismiss:a,senderPhotoUrl:n,senderInitials:o,receiverPhotoUrl:s,receiverInitials:l,modalUxaLog:c,confirmUxaLog:d,dismissUxaLog:u})=>{const _=qe.default.createElement(i.ThemeProvider,{mode:"bright"},qe.default.createElement(i.ThemeContainer,null,qe.default.createElement(i.Box,{className:"_shared-folder-modal-facepile-container_ppprr_1"},qe.default.createElement(i.Facepile,{size:"large",hasLegacySpacing:!0},qe.default.createElement(i.Facepile.Item,{src:n},o),qe.default.createElement(i.Facepile.Item,{src:s},l)))));return qe.default.createElement(Ns,{titleText:r.intl.formatMessage(Ds,{senderGivenName:e}),bodyText:r.intl.formatMessage(Ls),confirmText:r.intl.formatMessage(Ms),dismissText:r.intl.formatMessage(Os),onConfirm:t,onDismiss:a,headerContents:_,shouldShowImage:!1,modalUxaLog:c,confirmUxaLog:d,dismissUxaLog:u})};ks.displayName="SharedFolderMiniModal";const Rs=({senderName:e,senderPhotoUrl:t,receiver:a,showFolderCreationModal:n})=>{const r=i.Modal.close,o=i.getInitials(e),s=i.getInitials(a.display_name),l=a.photo_url;let c;if(i.isCjkLocale()){const t=e.trim().split(" ");c=t[t.length-1]}else c=e.trim().split(" ")[0];const d={senderGivenName:c,onConfirm:n,onDismiss:r,senderInitials:o,receiverInitials:s,senderPhotoUrl:t,receiverPhotoUrl:l};return qe.default.createElement(ks,{modalUxaLog:"create_shared_folder_dialog",dismissUxaLog:"create_shared_folder_dialog_dismiss",confirmUxaLog:"create_shared_folder_dialog_start",...d})};Rs.displayName="SharedFolderModal";const xs=qe.default.memo((({previewSurface:e,file:t,closeFile:a,showTour:n,eventContext:r})=>{const{status:o,version:s}=De.useOverQuotaSweepBlockingModal(e===i.SDKPreviewSurface.STANDALONE_PREVIEW?"standalone_preview":void 0,t);qe.default.useEffect((()=>{o===De.SweepStatus.RESTRICTED&&(null==a||a())}),[o,a]);const l=s===De.SweepStatusVersion.END_STATE_WEB_OVERQUOTA_RESTRICTIONS&&![De.SweepStatus.USER_NOT_ELIGIBLE_FOR_OVER_QUOTA_SWEEP_MODAL,De.SweepStatus.FAILURE].includes(o),c=!!n||l;return qe.default.useEffect((()=>{i.emitPreviewPageLoaded(i.CampaignPageName.PREVIEW,r,{disableCampaigns:c})}),[r,c]),null}));xs.displayName="OverQuotaAndCampaignsHandler";const Fs=qe.default.lazy((async()=>{const{PreviewTour:t}=await new Promise((function(t,i){e(["./c_file_viewer_preview_tour_tour"],t,i)}));return{default:t}})),Us=e=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(Fs,{...e}));Us.displayName="AsyncPreviewTour";const Bs=qe.default.lazy((async()=>{const{SharingPreviewTour:t}=await new Promise((function(t,i){e(["./c_file_viewer_preview_tour_sharing_tour"],t,i)}));return{default:t}})),Vs=e=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(Bs,{...e}));Vs.displayName="AsyncSharingPreviewTour";const Ws=({file:e,sharePermission:t,user:a,showTour:n,previewSurface:r,shareToken:o,linkOwnerName:s,skipPreviewTourModal:l,showAutoSavePromptWithPreviewTour:c,openSharedFolderModal:d})=>{if(!n||q.isSupportedMobileBrowser())return null;const u=c?"autoSave":void 0;return[i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.SHARED_CONTENT_LINK].includes(r)?qe.default.createElement(Vs,{file:e,shareToken:o,user:a,linkOwnerName:s,openSharedFolderModal:d,previewSurface:r}):qe.default.createElement(Us,{file:e,sharePermission:t,user:a,skipModal:l,previewTourVariant:u,openSharedFolderModal:d})};Ws.displayName="PreviewTourWrapper";const Hs=()=>{const{previewTour:e}=i.useFileViewerSubRegionContext();return qe.default.useMemo((()=>{return e?(t=e,e=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(t,{...e}))):Ws;var t}),[e])},Ks=[i.SDKPreviewSurface.BROWSE,i.SDKPreviewSurface.HOME,i.SDKPreviewSurface.HELLOSIGN,i.SDKPreviewSurface.SEARCH,i.SDKPreviewSurface.RECENTS,i.SDKPreviewSurface.STARRED,i.SDKPreviewSurface.STANDALONE_PREVIEW,i.SDKPreviewSurface.PHOTOS,i.SDKPreviewSurface.FILE_LOCKING,i.SDKPreviewSurface.INBAND_SHARE,i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.SHARED_CONTENT_LINK];let Gs;const zs=()=>Gs,js=[".maestro-chrome","#maestro-nav","#page-footer","#page-content","#page-header","#page-sidebar","#flash-upload-container","#maestro-header","#maestro-header-portal","#maestro-prompt",".snackbar-container","#onboarding-sidebar-pagelet",".maestro-portal"].join(),Zs="data-preview-old-display";function qs(){Array.from(document.querySelectorAll(js)).forEach((e=>{e.style.display=e.hasAttribute(Zs)?e.getAttribute(Zs):""}))}class Js extends c.Message{constructor(e){super(),this.ALLPHOTOSDELTACURSORRESETSTATEV2=[],this.DOWNGRADEANDEXTENDOPTIN={},this.CURSORVERSIONVALUES={},this.INTEGRATEDTASKSDISABLEDAPPS={},this.GMAILLABELSTOSYNC=[],this.DASHUSERAPPOPENIN={},this.SUGGESTEDARTICLEDISMISSAL={},this.SUGGESTEDARTICLEIMPRESSIONCOUNT={},this.ADMINFEATUREVOTES={},this.ADOBEUNITYTOOLTIPIMPRESSIONCOUNT=[],this.OPENWITHWEBCOAUTHTOOLTIPIMPRESSIONCOUNT=[],i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new Js).fromBinary(e,t)}static fromJson(e,t){return(new Js).fromJson(e,t)}static fromJsonString(e,t){return(new Js).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(Js,e,t)}}Js.runtime=i.proto2,Js.typeName="iam_types.UserPrefs",Js.fields=i.proto2.util.newFieldList((()=>[{no:20001,name:"TEAM_ADMIN_ASSUME_ID",kind:"scalar",T:3,opt:!0},{no:20002,name:"TEAM_ADMIN_ASSUME_UTC_MS",kind:"scalar",T:3,opt:!0},{no:20004,name:"HAS_RUN_NOTIFICATIONS_CLIENT",kind:"scalar",T:8,opt:!0},{no:20008,name:"PRIVATE_FILE_PREVIEWS_SIGNUP_TIME_UTC_MS",kind:"scalar",T:3,opt:!0},{no:20009,name:"PRIVATE_FILE_PREVIEWS_ENABLED",kind:"scalar",T:8,opt:!0},{no:20013,name:"MOBILE_BROMO_DESKTOP_ELIG_UTC_MS",kind:"scalar",T:3,opt:!0},{no:20014,name:"MOBILE_BROMO_DESKTOP_BONUS_GRANTED",kind:"scalar",T:8,opt:!0},{no:20015,name:"SEEN_PHOTOS_TOUR",kind:"scalar",T:8,opt:!0},{no:20017,name:"PENDING_PRO_TRACKING_PIXELS",kind:"scalar",T:8,opt:!0},{no:20020,name:"SEND_COMMENT_EMAILS",kind:"scalar",T:8,opt:!0,default:!0},{no:20023,name:"DUPLICATE_HOSTNAME_REFERRALS",kind:"scalar",T:3,opt:!0},{no:20032,name:"HAS_INSTALLED_CAROUSEL",kind:"scalar",T:8,opt:!0},{no:20034,name:"ALL_PHOTOS_DELTA_CURSOR_RESET_STATE_V2",kind:"message",T:Ys,repeated:!0},{no:20035,name:"EXPIRED_CC_BANNER_DISMISSALS",kind:"message",T:Xs,opt:!0},{no:20036,name:"BETA_LOCALE_BANNER_STATE",kind:"message",T:Qs,opt:!0},{no:20037,name:"EXPIRED_CC_NOTIFICATION_STATE",kind:"message",T:$s,opt:!0},{no:20038,name:"CAROUSEL_FIRST_USE_TIME_UTC_MS",kind:"scalar",T:3,opt:!0},{no:20043,name:"LAST_USER_SUBSCRIPTION_DEACTIVATION",kind:"message",T:el,opt:!0},{no:20048,name:"LAST_FAILED_IOS_UPGRADE",kind:"message",T:tl,opt:!0},{no:20049,name:"ADMIN_TOOLTIPS",kind:"message",T:il,opt:!0},{no:20050,name:"PACKRAT_UNLIMITED_OPT_IN",kind:"scalar",T:8,opt:!0},{no:20051,name:"IOS_EXPIRED_NOTIFICATIONS",kind:"scalar",T:3,opt:!0},{no:20053,name:"DOWNGRADE_AND_EXTEND_OPT_IN",kind:"map",K:9,V:{kind:"scalar",T:3}},{no:20057,name:"CAROUSEL_WEB_FIRST_USE_TIME_UTC_MS",kind:"scalar",T:3,opt:!0},{no:20058,name:"SEEN_PRO_TRIAL_ONBOARDING_TOUR",kind:"scalar",T:8,opt:!0},{no:20059,name:"MONEYTREE_PRO_TRIAL",kind:"scalar",T:8,opt:!0},{no:20060,name:"CURSOR_VERSION_VALUES",kind:"map",K:3,V:{kind:"scalar",T:3}},{no:20075,name:"IOS8_DUPES_FOLDER_NAME",kind:"scalar",T:9,opt:!0},{no:20079,name:"SEEN_RECENTS_WEB_ONBOARDING",kind:"scalar",T:8,opt:!0},{no:20081,name:"SEEN_COMMENT_WEB_ONBOARDING",kind:"scalar",T:8,opt:!0},{no:20086,name:"SHARED_ALBUMS_EXPORT_FOLDER_NAME",kind:"scalar",T:9,opt:!0},{no:20088,name:"RESELLER_ADMIN_TEAM_ID",kind:"scalar",T:3,opt:!0},{no:20089,name:"RESELLER_ADMIN_UTC_MS",kind:"scalar",T:3,opt:!0},{no:20090,name:"RESELLER_ID",kind:"scalar",T:9,opt:!0},{no:20095,name:"SHOW_COMMENTS_PANEL",kind:"scalar",T:8,opt:!0,default:!0},{no:20096,name:"CLICKED_FEEDBACK_REQUEST_CTA",kind:"scalar",T:8,opt:!0},{no:20098,name:"CLIENT_UPGRADE_DISABLE_EXPIRE",kind:"scalar",T:1,opt:!0},{no:20099,name:"SHOW_COMMENTS_TUTORIAL",kind:"scalar",T:8,opt:!0,default:!0},{no:20100,name:"BUSINESS_API_LEGAL_REVIEW_COMPLETE",kind:"scalar",T:8,opt:!0},{no:20101,name:"SHOW_TWO_STEP_GS",kind:"scalar",T:8,opt:!0},{no:20106,name:"CAN_SEND_REFERRALS",kind:"scalar",T:8,opt:!0,default:!0},{no:20107,name:"IS_DEVELOPER",kind:"scalar",T:8,opt:!0},{no:20108,name:"LAST_AGREED_TOS",kind:"scalar",T:3,opt:!0},{no:20109,name:"NEVER_SEEN_GS",kind:"scalar",T:8,opt:!0},{no:20111,name:"PUBLIC_FOLDER_ENABLED_AFTER_GRANDFATHERED_UID",kind:"scalar",T:3,opt:!0},{no:20112,name:"SHARING_NOTIFICATIONS_BANNED",kind:"scalar",T:8,opt:!0},{no:20113,name:"STOPPED_VACUUMING",kind:"scalar",T:8,opt:!0},{no:20114,name:"TOS_CHECKBOX",kind:"scalar",T:8,opt:!0},{no:20116,name:"USING_IDM",kind:"scalar",T:8,opt:!0},{no:20117,name:"WENT_THROUGH_TEAM_MIGRATION",kind:"scalar",T:8,opt:!0},{no:20118,name:"SHOW_CREATE_TEAM_MODAL_AFTER_SHARING",kind:"scalar",T:8,opt:!0,default:!0},{no:20119,name:"TRASH_SEEN_RESTORE_FILES_TIP",kind:"scalar",T:8,opt:!0},{no:20121,name:"HIDE_HOME_STARRED_SECTION",kind:"scalar",T:8,opt:!0},{no:20123,name:"LAST_COMPLETED_SCT",kind:"scalar",T:3,opt:!0},{no:20124,name:"NEEDS_CLIENT_RACL_PROTECTION",kind:"scalar",T:8,opt:!0},{no:20125,name:"INFINITE_ROOT_SYNC_POLICY",kind:"scalar",T:9,opt:!0},{no:20126,name:"PASS_POLICY",kind:"scalar",T:3,opt:!0,default:c.protoInt64.parse("100")},{no:20127,name:"PROFESSIONAL_COLLECTIONS_USER",kind:"message",T:al,opt:!0},{no:20128,name:"SECURITY_UPSELL_DISMISSED",kind:"scalar",T:8,opt:!0},{no:20129,name:"CANARY_OPT_IN",kind:"scalar",T:3,opt:!0},{no:20130,name:"INFINITE_HARD_OPTOUT",kind:"scalar",T:8,opt:!0},{no:20132,name:"HAS_SYMLINK_MIGRATION_ENTRY",kind:"scalar",T:8,opt:!0},{no:20133,name:"PASSWORD_WAS_LAST_SET",kind:"scalar",T:3,opt:!0},{no:20135,name:"HAS_EXTENSIONS_EDU_TOOLTIP_SHOWN",kind:"scalar",T:8,opt:!0},{no:20137,name:"MS_WORD_PREFERRED_EDITOR",kind:"enum",T:i.proto2.getEnumType(rl),opt:!0},{no:20138,name:"MS_EXCEL_PREFERRED_EDITOR",kind:"enum",T:i.proto2.getEnumType(rl),opt:!0},{no:20139,name:"MS_POWERPOINT_PREFERRED_EDITOR",kind:"enum",T:i.proto2.getEnumType(rl),opt:!0},{no:20140,name:"EXTENSIONS_SPLIT_SHARE_TOOLTIP_LAST_SHOWN",kind:"scalar",T:3,opt:!0},{no:20141,name:"HAS_DISMISSED_COMMENTS2_UPSELL_EXPERIMENT",kind:"scalar",T:8,opt:!0},{no:20142,name:"HAS_DISMISSED_CLOUD_DOC_PASS_SNACKBAR",kind:"scalar",T:8,opt:!0},{no:20143,name:"MS_WORD_PREFERRED_EDITOR_PROMPT_FOR_DSS",kind:"enum",T:i.proto2.getEnumType(ol),opt:!0},{no:20144,name:"MS_EXCEL_PREFERRED_EDITOR_PROMPT_FOR_DSS",kind:"enum",T:i.proto2.getEnumType(ol),opt:!0},{no:20145,name:"MS_POWERPOINT_PREFERRED_EDITOR_PROMPT_FOR_DSS",kind:"enum",T:i.proto2.getEnumType(ol),opt:!0},{no:20146,name:"MS_WORD_PREFERRED_EDITOR_PROMPT_FOR_WOPI",kind:"enum",T:i.proto2.getEnumType(ol),opt:!0},{no:20147,name:"MS_EXCEL_PREFERRED_EDITOR_PROMPT_FOR_WOPI",kind:"enum",T:i.proto2.getEnumType(ol),opt:!0},{no:20148,name:"MS_POWERPOINT_PREFERRED_EDITOR_PROMPT_FOR_WOPI",kind:"enum",T:i.proto2.getEnumType(ol),opt:!0},{no:20149,name:"HAS_LOADED_GOOGLE_EDITOR",kind:"scalar",T:8,opt:!0},{no:20150,name:"VWC_WHITELISTED_UNTIL_UTC_S",kind:"scalar",T:4,opt:!0},{no:20151,name:"HAS_DISMISSED_CLOUD_DOC_USER_EDUCATION_SNACKBAR",kind:"scalar",T:8,opt:!0},{no:20152,name:"ZERO_SIZE_PLACEHOLDER",kind:"scalar",T:8,opt:!0},{no:20153,name:"HAS_LOADED_PAPER_EDITOR",kind:"scalar",T:8,opt:!0},{no:20154,name:"WRITE_SEEN_STATE_FOR_NON_TEAM_FILE",kind:"enum",T:i.proto2.getEnumType(sl),opt:!0},{no:20159,name:"INTEGRATED_TASKS_DISABLED_APPS",kind:"map",K:9,V:{kind:"scalar",T:8}},{no:20160,name:"THIRD_PARTY_ANALYTICS_ID",kind:"scalar",T:9,opt:!0},{no:20161,name:"HAS_SEEN_FOLDER_SUBSCRIPTIONS_ONBOARDING",kind:"scalar",T:8,opt:!0},{no:20162,name:"GMAIL_LABELS_TO_SYNC",kind:"scalar",T:9,repeated:!0},{no:20163,name:"REMOVE_LABEL_WHEN_CHECKING_OFF",kind:"scalar",T:8,opt:!0,default:!0},{no:20164,name:"ARCHIVE_WHEN_CHECKING_OFF",kind:"scalar",T:8,opt:!0},{no:20165,name:"GMAIL_LABELS_FIRST_TIME_USER",kind:"scalar",T:8,opt:!0,default:!0},{no:20166,name:"PASSWORDS_FREEMIUM_TRIGGER",kind:"message",T:Sl,opt:!0},{no:20167,name:"PASSWORDS_FREEMIUM_TRIAL_START_UTC_MS",kind:"scalar",T:4,opt:!0},{no:20168,name:"HAS_SEEN_ESIGN_POST_SHARING",kind:"scalar",T:8,opt:!0},{no:20169,name:"CAPTURE_TRANSCRIPT",kind:"enum",T:i.proto2.getEnumType(ll),opt:!0},{no:20170,name:"LAST_SEEN_ESIGN_POST_SHARING_UTC_MS",kind:"scalar",T:4,opt:!0},{no:20171,name:"PHOTOS_FACE_RECOGNITION",kind:"enum",T:i.proto2.getEnumType(ll),opt:!0},{no:20174,name:"DEFAULT_SHARING_ACCESS_LEVEL",kind:"enum",T:i.proto2.getEnumType(cl),opt:!0},{no:20175,name:"DEFAULT_SHARING_LINK_AUDIENCE",kind:"enum",T:i.proto2.getEnumType(dl),opt:!0},{no:20178,name:"COPY_PERMISSIONS_TO_GOOGLE_SHORTCUT",kind:"enum",T:i.proto2.getEnumType(_l),opt:!0},{no:20179,name:"DASH_USER_APP_OPENIN",kind:"map",K:9,V:{kind:"enum",T:i.proto2.getEnumType(ml)}},{no:20180,name:"LAST_SEEN_TEAM_POLICY_AUDIENCE",kind:"enum",T:i.proto2.getEnumType(dl),opt:!0},{no:20181,name:"REPLAY_TRANSCRIPT",kind:"enum",T:i.proto2.getEnumType(ll),opt:!0},{no:20182,name:"DUMMY_USER_PREF_EVENT",kind:"scalar",T:3,opt:!0},{no:20183,name:"OPEN_AI_SHARE_ALL_FILES",kind:"enum",T:i.proto2.getEnumType(ll),opt:!0},{no:20184,name:"AI_THIRD_PARTY_SHARING_DROPBOX_BASE",kind:"enum",T:i.proto2.getEnumType(ll),opt:!0},{no:20187,name:"SHOULD_AUTO_SHOW_LINK_SETTINGS_TOOLTIP",kind:"scalar",T:8,opt:!0,default:!0},{no:20191,name:"DEFAULT_PREVIEWS_SHARED_LINK_OPEN_ON_DESKTOP",kind:"enum",T:i.proto2.getEnumType(ul),opt:!0},{no:20197,name:"HIDE_DASH_SIDEPANE",kind:"scalar",T:8,opt:!0},{no:30001,name:"LOCALE",kind:"scalar",T:3,opt:!0},{no:30002,name:"DISABLE_RSS",kind:"scalar",T:8,opt:!0},{no:30003,name:"TIMEZONE_ID",kind:"scalar",T:3,opt:!0},{no:30005,name:"EARLY_RELEASE_OPT_IN",kind:"scalar",T:8,opt:!0},{no:30006,name:"ALT_PERSONAL_PAIRING_FLOW_FNAME",kind:"scalar",T:9,opt:!0},{no:30007,name:"ALT_PERSONAL_PAIRING_FLOW_LNAME",kind:"scalar",T:9,opt:!0},{no:30008,name:"LATEST_BROWSE_ROOT_FOR_WEB",kind:"scalar",T:9,opt:!0,default:"personal"},{no:30009,name:"VIDEO_UPLOADS_ENABLED_DEFAULT",kind:"scalar",T:8,opt:!0},{no:30010,name:"MAINTENANCE_EMAIL",kind:"scalar",T:8,opt:!0},{no:30017,name:"DATEFORMAT_ID",kind:"scalar",T:3,opt:!0},{no:30018,name:"TIMEZONE_OFFSET",kind:"scalar",T:3,opt:!0},{no:30026,name:"SUGGESTED_ARTICLE_DISMISSAL",kind:"map",K:3,V:{kind:"scalar",T:8}},{no:30027,name:"SUGGESTED_ARTICLE_IMPRESSION_COUNT",kind:"map",K:3,V:{kind:"scalar",T:3}},{no:30031,name:"SENT_HELP_CENTER_SURVEY",kind:"scalar",T:8,opt:!0},{no:30038,name:"ADMIN_FEATURE_VOTES",kind:"map",K:5,V:{kind:"scalar",T:8}},{no:30039,name:"LAST_RECENTS_WEB_ROLE",kind:"scalar",T:9,opt:!0,default:"personal"},{no:30040,name:"INVITED_TO_NOTES",kind:"scalar",T:8,opt:!0},{no:30042,name:"JOINED_NOTES_WAITLIST",kind:"scalar",T:8,opt:!0},{no:30044,name:"ADOBE_UNITY_TOOLTIP_IMPRESSION_COUNT",kind:"message",T:yl,repeated:!0},{no:30045,name:"OPEN_WITH_WEB_COAUTH_TOOLTIP_IMPRESSION_COUNT",kind:"message",T:yl,repeated:!0},{no:30047,name:"SEEN_NOTES_LANDING_PAGE",kind:"scalar",T:3,opt:!0},{no:30049,name:"API_V1_DEPRECATION_ACK",kind:"scalar",T:8,opt:!0},{no:30050,name:"API_V1_DEPRECATION_ACK_REQUIRED",kind:"scalar",T:8,opt:!0},{no:30054,name:"HAS_SEEN_DOWNLOAD_MODAL",kind:"scalar",T:8,opt:!0},{no:30057,name:"INFINITE_OPTIN",kind:"scalar",T:8,opt:!0,default:!0},{no:30061,name:"CAN_APOLLO_OPTIN",kind:"scalar",T:8,opt:!0},{no:30062,name:"HAS_APOLLO_OPTIN",kind:"scalar",T:8,opt:!0},{no:30063,name:"HAS_DISMISSED_PROFESSIONAL_FILE_REQUEST_EXPERIMENT",kind:"scalar",T:8,opt:!0},{no:30065,name:"CONTENT_SUGGESTIONS_HIDDEN",kind:"scalar",T:8,opt:!0},{no:30066,name:"SEEN_CONTENT_SUGGESTIONS_TOOLTIP",kind:"scalar",T:8,opt:!0},{no:30067,name:"CONTENT_SUGGESTIONS_COLLAPSED_COUNT",kind:"scalar",T:3,opt:!0},{no:30068,name:"ADMIN_FIRST_SEEN_WELCOME_BANNER_TIME",kind:"scalar",T:3,opt:!0},{no:30069,name:"ADMIN_HAS_DISMISSED_WELCOME_BANNER",kind:"scalar",T:8,opt:!0}]));class Ys extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new Ys).fromBinary(e,t)}static fromJson(e,t){return(new Ys).fromJson(e,t)}static fromJsonString(e,t){return(new Ys).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(Ys,e,t)}}Ys.runtime=i.proto2,Ys.typeName="iam_types.UserPrefs.GidToBoolMapItem",Ys.fields=i.proto2.util.newFieldList((()=>[{no:1,name:"gid",kind:"message",T:i.Gid},{no:2,name:"val",kind:"scalar",T:8}]));class Xs extends c.Message{constructor(e){super(),this.expiredActiveCcTokens=[],this.rebillFailedActiveTimes=[],this.rebillAutoDowngradedSubIds=[],i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new Xs).fromBinary(e,t)}static fromJson(e,t){return(new Xs).fromJson(e,t)}static fromJsonString(e,t){return(new Xs).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(Xs,e,t)}}Xs.runtime=i.proto2,Xs.typeName="iam_types.UserPrefs.ExpiredCCBannerDismissals",Xs.fields=i.proto2.util.newFieldList((()=>[{no:1,name:"expired_active_cc_tokens",kind:"scalar",T:9,repeated:!0},{no:2,name:"rebill_failed_active_times",kind:"scalar",T:9,repeated:!0},{no:3,name:"rebill_auto_downgraded_sub_ids",kind:"scalar",T:4,repeated:!0}]));class Qs extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new Qs).fromBinary(e,t)}static fromJson(e,t){return(new Qs).fromJson(e,t)}static fromJsonString(e,t){return(new Qs).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(Qs,e,t)}}Qs.runtime=i.proto2,Qs.typeName="iam_types.UserPrefs.BetaLocaleBannerState",Qs.fields=i.proto2.util.newFieldList((()=>[{no:1,name:"first_viewed_time",kind:"scalar",T:9,opt:!0},{no:2,name:"manually_dismissed",kind:"scalar",T:9,opt:!0},{no:3,name:"first_switched_time",kind:"scalar",T:9,opt:!0},{no:4,name:"original_locale",kind:"scalar",T:9,opt:!0,default:"en"},{no:5,name:"banner_variant",kind:"scalar",T:9,opt:!0,default:"promo"}]));class $s extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new $s).fromBinary(e,t)}static fromJson(e,t){return(new $s).fromJson(e,t)}static fromJsonString(e,t){return(new $s).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals($s,e,t)}}$s.runtime=i.proto2,$s.typeName="iam_types.UserPrefs.ExpiredCCNotificationState",$s.fields=i.proto2.util.newFieldList((()=>[{no:1,name:"last_notification_expiration_stage",kind:"scalar",T:3,opt:!0}]));class el extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new el).fromBinary(e,t)}static fromJson(e,t){return(new el).fromJson(e,t)}static fromJsonString(e,t){return(new el).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(el,e,t)}}el.runtime=i.proto2,el.typeName="iam_types.UserPrefs.LastUserSubDeactivation",el.fields=i.proto2.util.newFieldList((()=>[{no:1,name:"timestamp_utc_ms",kind:"scalar",T:3,opt:!0},{no:2,name:"gateway",kind:"scalar",T:3,opt:!0},{no:3,name:"source",kind:"scalar",T:3,opt:!0}]));class tl extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new tl).fromBinary(e,t)}static fromJson(e,t){return(new tl).fromJson(e,t)}static fromJsonString(e,t){return(new tl).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(tl,e,t)}}tl.runtime=i.proto2,tl.typeName="iam_types.UserPrefs.LastFailedIOSUpgrade",tl.fields=i.proto2.util.newFieldList((()=>[{no:1,name:"timestamp_utc_ms",kind:"scalar",T:3,opt:!0}]));class il extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new il).fromBinary(e,t)}static fromJson(e,t){return(new il).fromJson(e,t)}static fromJsonString(e,t){return(new il).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(il,e,t)}}il.runtime=i.proto2,il.typeName="iam_types.UserPrefs.AdminTooltips",il.fields=i.proto2.util.newFieldList((()=>[{no:1,name:"new_admin",kind:"scalar",T:8,opt:!0}]));class al extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new al).fromBinary(e,t)}static fromJson(e,t){return(new al).fromJson(e,t)}static fromJsonString(e,t){return(new al).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(al,e,t)}}al.runtime=i.proto2,al.typeName="iam_types.UserPrefs.ProfessionalCollectionsSettings",al.fields=i.proto2.util.newFieldList((()=>[{no:1,name:"CAN_CREATE",kind:"scalar",T:8,opt:!0},{no:2,name:"CAN_VIEW",kind:"scalar",T:8,opt:!0},{no:3,name:"HAS_CREATED",kind:"scalar",T:8,opt:!0}]));class nl extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new nl).fromBinary(e,t)}static fromJson(e,t){return(new nl).fromJson(e,t)}static fromJsonString(e,t){return(new nl).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(nl,e,t)}}var rl,ol,sl,ll,cl,dl,ul,_l,ml,pl;nl.runtime=i.proto2,nl.typeName="iam_types.UserPrefs.SupportedPreferredEditor",nl.fields=i.proto2.util.newFieldList((()=>[])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FILE_VIEWER=1]="FILE_VIEWER",e[e.OFFICE_ONLINE=2]="OFFICE_ONLINE",e[e.GDD=3]="GDD"}(rl||(rl={})),i.proto2.util.setEnumType(rl,"iam_types.UserPrefs.SupportedPreferredEditor.Enum",[{no:0,name:"UNKNOWN"},{no:1,name:"FILE_VIEWER"},{no:2,name:"OFFICE_ONLINE"},{no:3,name:"GDD"}]);class fl extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new fl).fromBinary(e,t)}static fromJson(e,t){return(new fl).fromJson(e,t)}static fromJsonString(e,t){return(new fl).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(fl,e,t)}}fl.runtime=i.proto2,fl.typeName="iam_types.UserPrefs.PreferredEditorPromptStatus",fl.fields=i.proto2.util.newFieldList((()=>[])),function(e){e[e.ASK_AGAIN=0]="ASK_AGAIN",e[e.DONT_ASK_AGAIN=1]="DONT_ASK_AGAIN"}(ol||(ol={})),i.proto2.util.setEnumType(ol,"iam_types.UserPrefs.PreferredEditorPromptStatus.Enum",[{no:0,name:"ASK_AGAIN"},{no:1,name:"DONT_ASK_AGAIN"}]);class gl extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new gl).fromBinary(e,t)}static fromJson(e,t){return(new gl).fromJson(e,t)}static fromJsonString(e,t){return(new gl).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(gl,e,t)}}gl.runtime=i.proto2,gl.typeName="iam_types.UserPrefs.PASSOptInStatus",gl.fields=i.proto2.util.newFieldList((()=>[])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.IN=1]="IN",e[e.OUT=2]="OUT"}(sl||(sl={})),i.proto2.util.setEnumType(sl,"iam_types.UserPrefs.PASSOptInStatus.Enum",[{no:0,name:"UNKNOWN"},{no:1,name:"IN"},{no:2,name:"OUT"}]);class Sl extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new Sl).fromBinary(e,t)}static fromJson(e,t){return(new Sl).fromJson(e,t)}static fromJsonString(e,t){return(new Sl).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(Sl,e,t)}}Sl.runtime=i.proto2,Sl.typeName="iam_types.UserPrefs.PasswordsFreemiumTrigger",Sl.fields=i.proto2.util.newFieldList((()=>[{no:1,name:"entry_type",kind:"scalar",T:9},{no:2,name:"trigger_timestamp_utc_ms",kind:"scalar",T:4}]));class El extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new El).fromBinary(e,t)}static fromJson(e,t){return(new El).fromJson(e,t)}static fromJsonString(e,t){return(new El).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(El,e,t)}}El.runtime=i.proto2,El.typeName="iam_types.UserPrefs.CapabilityOptStatus",El.fields=i.proto2.util.newFieldList((()=>[])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.OPT_IN=1]="OPT_IN",e[e.OPT_OUT=2]="OPT_OUT"}(ll||(ll={})),i.proto2.util.setEnumType(ll,"iam_types.UserPrefs.CapabilityOptStatus.Enum",[{no:0,name:"UNKNOWN"},{no:1,name:"OPT_IN"},{no:2,name:"OPT_OUT"}]);class vl extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new vl).fromBinary(e,t)}static fromJson(e,t){return(new vl).fromJson(e,t)}static fromJsonString(e,t){return(new vl).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(vl,e,t)}}vl.runtime=i.proto2,vl.typeName="iam_types.UserPrefs.SharingAccessLevel",vl.fields=i.proto2.util.newFieldList((()=>[])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.EDIT=1]="EDIT",e[e.VIEW=2]="VIEW"}(cl||(cl={})),i.proto2.util.setEnumType(cl,"iam_types.UserPrefs.SharingAccessLevel.Enum",[{no:0,name:"UNKNOWN"},{no:1,name:"EDIT"},{no:2,name:"VIEW"}]);class hl extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new hl).fromBinary(e,t)}static fromJson(e,t){return(new hl).fromJson(e,t)}static fromJsonString(e,t){return(new hl).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(hl,e,t)}}hl.runtime=i.proto2,hl.typeName="iam_types.UserPrefs.SharingLinkAudience",hl.fields=i.proto2.util.newFieldList((()=>[])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PUBLIC=1]="PUBLIC",e[e.NO_ONE=2]="NO_ONE",e[e.TEAM=3]="TEAM"}(dl||(dl={})),i.proto2.util.setEnumType(dl,"iam_types.UserPrefs.SharingLinkAudience.Enum",[{no:0,name:"UNKNOWN"},{no:1,name:"PUBLIC"},{no:2,name:"NO_ONE"},{no:3,name:"TEAM"}]);class wl extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new wl).fromBinary(e,t)}static fromJson(e,t){return(new wl).fromJson(e,t)}static fromJsonString(e,t){return(new wl).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(wl,e,t)}}wl.runtime=i.proto2,wl.typeName="iam_types.UserPrefs.PreviewsSharedLinkOpenOnDesktop",wl.fields=i.proto2.util.newFieldList((()=>[])),function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON"}(ul||(ul={})),i.proto2.util.setEnumType(ul,"iam_types.UserPrefs.PreviewsSharedLinkOpenOnDesktop.Enum",[{no:0,name:"OFF"},{no:1,name:"ON"}]);class Tl extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new Tl).fromBinary(e,t)}static fromJson(e,t){return(new Tl).fromJson(e,t)}static fromJsonString(e,t){return(new Tl).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(Tl,e,t)}}Tl.runtime=i.proto2,Tl.typeName="iam_types.UserPrefs.GoogleShortcutSetting",Tl.fields=i.proto2.util.newFieldList((()=>[])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ALWAYS=1]="ALWAYS",e[e.NEVER=2]="NEVER",e[e.ASK_EACH_TIME=3]="ASK_EACH_TIME"}(_l||(_l={})),i.proto2.util.setEnumType(_l,"iam_types.UserPrefs.GoogleShortcutSetting.Enum",[{no:0,name:"UNKNOWN"},{no:1,name:"ALWAYS"},{no:2,name:"NEVER"},{no:3,name:"ASK_EACH_TIME"}]);class Il extends c.Message{constructor(e){super(),i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new Il).fromBinary(e,t)}static fromJson(e,t){return(new Il).fromJson(e,t)}static fromJsonString(e,t){return(new Il).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(Il,e,t)}}Il.runtime=i.proto2,Il.typeName="iam_types.UserPrefs.DashUserAppOpenInOptions",Il.fields=i.proto2.util.newFieldList((()=>[])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.APP=1]="APP",e[e.BROWSER=2]="BROWSER"}(ml||(ml={})),i.proto2.util.setEnumType(ml,"iam_types.UserPrefs.DashUserAppOpenInOptions.Enum",[{no:0,name:"UNKNOWN"},{no:1,name:"APP"},{no:2,name:"BROWSER"}]);class bl extends c.Message{constructor(e){super(),this.timestamps=[],i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new bl).fromBinary(e,t)}static fromJson(e,t){return(new bl).fromJson(e,t)}static fromJsonString(e,t){return(new bl).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(bl,e,t)}}bl.runtime=i.proto2,bl.typeName="iam_types.UserPrefs.ApplicationTypeMapItem",bl.fields=i.proto2.util.newFieldList((()=>[{no:1,name:"application_type",kind:"scalar",T:9},{no:2,name:"timestamps",kind:"scalar",T:1,repeated:!0}]));class yl extends c.Message{constructor(e){super(),this.items=[],i.proto2.util.initPartial(e,this)}static fromBinary(e,t){return(new yl).fromBinary(e,t)}static fromJson(e,t){return(new yl).fromJson(e,t)}static fromJsonString(e,t){return(new yl).fromJsonString(e,t)}static equals(e,t){return i.proto2.util.equals(yl,e,t)}}function Al(e,t,a){const n=i.SHARE_ACTION_ORIGIN_TYPE.DEFAULT_SHARING_SETTINGS_TAB;i.ShareTibEventLogger.log(e,t,n,a)}yl.runtime=i.proto2,yl.typeName="iam_types.UserPrefs.TooltipImpressionsMapItem",yl.fields=i.proto2.util.newFieldList((()=>[{no:1,name:"vendor",kind:"scalar",T:9},{no:2,name:"items",kind:"message",T:bl,repeated:!0}])),function(e){e.ON="ON",e.OFF="OFF"}(pl||(pl={}));const Pl=e=>e===ul.ON?pl.ON:pl.OFF;i.injectInternalStyle("/static/metaserver/static/js/file_viewer/modals/shared_link_desktop_modal/shared_link_desktop_modal.module.out-vflt-_GyA.css",(e=>"._footer_180jt_1{display:flex;justify-content:space-between;width:100%}._checkboxContainer_180jt_7{align-items:center;display:flex;gap:8px}._buttonContainer_180jt_13{display:flex;gap:8px;justify-content:flex-end}._dontShowAgainLabel_180jt_19{margin-bottom:0}"));const Cl=({openDesktopActionHandler:e,user:t,logUserAction:a})=>{const[n,o]=qe.useState(!0),[s,l]=qe.useState(!1);qe.useEffect((()=>(n&&a(i.UserAction.SharedLinkDesktopModalOpen),()=>o(!1))),[n,a]);const c=qe.useCallback((n=>{n||null==e||e(),s||f.setSharedLinkDesktopModalIsHidden(null==t?void 0:t.id,!0),a(i.UserAction.SharedLinkDesktopModalClose),o(!1)}),[s,a,e,null==t?void 0:t.id]),d=qe.useCallback((async e=>{const a=e?ul.OFF:ul.ON,n=e?ul.ON:ul.OFF,o={old_default_previews_shared_link_open_on_desktop:Pl(n),new_default_previews_shared_link_open_on_desktop:Pl(a),is_team_user:t.is_team};Al(t.id,A.TiburonEventName.AttemptSetDefaultPreviewsSharedLinkOpenOnDesktop,o);try{await async function(e,t){return new i.ShareApiClient({userApiProps:e}).setSharingPrefs(t)}(t,{default_previews_shared_link_open_on_desktop_setting:(s=a,s===ul.ON?{".tag":"on"}:{".tag":"off"})}),Al(t.id,A.TiburonEventName.SucceedSetDefaultPreviewsSharedLinkOpenOnDesktop,o),e?i.Snackbar.complete(r.intl.formatMessage({id:"d8eig+",defaultMessage:"Share links for synced files will no longer open on desktop."})):i.Snackbar.complete(r.intl.formatMessage({id:"Llhok6",defaultMessage:"Share links for synced files will open on desktop."}))}catch(e){Al(t.id,A.TiburonEventName.FailSetDefaultPreviewsSharedLinkOpenOnDesktop,o),i.Snackbar.fail(r.intl.formatMessage({id:"dv4RH3",defaultMessage:"There was an error completing this request."}))}var s}),[t]),u=qe.useCallback((async e=>{a(s?i.UserAction.SharedLinkDesktopModalAlwaysOpenInDesktopChecked:i.UserAction.SharedLinkDesktopModalAlwaysOpenInDesktopUnchecked),a(i.UserAction.SharedLinkDesktopModalOpenInClicked),s?(await d(e),c(e)):c(e)}),[c,s,a,d]),m=qe.useCallback((()=>{t&&f.setSharedLinkDesktopModalIsHidden(null==t?void 0:t.id,!s),l(!s)}),[s,t]),p=qe.useMemo((()=>({fileSynced:r.intl.formatMessage({id:"ABWrvq",defaultMessage:"This shared file is already synced to your device"}),description:r.intl.formatMessage({id:"edMCGA",defaultMessage:"Access this file in the desktop app to prevent duplicates and seamlessly edit with native applications."}),dontShowAgain:r.intl.formatMessage({id:"USmU3b",defaultMessage:"Always open synced files in the desktop app"}),openIn:_.mac?r.intl.formatMessage({id:"L6ZGiG",defaultMessage:"Open in Finder"}):r.intl.formatMessage({id:"3UjT/5",defaultMessage:"Open in file explorer"}),continueOnWeb:r.intl.formatMessage({id:"6dewGJ",defaultMessage:"Continue on web"})})),[]);return qe.createElement(i.Modal$1,{open:n,isCentered:!0,title:"Desktop app",withCloseButton:"close",onRequestClose:()=>c(!0),className:"shared-link-desktop-modal"},qe.createElement(i.Modal$1.Header,{hasBottomSpacing:"title-standard"},qe.createElement(i.Modal$1.Title,null,p.fileSynced)),qe.createElement(i.Modal$1.Body,null,p.description),qe.createElement(i.Modal$1.Footer,{className:"_footer_180jt_1"},qe.createElement("span",{className:"_checkboxContainer_180jt_7"},qe.createElement(i.Checkbox,{checked:s,onChange:m,id:"shared_link_desktop_modal_checkbox"}),qe.createElement(i.FormLabel,{className:"_dontShowAgainLabel_180jt_19",htmlFor:"shared_link_desktop_modal_checkbox"},qe.createElement(i.Text,null,p.dontShowAgain))),qe.createElement("span",{className:"_buttonContainer_180jt_13"},qe.createElement(i.Button,{variant:"primary",onClick:()=>u(!1)},qe.createElement(i.UIIcon,{src:_.mac?ae.FinderLine:i.FileExplorerLine,size:"medium",style:{marginRight:4}}),p.openIn))))};Cl.displayName="SharedLinkDesktopModal";const Nl=({file:e,user:t,sourceContext:a})=>{const{logUserAction:n}=i.useFileViewerContext(),o=qe.default.useMemo((()=>i.immutableExports.List(i.isBrowseFile(e)?[i.File.fromAnyFileObject(e)]:[])),[e]),s=qe.default.useCallback((()=>{var o,s,l;if(t&&a===i.SourceContext.SharedLinkFile&&"ns_path"in e&&(null===ee.UnityCheckFileCache||void 0===ee.UnityCheckFileCache?void 0:ee.UnityCheckFileCache.is_cached_and_locally_available(e.ns_id,e.ns_path))){n(i.UserAction.SharedLinkSyncedFileOpened);const a=null===(o=i.sharingPrefsPackage.getQueryData(H.queryClient))||void 0===o?void 0:o.apiData;"on"===(null===(s=null==a?void 0:a.default_previews_shared_link_open_on_desktop_setting)||void 0===s?void 0:s[".tag"])?(null===(l=f.makeOpenInDesktopHandler(e,t))||void 0===l||l(),n(i.UserAction.SharedLinkDesktopAutoOpened),i.Snackbar.complete(r.intl.formatMessage({id:"VEkcEN",defaultMessage:"Synced shared link file opened in the desktop app"}))):f.getSharedLinkDesktopModalIsHidden(null==t?void 0:t.id)||((e,t,a)=>{i.Modal.showInstance(qe.createElement(r.Provider,{value:r.intl},qe.createElement(Cl,{openDesktopActionHandler:f.makeOpenInDesktopHandler(e,t),user:t,logUserAction:a})))})(e,t,n)}}),[e,n,a,t]);return qe.default.createElement(Me.UnityListener,{items:o,userId:t.id,onFilesListUpdate:s})};Nl.displayName="UnityWrapper";const Dl="comments-blade-previews",Ll=e=>{v.reportException({err:e,force:!0,tags:[Dl]})},Ml=e=>{const t=t=>qe.default.createElement(i.ErrorBoundary,{fallback:null,componentTag:Dl},qe.default.createElement(e,{...t}));return t.displayName=`WithErrorBoundary(${e.displayName||e.name||"Component"})`,t},Ol=({apiV2Client:e,previewSurface:t,file:a,previewContentOnly:n,commentsPluginInitialParams:r,user:o,sharedLinkInfo:s,showAuthModalWithEncryptionOptions:l,setHasUnreadComments:c})=>{const d=qe.default.useCallback(((e,t,n)=>{if(!o)return;e({browseFile:a,user:o,filePath:a.file_id,setIsCreatingSharedLink:()=>{},anchorRef:t,userActionSurfaceLogValue:i.ActionSurfaceLogValue.COMMENTS_SIDEBAR,zIndexOverride:500,yOffsetDistance:8,commentId:n,isCenteredDisplayed:!1})}),[o,a]),u=H.useQueryClient(),m=i.getFilename(a),p=qe.default.useMemo((()=>{if(n||_.is_supported_mobile_browser())return;if(!f.shouldShowCommentsForPreviewSurface(t))return;const p=f.makeComments2Client(u,o),g=o?f.dbxUserToIUser(o):void 0;return f.makeComments2Plugin({apiV2Client:e,commentsPlatformAdapter:p,user:g,reportException:Ll,commentsPluginInitialParams:r,useLogEvent:()=>{const{logUserAction:e}=i.useFileViewerContext();return qe.default.useCallback((t=>{e(t.event,"right_sidebar",t.extra),f.logCommentEvent(t)}),[e])},commentSurface:f.CommentSurface.FULL_PREVIEW,showSnackbar:e=>function(e,t){setTimeout((()=>{i.Snackbar.complete(qe.default.createElement(i.Snackbar,{title:e,id:"comments-fv-snackbar"}),t)}),0)}(e,i.PREVIEWS_SNACKBAR_ID),asyncImportShowCopyLinkUICallback:V.getShowCopyLinkMiniModalCallback,handleCopyLinkClick:d,withErrorBoundaryCallback:Ml,showAuthModal:()=>{const e=new URL(a.href);return e.searchParams.set("comment","true"),l({sharedLinkUrl:e.href,mode:i.Mode.REGISTER,kind:i.LoginOrRegisterKind.COMMENT,loggingExtra:{source:"file_viewer_comments_pane"},commentParams:{variant:i.CommentTextVariant.POST,stream:{type:"file",id:a.file_id,ns_id:a.ns_id,sjid:a.sjid,linkUrl:a.href,isVersionHistoryMode:!1,bytes:a.bytes,filename:m}},webSignInTag:"file_viewer_comments_pane",authDialogPreviousElement:i.AuthDialogPreviousElementTag.COMMENT,sharedLinkInfo:s})},setHasUnreadComments:c})}),[n,t,u,o,e,r,d,a.href,a.file_id,a.ns_id,a.sjid,a.bytes,l,m,s,c]);return qe.default.useMemo((()=>{const e=i.getFilename(a);if(f.isSupportedPreviewType(e))return p}),[p,a])},kl=r.defineMessage({id:"k2Cs7f",defaultMessage:"{ownerName} & {receiverName} shared folder"});i.injectInternalStyle("/static/metaserver/static/js/file_viewer/text_editor/plugin.module.out-vflRQUuG7.css",(e=>"._spinnerContainer_tw3fw_1{align-items:center;display:flex;height:100%;justify-content:center;width:100%}"));const Rl=n.lazy((async()=>{const{TextEditorLayer:t}=await new Promise((function(t,i){e(["./c_file_viewer_text_editor_layers"],t,i)}));return{default:t}})),xl=ke.He.div`
  display: flex;
  align-items: center;
  justify-content: center;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`,Fl=()=>qe.default.createElement(xl,null,qe.default.createElement(i.Spinner,{size:"standard"}));Fl.displayName="LoadingScreen";const Ul=i.lazyAfterDisplay((async()=>{const{Layer:t}=await new Promise((function(t,i){e(["./c_pdf_editor_plugin_layer.after-display"],t,i)}));return{default:t}}));class Bl{constructor(e,t,i,a,n,o,s){this.fullscreenLayer=({file:e})=>{const t=r.useIntl(),i=re.useEditorActivationParams();qe.default.useEffect((()=>(this.setIsPdfEditorActive(!0),()=>this.setIsPdfEditorActive(!1))),[]);const a=this.user;return qe.default.useEffect((()=>{a&&Re.markMilestoneAsCompleted(a,"edit_pdf_milestone")}),[a]),e?qe.default.createElement(qe.default.Suspense,{fallback:qe.default.createElement(Fl,null)},qe.default.createElement(Ul,{file:e,intl:t,user:a,nonce:this.nonce,activationParams:i,encryptionOptions:this.encryptionOptions,readOnly:this.readOnly,sharedLinkInfo:this.sharedLinkInfo,pdfJumpToPageIndex:this.pdfJumpToPageIndex,canEditTextPDF:this.canEditTextPDF})):null},this.nonce=fe.generateNonceSubdomain(),this.readOnly=e,this.user=i,this.setIsPdfEditorActive=a,this.encryptionOptions=o,this.sharedLinkInfo=t,this.pdfJumpToPageIndex=s,this.canEditTextPDF=n}}const Vl=i.lazyAfterDisplay((async()=>{const{PhotoEditor:t}=await new Promise((function(t,i){e(["./c_photo-editor_layout_photo_editor.after-display"],t,i)}));return{default:t}}));class Wl{constructor(e,t,i){this.user=e,this.onCurrentImageChanged=t,this.encryptionOption=i,this.integratedEditor=!1}}class Hl extends Wl{constructor(e,t,a){super(e,t,a),this.user=e,this.onCurrentImageChanged=t,this.encryptionOptions=a,this.layerUI={Layer:({activationParams:e})=>{const{logUserAction:t,optionalIOClients:{urlClient:a}}=i.useFileViewerContext(),{previewsImageEnhancements:r}=ho(this.user),o=W.useRootFile(),s=W.useRootPreviewMetadata();b.removeFragmentFromURL("#edit"),b.removeQueryParams(["edit",b.INITIAL_ACTION_QUERY_PARAM]);const l=W.useSharedLinkInfo(),c=qe.default.useCallback(((e,i,a)=>{t(e,i,{actionSurface:"image_edit",...a})}),[t]),d=qe.default.useMemo((()=>this.onCurrentImageChanged||(()=>{})),[]),u=z.useExitEditModeCallback(),_=z.useResetPreviewCallback(),m=z.useCloseViewerCallback(),{titleBarActionSetters:p}=_e.useTitlebarEditorActions(),f=n.useMemo((()=>({exit:u,onImageChanged:d,resetPreview:_,logUserAction:c,redirectToFile:(e,t)=>{null==a||a.openFile(e,!0,t)},closeViewer:()=>m(i.UserActionContext.Editor)})),[_,u,m,d,c,a]),g=qe.default.useMemo((()=>performance.now()),[]);return o?qe.default.createElement(n.Suspense,{fallback:qe.default.createElement(me.Loading,{integratedEditor:this.integratedEditor})},qe.default.createElement(Vl,{user:this.user,imageFile:o,imagePreviewUrl:s.preview_url,pluginApi:f,sharedLinkInfo:l,integratedEditor:this.integratedEditor,editorInitializationTimeMs:g,activationParams:e,entryPoint:xe.EntryPoint.PREVIEWS,previewsImageEnhancements:r,encryptionOption:this.encryptionOption,titleBarActionSetters:p})):null}},this.editUI={},this.shouldReplacePreview=!0,this.allowTitleBar=!0,this.integratedEditor=!0}}const Kl={layerUI:{Layer:()=>null},editUI:{},allowTitleBar:!0},Gl="@@apiv2_redux/file_viewer/watermarking/watermark_file",zl="@@apiv2_redux/file_viewer/watermarking/watermark_file_result",jl=Fe._createAction(Gl),Zl={[Gl]:{endpoint:"watermarking/watermark_file",action:Fe._createAction(zl)}},ql=Fe._createMiddleware(Zl);const Jl=(e,t)=>{const{mode:i,textWatermarkOptions:a,imageWatermarkOptions:n}=t;return"image"===i[e]?n[e]:a[e]},Yl=e=>e.toDataURL().split(",",2).pop(),Xl=({dispatch:e,getState:t})=>i=>a=>{if("ApplyWatermark"===a.type){const{fileViewerId:i,file:n,overwrite:r}=a.payload,{mode:o,textWatermarkOptions:s,imageWatermarkOptions:l}=t(),c=o[i],d=s[i],u=l[i],_=Jl(i,t()),{position:m,marginX:p,marginY:f}=_,g={path:n.fileId,overwrite:r};if("REPEAT"===m){const{canvas:e,distanceX:t,distanceY:i,startX:a,startY:n,offsetXPerRow:r,offsetYPerCol:o}=Ue.tilingFunc({scale:d.scale,mode:c,textWatermarkOptions:d,imageWatermarkOptions:u}),s=Yl(e);if(null==s)return;g.tiled_image={image:s,distance_x:Math.round(t),distance_y:Math.round(i),start_x:Math.round(a),start_y:Math.round(n),offset_x_per_row:Math.round(r),offset_y_per_col:Math.round(o)}}else{let e;if("text"===c){const{text:t,size:i,scale:a,fontFamily:n,color:r,opacity:o,angle:s}=d;e=Ue.drawTextTile({text:t,size:i*a,fontFamily:n,color:r,opacity:o,angle:s}).canvas}else{const{image:t,size:i,scale:a,opacity:n,angle:r}=u;if(null==t)return;e=Ue.drawImageTile({image:t,scale:i*a,opacity:n,angle:r}).canvas}const t=Yl(e);if(null==t)return;g.image_watermark={image:t,position:m,margin_x:Math.round(p),margin_y:Math.round(f)}}e(jl({arg:g},{fileViewerId:i,fqPath:n.fqPath}))}i(a)},Ql=e=>e===i.PreviewType.SsrDoc?300/72:1,$l={status:(e={},t)=>{var i;if(t.type===zl){const a=null===(i=t.meta)||void 0===i?void 0:i.fileViewerId;if(null!=a){if(t.error)return{...e,[a]:{state:"errored",error:t.error}};if(t.payload)return{...e,[a]:{state:"loaded",data:t.payload}}}return e}return"ApplyWatermark"===t.type?{...e,[t.payload.fileViewerId]:{state:"pending"}}:"InitializeWatermarkPlugin"===t.type||"SetStatusReady"===t.type?{...e,[t.payload.fileViewerId]:{state:"ready"}}:e},mode:(e={},t)=>"SetMode"===t.type?{...e,[t.payload.fileViewerId]:t.payload.mode}:"InitializeWatermarkPlugin"===t.type?{...e,[t.payload.fileViewerId]:"text"}:e,imageWatermarkOptions:(e={},t)=>{if("SetImageWatermarkOptions"===t.type){const{fileViewerId:i,options:a}=t.payload;return{...e,[i]:{...e[i],...a}}}if("InitializeWatermarkPlugin"===t.type){const{fileViewerId:i,previewType:a}=t.payload;return{...e,[i]:{image:void 0,position:"REPEAT",angle:45,angleStep:15,opacity:.3,size:.0464,marginX:40,marginY:40,scale:Ql(a),minSize:.2,maxSize:5}}}return e},textWatermarkOptions:(e={},t)=>{if("SetTextWatermarkOptions"===t.type){const{fileViewerId:i,options:a}=t.payload;return{...e,[i]:{...e[i],...a}}}if("InitializeWatermarkPlugin"===t.type){const{fileViewerId:i,previewType:a}=t.payload;return{...e,[i]:{text:"DRAFT",color:"dark",position:"REPEAT",angle:45,angleStep:15,opacity:.3,size:20,lineHeight:3,fontFamily:"Helvetica, sans-serif",marginX:40,marginY:40,scale:Ql(a),minSize:5,maxSize:200}}}return e}},ec=({apiv2ClientBase:e,onWatermarkingSuccessHandler:t})=>{const a=i.combineReducers($l),n=[Xl,ql((r=e,r.ns("file_viewer")))];var r;return t&&n.push((e=>({})=>t=>i=>{var a;if(i.type===zl&&!i.error&&i.payload.result){const n=t(i),r=i.payload.result.fq_path||(null===(a=i.meta)||void 0===a?void 0:a.fqPath);return e({fqPath:r,overwrite:i.payload.arg.overwrite}),n}return t(i)})(t)),i.createStore(a,i.applyMiddleware(...n))},tc=i.lazyAfterDisplay((async()=>{const{WatermarkingPane:t}=await new Promise((function(t,i){e(["./c_watermarking_components_watermarking_pane.after-display"],t,i)}));return{default:t}})),ic=e=>qe.default.createElement(qe.default.Suspense,{fallback:qe.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},qe.default.createElement(i.Spinner,null))},qe.default.createElement(tc,{...e}));ic.displayName="AsyncWatermarkingPane";const ac=qe.default.lazy((async()=>{const{WatermarkingLayer:t}=await new Promise((function(t,i){e(["./c_watermarking_components_watermarking_layer"],t,i)}));return{default:t}})),nc=e=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(ac,{...e}));nc.displayName="AsyncWatermarkingLayer";class rc{constructor(e,t){this.getStore=()=>(this.storePromise||(this.storePromise=new Promise((e=>{e(ec({apiv2ClientBase:this.apiV2Client,onWatermarkingSuccessHandler:this.onWatermarkingSuccessHandler}))}))),this.storePromise),this.layerUI={Layer:e=>{const{loggingSessionId:t}=i.useFileViewerContext(),{titleBarActionSetters:a}=_e.useTitlebarEditorActions(),[n,r]=qe.default.useState(null);return qe.default.useEffect((()=>{this.getStore().then(r)}),[]),!n||e.previewType!==i.PreviewType.Image&&e.previewType!==i.PreviewType.SsrDoc&&e.previewType!==i.PreviewType.CloudDoc?null:qe.default.createElement(i.Provider,{store:n},qe.default.createElement(nc,{fileViewerId:t,titleBarActionSetters:a,...e}))}},this.useCurrentDocFirstPageDimensions=()=>{const e=W.useRootDocumentPageDimensions(),t=null==e?void 0:e[0][0],i=null==e?void 0:e[0][1];if(t&&i)return{width:t,height:i}},this.editUI={Sidebar:e=>{const t=r.useIntl(),{loggingSessionId:a,logUserAction:n}=i.useFileViewerContext(),o=W.useRootPreviewType(),[s,l]=qe.default.useState(null);qe.default.useEffect((()=>{this.getStore().then(l)}),[]),qe.default.useEffect((()=>{null==s||s.dispatch((({fileViewerId:e,previewType:t})=>({type:"InitializeWatermarkPlugin",payload:{fileViewerId:e,previewType:t}}))({fileViewerId:a,previewType:o})),n(Le.WorkflowsEvent.WatermarkStart,"top_nav_meatball_menu")}),[a,o,n,s]);const c=this.useCurrentDocFirstPageDimensions(),d=re.useRootDocUi(),u=re.useRootImageUi(),_=W.useRootFile(),m=z.useExitEditModeCallback(),p=z.useResetPreviewCallback(),{titleBarActionSetters:f}=_e.useTitlebarEditorActions();return s&&_?qe.default.createElement(i.Provider,{store:s},qe.default.createElement(ic,{file:_,previewType:o,intl:t,fileViewerId:a,exitEditModeCallback:m,resetPreviewCallback:p,currentDocFirstPageDimensions:c,docUi:d,imageUi:u,titleBarActionSetters:f,...e})):null}},this.mode={type:"edit"},this.allowTitleBar=!0,this.apiV2Client=e,this.onWatermarkingSuccessHandler=t,this.storePromise=void 0}}const oc=()=>{},sc=({user:e,file:t,sharePermission:a,featureConfig:r,previewSurface:o,previewContentOnly:s,setIsPdfEditorActive:l,onFileChanged:c=oc,apiV2Client:d,encryptionOptions:u,sharedLinkInfo:m,ssrDocJumpToPageIndex:p})=>{const g=[i.SDKPreviewSurface.VERSION_HISTORY,i.SDKPreviewSurface.BACKUP,i.SDKPreviewSurface.SHARED_LINK_EMBED,i.SDKPreviewSurface.TRANSFER,i.SDKPreviewSurface.UNKNOWN].includes(o),S=Xe({file:t,sharePermission:a,user:e}),E=qe.default.useMemo((()=>S?Kl:void 0),[S]),v=i.useCanWatermarkFile({file:t,user:e}),h=qe.default.useMemo((()=>v?((e,t,a)=>new rc(t,(({fqPath:t,overwrite:n})=>{n&&a===i.SDKPreviewSurface.BROWSE||(t&&e?i.replace_location(i.preview_uri_for_fq_path(e,t,{context:i.SourceContext.Workflow})):i.reload())})))(e,d,o):void 0),[d,o,v,e]),w=ee.showEditPlugin(t,a),T=i.useStabilizedCallback$1((e=>c(t,e))),I=qe.default.useMemo((()=>w?new Hl(e,T,u):void 0),[u,T,w,e]),b=$r(t,a),y=qe.default.useMemo((()=>b?((e,t,a)=>({layerUI:{Layer:r=>qe.default.createElement(n.Suspense,{fallback:qe.default.createElement("div",{className:"_spinnerContainer_tw3fw_1"},qe.default.createElement(i.Spinner,{size:"large"}))},qe.default.createElement(Rl,{...r,user:e,file:t,onFileChanged:a}))},editUI:{},allowTitleBar:!0}))(e,t,c):void 0),[t,c,b,e]),A=f.showEditPlugin(t,a,!0),P=i.isBrowseFile(t)&&!!t.read_only,C=i.useCanEditTextPDF(e),N=qe.default.useMemo((()=>(e||!e)&&A?new Bl(P,m,e,l,C,u,p):void 0),[u,P,A,p,l,m,e,C]);return qe.default.useMemo((()=>g||_.is_supported_mobile_browser()||s?{}:{[i.VIDEO_EDITOR_PLUGIN_ID]:E,[vo]:h,[i.PHOTO_EDITOR_PLUGIN_ID]:I,[i.PDF_EDITOR_PLUGIN_ID]:N,[i.TEXT_EDITOR_PLUGIN_ID]:y}),[g,N,I,s,E,h,y])},lc=["Fetch network failure - message aborted or user offline","invalid_csrf_token","invalid_logged_out_cookie","too_many_requests","no_file","no_permission","deleted","user_not_logged_in"];class cc{constructor(e){this.category="web-transcript_feedback",this.user_id=null,this.user_agent=null,this.is_transcript_accurate=e.is_transcript_accurate,this.feedback=e.feedback,this.comments=e.comments,e.hasOwnProperty("user_id")&&void 0!==e.user_id&&(this.user_id=e.user_id),e.hasOwnProperty("user_agent")&&void 0!==e.user_agent&&(this.user_agent=e.user_agent)}}const dc=qe.default.lazy((async()=>{const{TagsSectionPreview:t}=await new Promise((function(t,i){e(["./c_components_section_tags_section_preview"],t,i)}));return{default:t}})),uc=e=>qe.default.createElement(i.LazySuspense,{fallback:qe.default.createElement("div",{className:f.previewsContainer},qe.default.createElement(i.Skeleton.Text,{width:296,size:"small"}),qe.default.createElement(i.Skeleton.Box,{width:296,height:32}))},qe.default.createElement(dc,{...e})),_c=i.lazyAfterDisplay((async()=>{const{FileActivity:t}=await new Promise((function(t,i){e(["./c_file_activity_component_file_activity.after-display"],t,i)}));return{default:t}})),mc=e=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(_c,{...e}));mc.displayName="AsyncFileActivity";const pc=i.lazyAfterDisplay((async()=>{const{VersionHistoryMenu:t}=await new Promise((function(t,i){e(["./c_file_activity_component_version_history_menu.after-display"],t,i)}));return{default:t}})),fc=e=>qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(pc,{...e}));fc.displayName="AsyncVersionHistoryMenu";qe.memo((({id:e,intl:t,children:a})=>qe.createElement(r.Provider,{value:t},qe.createElement(He.RightRail.Blade,{withIcon:qe.createElement(i.UIIcon,{src:i.InfoLine}),withTitle:t.formatMessage({id:"pehNW7",defaultMessage:"Info"}),id:e},a)))).displayName="InfoBlade";qe.memo((({id:e,intl:t})=>qe.createElement(r.Provider,{value:t},qe.createElement(He.RightRail.CollapsedBladeIcon,{withIcon:qe.createElement(i.UIIcon,{src:i.InfoLine,"aria-label":t.formatMessage({id:"Jf5mVf",defaultMessage:"Open info panel"})}),id:e,tooltip:t.formatMessage({id:"+PrmmG",defaultMessage:"Info"})})))).displayName="InfoBladeCollapsedBladeButton";const gc=qe.memo((({path:e,size:t="small",openPath:i,accountRootName:a,browseRoot:n,...r})=>{const o=oe.normalize(e),s=a,l=oe.parent_dirs(o).reverse();l.unshift("");const c=e=>{if(n)return e.startsWith("/")||(e="/"+e),n.startsWith("/")||(n="/"+n),`https://www.dropbox.com${n}${e}`};return qe.createElement(G.Breadcrumb,{size:t,isRootOverflow:!0,...r},l.map((e=>qe.createElement(G.Breadcrumb.Link,{key:oe.filename(e,s),href:c(e),onClick:()=>i(e),isCurrentPath:!1,className:f.classes$1.infoBladeFileBreadcrumbLink},oe.filename(e,s)))))}));gc.displayName="FileBreadcrumb";const Sc={BINDER:["binder"],PAPER:["paper"],PAPER_TEMPLATE:["papert"],IMAGE:["3fr","arw","bmp","cr2","crw","dcr","dcs","dng","erf","gif","heic","j2c","j2k","jp2","jpc","jpeg","jpf","jpg","jpg2","jpm","jpx","kdc","mef","mos","mrw","nef","nrw","orf","pef","png","ppm","psd","r3d","raf","rw2","rwl","sr2","svg","svgz","tga","tif","tiff","wbmp","web","webp","x3f","ico","heif"],VIDEO:["3gp","3gpp","3gpp2","avi","dv","flv","m2t","m4v","mkv","mov","mp4","mpeg","mpg","mts","mxf","ts","vob","wmv"],AUDIO:["aif","flac","m4a","m4p","mp3","ogg","wav","wma"],DOCUMENT:["ai","cdr","csv","doc","docx","docm","eps","fla","gdoc","gsheet","gslides","indd","keynote","numbers","otf","pages","pdf","ppt","pptx","pptm","pps","ppsx","ppsm","ps","rtf","swf","txt","wpd","xls","xlsx","xlsm"],COMPRESSED_FILE:["7z","bz2","gz","gzip","rar","tar","zip"],CODE:["as","as3","asm","aspx","bat","c","cc","cmake","coffee","cpp","cs","css","cxx","diff","erb","erl","groovy","gry","h","haml","hh","hpp","html","htm","hxx","java","js","json","jsx","less","lst","m","make","mk","ml","mm","msg","out","patch","php","pl","pm","plist","properties","py","rb","sass","scala","scm","script","scss","sh","sml","sql","vb","vi","vim","xhtml","xml","xsd","xsl","y","yaml","yml","yxx"],DISK_IMAGE:["dmg","iso"],EXECUTABLE:["exe"],SHORTCUT:["lnk","web"],LINK:["url","webloc"],FONT:["ttf"]},Ec={};for(const e of Object.keys(Sc)){const t=Sc[e];for(const i of t)Ec[i]=e}const vc={FILE:e=>e.formatMessage({id:"v4Shkr",defaultMessage:"File"}),IMAGE:e=>e.formatMessage({id:"taNwEu",defaultMessage:"Image"}),VIDEO:e=>e.formatMessage({id:"0oGQrb",defaultMessage:"Video"}),AUDIO:e=>e.formatMessage({id:"sRcbgl",defaultMessage:"Audio"}),DOCUMENT:e=>e.formatMessage({id:"Fc5K7b",defaultMessage:"Document"}),COMPRESSED_FILE:e=>e.formatMessage({id:"etyvLK",defaultMessage:"Archive"}),CODE:e=>e.formatMessage({id:"+XtI3U",defaultMessage:"Code"}),DISK_IMAGE:e=>e.formatMessage({id:"1ibhRZ",defaultMessage:"Disk image"}),EXECUTABLE:e=>e.formatMessage({id:"AcUuht",defaultMessage:"Executable"}),SHORTCUT:e=>e.formatMessage({id:"JOimvX",defaultMessage:"Shortcut"}),LINK:e=>e.formatMessage({id:"g8rKMf",defaultMessage:"Link"}),FONT:e=>e.formatMessage({id:"1xtVFj",defaultMessage:"Font"}),PAPER:e=>e.formatMessage({id:"ONHPlw",defaultMessage:"Paper doc"}),PAPER_TEMPLATE:e=>e.formatMessage({id:"TfIt0w",defaultMessage:"Paper template"}),BINDER:e=>e.formatMessage({id:"3Tt6Qx",defaultMessage:"Binder"})},hc=(e,t)=>(0,vc[Ec[e]||"FILE"])(t),wc=qe.memo((({file:e,pathBar:t,accountRootName:a="Dropbox",browseRoot:n})=>{const{lastModifiedMs:o,size:s,name:l,fqPath:c}=e,d=r.useIntl();return qe.createElement("div",{className:f.classes$1.infoBladeBasicMetadataContainer},c&&(null==t?void 0:t.enabled)&&qe.createElement(f.InfoBladeMetadataRow,{title:d.formatMessage({id:"vRjK3h",defaultMessage:"Saved in"}),data:qe.createElement(gc,{className:f.classes$1.infoBladePathbar,size:"small",path:c,accountRootName:a,openPath:t.openPath,browseRoot:n})}),void 0!==s&&qe.createElement(f.InfoBladeMetadataRow,{title:d.formatMessage({id:"7+ns4J",defaultMessage:"Size"}),data:qe.createElement(i.Text,{variant:"paragraph",size:"small"},M.formatBytes(d,s))}),o&&qe.createElement(f.InfoBladeMetadataRow,{title:d.formatMessage({id:"3TwhnG",defaultMessage:"Modified"}),data:qe.createElement(i.Text,{variant:"paragraph",size:"small"},d.formatTime(new Date(o),{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}))}),l&&qe.createElement(f.InfoBladeMetadataRow,{title:d.formatMessage({id:"VPGq/B",defaultMessage:"Type"}),data:qe.createElement(i.Text,{variant:"paragraph",size:"small"},hc(oe.file_extension(l),d))}))}));wc.displayName="BasicFileMetadata";const Tc=({fileId:e,sharedLinkURL:t,onShowMore:i,filesGetFileContentMetadata:a,logUserAction:n})=>{var r,o;qe.default.useEffect((()=>{null==n||n("info_content_metadata_loading")}),[n]);const s=le.useFileContentMetadataQuery$1(a,{file_path_or_id:e,url:t},!0),l=null===(o=null===(r=s.data)||void 0===r?void 0:r.apiData)||void 0===o?void 0:o.metadata;return qe.default.useEffect((()=>{s.error?null==n||n("info_content_metadata_error"):s.isLoading||null==n||n("info_content_metadata_loaded")}),[n,s.error,s.isLoading]),l?qe.default.createElement(f.FileContentMetadataUI,{metadata:l,onShowMore:i}):null};Tc.displayName="FileContentMetadataInternal";const Ic=e=>qe.default.createElement(qe.default.Suspense,{fallback:qe.default.createElement("div",null,qe.default.createElement(i.Skeleton.Text,{width:250,size:"small"}),qe.default.createElement(i.Skeleton.Text,{width:250,size:"small"}),qe.default.createElement(i.Skeleton.Text,{width:250,size:"small"}),qe.default.createElement(i.Skeleton.Text,{width:250,size:"small"}))},qe.default.createElement(Tc,{...e})),bc=qe.default.memo((({ownerTeamName:e,ownerName:t})=>{const i=r.useIntl();let a="";return t&&e?a=i.formatMessage({id:"r8Mpyq",defaultMessage:"{owner_name} ({owner_team_name})"},{owner_name:t,owner_team_name:e}):e&&(a=e),a?qe.default.createElement(f.InfoBladeTextMetadataRow,{key:`content-metadata-${e}`,title:i.formatMessage({id:"qfF5dJ",defaultMessage:"From"}),data:a}):null}));bc.displayName="SharedLinkMetadata";const yc=({apiV2Client:e,fileId:t,sharedLinkURL:i})=>{const{data:{apiData:a}={}}=f.useGetUploadInfoQuery(e,{file_path_or_id:t,url:i},!0);return a?qe.default.createElement(f.UploadInfoMetadataUI,{uploadInfo:a}):null};yc.displayName="UploadMetadataInternal";const Ac=e=>qe.default.createElement(qe.default.Suspense,{fallback:qe.default.createElement("div",null,qe.default.createElement(i.Skeleton.Text,{width:250,size:"small"}),qe.default.createElement(i.Skeleton.Text,{width:250,size:"small"}))},qe.default.createElement(yc,{...e}));i.injectInternalStyle("/static/js/file_viewer_plugins/transcript_blade/transcript_blade.module.out-vflKp2K_5.css",(e=>":root{--transcript-search-height:52px}._transcriptBlade_1ia60_10{display:flex;flex-direction:column;overflow:hidden;padding:0}._transcriptBladeContentWrapper_1ia60_17{height:100%;width:100%}._transcriptHeaderOptionMenuWrapper_1ia60_22{display:flex;justify-content:flex-end;width:100%}._transcriptSegmentListContentWrapper_1ia60_28{height:auto;outline:none;overflow:hidden;position:relative;width:100%}._transcriptErrorInfo_1ia60_36{align-items:center;display:flex;gap:8px;padding:12px 16px}._transcriptLoadingScreen_1ia60_43{box-sizing:border-box;height:100%;padding:0 16px}._transcriptLoadingScreen_1ia60_43,._transcriptProgressBarWrapper_1ia60_55{align-items:center;display:flex;flex-direction:column;justify-content:center;text-align:center;width:100%}._transcriptProgressBar_1ia60_55{margin-bottom:16px;width:100%}._transcriptSearchWrapper_1ia60_69{box-sizing:border-box;height:auto;padding:4px 16px 16px}._transcriptSearchMatchFoundText_1ia60_75{margin-top:2px;white-space:nowrap}._transcriptSearchNavigatorWrapper_1ia60_80{align-items:center;display:inline-flex}._transcriptCaptionText_1ia60_85,._transcriptCaptionTextEditMode_1ia60_90{cursor:text;overflow-wrap:anywhere}._transcriptCaptionTextEditMode_1ia60_90{font-family:var(--type__body__small--fontfamily);font-size:var(--type__body__small--fontsize);font-weight:var(--type__body__small--fontweight);line-height:var(--type__body__small--lineheight)}._currentSearchMatch_1ia60_100{background-color:var(--color__highlight__yellow__permanent)}._searchMatchExperiment_1ia60_106{background-color:var(--dig-color__primary__surface)}._currentSearchMatchExperiment_1ia60_110{background-color:var(--dig-color__primary__surface--state-2)}._resumeAutoScrollButton_1ia60_115{bottom:0;left:50%;opacity:0;position:absolute;transform:translate(-50%,100%);transition:all var(--duration__micro-fast) var(--easing__leave)}._resumeAutoScrollButton_1ia60_115._showing_1ia60_124{bottom:8px;opacity:100%;transform:translate(-50%);transition-timing-function:var(--easing__enter)}._transcriptReplaceToggle_1ia60_131{background-color:var(--color__standard__background);border:1px solid var(--color__standard__text);border-radius:8px;color:var(--color__standard__text);display:flex;padding:var(--dig-spacing__dimension__8)}._transcriptReplaceToggle_1ia60_131>*+*{margin-left:var(--dig-spacing__dimension__8);margin-right:var(--dig-spacing__dimension__44)}._transcriptSearchWrapper_1ia60_69>*+*{margin-top:var(--dig-spacing__dimension__8)}._transcriptSearchNavigatorRowWrapper_1ia60_149{align-items:center;display:flex;flex-direction:row}._transcriptSearchNavigatorRowWrapper_1ia60_149>*+*{margin-left:var(--dig-spacing__dimension__8)}._replaceBanner_1ia60_159{bottom:150px;margin:0 var(--dig-spacing__dimension__16)}._transcriptFeedbackPanel_1ia60_164{background-color:var(--dig-color__background__raised);bottom:0;display:flex;position:absolute;width:100%}._transcriptFeedbackThumbButtonGroup_1ia60_172{align-items:center;display:flex;justify-content:space-around;margin-left:auto;margin-right:var(--dig-spacing__dimension__8)}._transcriptWrittenFeedbackChips_1ia60_180{align-content:space-around;display:flex;flex-direction:row;flex-wrap:wrap;height:fit-content}._transcriptWrittenFeedbackChip_1ia60_180{margin-bottom:var(--dig-spacing__dimension__4);margin-right:var(--dig-spacing__dimension__4)}._transcriptFeedbackTextbox_1ia60_193{margin:var(--dig-spacing__dimension__8) 0}._transcriptWrittenFeedbackButtons_1ia60_197{display:flex;flex-direction:row;justify-content:flex-end}._transcriptWrittenFeedbackButtons_1ia60_197>button{margin-left:var(--dig-spacing__dimension__8)}"));const Pc=qe.default.memo((({showLoadingMessage:e=!0})=>{const t=r.useIntl(),[a,n]=qe.default.useState(!1),o=qe.default.useRef(null),s=re.useIsTranscriptEditingEnabled();return qe.default.useEffect((()=>{if(e)return o.current=window.setTimeout((()=>{n(!0),o.current=null}),7e3),()=>{null!=o.current&&window.clearTimeout(o.current)}}),[e]),qe.default.createElement("div",{className:"_transcriptLoadingScreen_1ia60_43"},qe.default.createElement(i.ProgressBar,{className:"_transcriptProgressBar_1ia60_55",value:0,in:!0,isIndeterminate:!0}),a&&(s?qe.default.createElement(i.Text,{variant:"label",size:"small",color:"standard"},t.formatMessage({id:"PwXEwf",defaultMessage:"Were transcribing this file. Feel free to do other things while we work."})):qe.default.createElement(i.Text,{variant:"label",size:"small",color:"standard"},t.formatMessage({id:"nl9MyF",defaultMessage:"Were translating this file. Feel free to do other things while we work."}))))}));Pc.displayName="TranscriptProgressBar";const Cc=(()=>{try{const e=new URLSearchParams(window.location.search).get("timestamp");if(!e)return null;const t=parseFloat(e);return isNaN(t)?null:t}catch{return null}})(),Nc=i.atom({segmentIndex:-1,startingCharIndex:-1,endingCharIndex:-1}),Dc=i.atom(void 0),Lc=i.atom(!0),Mc=i.atom((e=>e(Lc))),Oc=i.atom(null,((e,t)=>{t(Lc,!e(Mc))})),kc=i.atom(!1),Rc=i.atom((e=>e(kc))),xc=i.atom(null,((e,t)=>{t(kc,!e(kc))})),Fc=i.atom(null,((e,t,i)=>{t(kc,i)})),Uc=i.atom([]),Bc=i.atom(!1),Vc=i.atom(Cc),Wc=qe.memo((({})=>{const e=r.useIntl(),{logUserAction:t}=i.useFileViewerContext(),a=W.useRootPreviewType(),n=i.useAtomValue(Mc),o=i.useSetAtom(xc),s=re.useAudioVideoIsDefaultAudioTrackSelected(),l=i.useAtomValue(Uc),c=i.useSetAtom(Oc),d=i.useStabilizedCallback((e=>{"toggle_transcript_details"===e?c():"copy_transcript"===e&&(Ce.writeTranscriptToClipboard(l),t(i.UserAction.TranscriptCopyAllClick,i.UserActionContext.PreviewSidebar,{previewType:a}))}));return!l||0===l.length||!s&&a===i.PreviewType.Video?null:qe.createElement("div",{className:"_transcriptHeaderOptionMenuWrapper_1ia60_22"},qe.createElement(i.Tooltip,{title:e.formatMessage({id:"NqbnZL",defaultMessage:"Search"}),placement:"bottom"},qe.createElement(i.IconButton,{variant:"transparent",size:"medium",onClick:o,title:e.formatMessage({id:"xajPb4",defaultMessage:"Show search"})},qe.createElement(i.UIIcon,{src:i.SearchLine,size:"standard"}))),qe.createElement(i.Menu.Wrapper,{onSelection:d,shouldPropagateClickOutsideMouseEvents:!0},(({getContentProps:t,getTriggerProps:a})=>qe.createElement(qe.Fragment,null,qe.createElement(i.IconButton,{...a(),"aria-label":e.formatMessage({id:"OTPHVz",defaultMessage:"Transcript settings"}),variant:"transparent",size:"medium"},qe.createElement(i.UIIcon,{src:i.MoreHorizontalLine,size:"standard"})),qe.createElement(i.Menu.Content,{id:"parent",...t()},qe.createElement(i.Menu.Segment,null,qe.createElement(i.Menu.ActionItem,{key:"toggle_transcript_details",value:"toggle_transcript_details"},n?e.formatMessage({id:"6YJBBm",defaultMessage:"Hide transcript details"}):e.formatMessage({id:"T6egx/",defaultMessage:"Show transcript details"})),qe.createElement(i.Menu.ActionItem,{key:"copy_transcript",value:"copy_transcript"},e.formatMessage({id:"L//QR/",defaultMessage:"Copy transcript"}))))))))}));Wc.displayName="TranscriptTitleAccessory";const Hc=qe.default.lazy((async()=>{const{TranscriptBladeContent:t}=await new Promise((function(t,i){e(["./c_transcript_blade_components_transcript_blade_content"],t,i)}));return{default:t}})),Kc=({previewKey:e,previewMetadata:t,logUserAction:a,permission:n,previewType:r,isLoggedIn:o,fileId:s,logTranscriptFeedback:l,setTranscriptSearchResult:c,enableTranscriptSearchInSeekbar:d,logTranscriptSearchMilestone:u,reportTranscriptMissing:_,reportScrollToSegmentFailed:m})=>{const p=re.useRightSidebarId(),f=i.useTranscriptDataQuery(e,t);return We.useRecordPreviewsTimerOnMount(i.PreviewsTimer.SidebarContentsMount,{bladeId:i.TRANSCRIPT_BLADE_PLUGIN_ID},p===i.TRANSCRIPT_BLADE_PLUGIN_ID&&(f.isSuccess||f.isError&&!Ce.canGenerateTranscriptFromRivieraStatus(f.error.statusCode))),qe.default.useEffect((()=>()=>{c({searchResult:void 0,segments:[]})}),[c]),qe.default.createElement(qe.default.Suspense,{fallback:qe.default.createElement(Pc,{showLoadingMessage:!1})},qe.default.createElement(Hc,{previewType:r,previewKey:e,previewMetadata:t,permission:n,logUserAction:a,isLoggedIn:o,fileId:s,logTranscriptFeedback:l,setTranscriptSearchResult:c,enableTranscriptSearchInSeekbar:d,logTranscriptSearchMilestone:u,reportTranscriptMissing:_,reportScrollToSegmentFailed:m}))};Kc.displayName="TranscriptContent";const Gc=(e,t,a,o)=>{const s=t!==i.SDKPreviewSurface.VERSION_HISTORY&&i.isBrowseFile(a)?a.fq_path:void 0,l=qe.default.useMemo((()=>s&&e?()=>Be.redirectToVersionHistory(s,e):void 0),[e,s]),c=e&&t!==i.SDKPreviewSurface.BACKUP&&!_.is_supported_mobile_browser();return qe.default.useMemo((()=>c?(({user:e,onOpenVersionHistory:t,apiV2Client:a})=>{const o=Ve.makeStore({apiV2Client:a});return{sidebarUI:{Icon:()=>qe.default.createElement(i.UIIcon,{src:i.FileHistoryLine}),Title:()=>{const e=r.useIntl();return qe.default.createElement(qe.default.Fragment,null,e.formatMessage({id:"g4fiTc",defaultMessage:"File Activity"}))},TitleAccessory:()=>{const{logUserAction:e}=i.useFileViewerContext(),a=n.useMemo((()=>t?{enabled:!0,onVersionHistoryClicked:()=>{t(),e(i.UserAction.VersionHistory,i.UserActionContext.PreviewSidebar)}}:{enabled:!1}),[e]);return a&&a.enabled?qe.default.createElement(fc,{onVersionHistoryClicked:a.onVersionHistoryClicked,iconSize:"standard"}):null},Content:()=>{const{logUserAction:t}=i.useFileViewerContext(),a=re.useLeftSidebarId();We.useRecordPreviewsTimerOnMount(i.PreviewsTimer.SidebarContentsMount,{bladeId:i.FILE_ACTIVITY_PLUGIN_ID},a===i.FILE_ACTIVITY_PLUGIN_ID);const n=W.useRootFile();return n&&o?qe.default.createElement(i.Provider,{store:o},qe.default.createElement(mc,{fileId:n.fileId,user:e,logUserAction:t})):null}}}})({user:e,apiV2Client:o,onOpenVersionHistory:l}):void 0),[l,e,c,o])},zc=(e,t,a,o,s)=>{const l=qe.default.useRef(o);l.current=o;const c=qe.default.useCallback((({context:e})=>{const a=l.current;return t&&i.isBrowseFile(a)&&a.ns_path?qe.default.createElement(uc,{files:[i.File.fromAnyFileObject(a)],user:t,context:e}):null}),[t]);let d="";t&&i.isBrowseFile(o)&&(d=i.get_browse_root(e,t,o));const u=!_.is_supported_mobile_browser();return qe.default.useMemo((()=>u?(({userId:e,rootName:t,tagSection:a,browseRoot:o,apiV2Client:s})=>({sidebarUI:{Icon:()=>qe.default.createElement(i.UIIcon,{src:i.InfoLine}),Title:()=>{const e=r.useIntl();return qe.default.createElement(qe.default.Fragment,null,e.formatMessage({id:"pehNW7",defaultMessage:"Info"}))},Content:()=>{const{apiV2ClientShim:l,optionalIOClients:{urlClient:c}}=i.useFileViewerContext(),d=re.useLeftSidebarId();We.useRecordPreviewsTimerOnMount(i.PreviewsTimer.SidebarContentsMount,{bladeId:i.INFO_BLADE_PLUGIN_ID},d===i.INFO_BLADE_PLUGIN_ID);const u=W.useRootFile(),_=W.useSharedLinkInfo(),m=r.useIntl(),p=n.useMemo((()=>{if(!u)return null;const{fqPath:e,name:t,lastModifiedDate:i,size:a}=u;return{fqPath:e,size:a,name:t,lastModifiedMs:i?new Date(i).getTime():void 0}}),[u]),f=n.useMemo((()=>({enabled:!0,openPath:e=>null==c?void 0:c.openFile(e,void 0)})),[c]),{logUserAction:g}=i.useFileViewerContext(),S=n.useCallback((e=>{g(e?i.UserAction.InfoShowMoreMetadata:i.UserAction.InfoHideMoreMetadata,i.UserActionContext.PreviewSidebar)}),[g]);return We.useRecordPreviewsTimerOnMount(i.PreviewsTimer.SidebarContentsMount,{bladeId:i.INFO_BLADE_PLUGIN_ID},d===i.INFO_BLADE_PLUGIN_ID),u&&p?qe.default.createElement(qe.default.Fragment,null,a&&qe.default.createElement(a,{context:i.UserActionContext.PreviewSidebar,key:p.fqPath}),qe.default.createElement(i.Text,{variant:"paragraph",size:"small",isBold:!0},m.formatMessage({id:"bNnicH",defaultMessage:"Properties"})),qe.default.createElement("div",{role:"table"},qe.default.createElement(wc,{file:p,pathBar:f,accountRootName:t,browseRoot:o}),qe.default.createElement(bc,{..._}),qe.default.createElement(Ac,{fileId:u.fileId,sharedLinkURL:u.url,apiV2Client:s}),e&&qe.default.createElement(Ic,{fileId:u.fileId,sharedLinkURL:u.url,onShowMore:S,filesGetFileContentMetadata:l.filesGetFileContentMetadata,logUserAction:g}))):null}}}))({userId:t&&String(t.id),rootName:t&&Ke.deprecatedGetRootName(r.getIntl(),e,t),tagSection:c,browseRoot:d,apiV2Client:s}):void 0),[d,c,t,e,u,s])},jc=new i.HiveLogger,Zc=(e,t,a)=>{const n=i.resolvePreviewType(t.preview,i.isBrowseFile(t)?t.fq_path:t.filename),o=Lo.includes(e)&&Mo.includes(n)&&!_.is_supported_mobile_browser(),s=i.useStabilizedCallback$1(((e,t,i)=>{jc.log(new cc({is_transcript_accurate:e,feedback:t,comments:null!=i?i:""}))}));return qe.default.useMemo((()=>o?((e,t,a,n,o)=>({sidebarUI:{Icon:()=>qe.default.createElement(i.UIIcon,{src:Te.ClosedCaptionsLine}),Title:()=>{const e=r.useIntl();return qe.default.createElement(qe.default.Fragment,null,e.formatMessage({id:"NIbdgH",defaultMessage:"Transcript"}))},TitleAccessory:()=>qe.default.createElement(Wc,null),Content:()=>{var r;const{logUserAction:s,isLoggedIn:l}=i.useFileViewerContext(),c=W.useRootPreviewMetadata(),d=c.previewType,u=null===(r=W.useRootFile())||void 0===r?void 0:r.fileId,_=re.useSetTranscriptSearchResult(),m=J.useCurrentPreviewKey(),{mutate:p}=i.useMaybeGenerateTranscript(m,c),f=Ce.useShouldGenerateTranscript(c),g=W.useSharedLinkInfo(),S=Ce.getTranscriptPermission(c.content);qe.default.useEffect((()=>{f&&p({previewKey:m,previewMetadata:c,fileId:u,sharedLinkUrl:null==g?void 0:g.url})}),[u,p,m,c,null==g?void 0:g.url,f]);const E=d===i.PreviewType.Video,v=d===i.PreviewType.Audio;return S&&(E||v)?qe.default.createElement(Kc,{previewKey:m,previewMetadata:c,logUserAction:s,permission:S,previewType:d,isLoggedIn:l,fileId:null!=u?u:"",logTranscriptFeedback:e,setTranscriptSearchResult:_,enableTranscriptSearchInSeekbar:t,logTranscriptSearchMilestone:a,reportTranscriptMissing:n,reportScrollToSegmentFailed:o}):null}}}))(s,a,Me.logTranscriptSearchMilestone,Me.reportTranscriptMissing,Me.reportScrollToSegmentFailed):void 0),[o,s,a])},qc=e=>{const t=Nr(),a=Cr(t,e);return qe.default.useMemo((()=>a?{sidebarUI:{Icon:()=>qe.default.createElement(i.UIIcon,{src:ae.DuplicateLine}),Title:()=>{const e=r.useIntl();return qe.default.createElement(i.Text,{variant:"paragraph",size:"small",isBold:!0},e.formatMessage({id:"cXWInn",defaultMessage:"Duplicate Files"}))},Content:()=>qe.default.createElement("div",null)}}:void 0),[a])},Jc=["gdoc","gsheet","gslides"],Yc=(t,a,n)=>{const r=qe.default.useRef();qe.default.useEffect((()=>{if(r.current===a.file_id)return;const n=i.getExtension(a);t&&Jc.includes(n)&&((...t)=>{new Promise((function(t,i){e(["./c_ui_controllers_conversion_modal_controller"],t,i)})).then((({showConversionUiFlow:e})=>e(...t)))})({user:t,fileId:a.file_id,filename:i.filename(i.isSharedFile(a)?a.filename:a.fq_path)}),r.current=a.file_id}),[t,a,n])};var Xc;!function(e){e.attempted="preview_attempted",e.renderSucceeded="render_succeeded",e.renderFailed="render_failed",e.ended="preview_session_ended",e.appDownloadInterstitialClose="app_download_interstitial_close",e.appDownloadInterstitialContinue="app_download_interstitial_continue",e.appDownloadInterstitialInstall="app_download_interstitial_install",e.appDownloadInterstitialView="app_download_interstitial_view",e.breadcrumbClicked="breadcrumb_clicked",e.Download="download",e.AddToDropbox="add_to_dropbox",e.SaveToDropbox="save_to_dropbox",e.SaveToDropboxPersonal="save_to_dropbox_personal",e.SaveToDropboxWork="save_to_dropbox_work"}(Xc||(Xc={}));const Qc={text:void 0,title:void 0,handler:void 0,spriteName:void 0,isDisabled:void 0,userAction:void 0,role:void 0};class $c extends(i.immutableExports.Record(Qc)){static buildToDropboxOption(t,a,n,o,s,l=!1,c,d,u,_,m,p,f,g,S,E,h,w){c||v.reportException({err:new Error("No encryption options for building to dropbox option"),severity:"non-critical",tags:["sharing-encryption-options"]});const T=()=>{ie.logTiburonEvent(o,a,A.TiburonEventName.SaveToDropboxConfirm,t,null!=_?_:i.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,i.get_href(),void 0,null!=f&&f)};let I=Xc.SaveToDropbox;(null==n?void 0:n.is_paired)&&(I=s===i.ROLE_PERSONAL?Xc.SaveToDropboxPersonal:Xc.SaveToDropboxWork);const b=r.intl.formatMessage({id:"+ijDR3",defaultMessage:"Copy to Dropbox"});let y={};return o&&(y={is_email_verified:o.is_email_verified}),new $c({text:b,title:b,handler:async n=>{ie.logTiburonEvent(o,a,A.TiburonEventName.SaveToDropbox,t,null!=_?_:i.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,i.get_href(),y,null!=f&&f);const{toDropbox:r}=await new Promise((function(t,i){e(["./c_share_download_ui_actions"],t,i)}));return r(t,a,d,o,c,T,u,_,m,p,g,S,f,E,h,w,n)},isDisabled:l,userAction:I,role:s})}}var ed;function td(e){return e?{url:e,type:ed.Image}:ad()}!function(e){e.Image="image",e.Video="video",e.Color="color",e.Other="other"}(ed||(ed={}));const id={type:ed.Other};function ad(){return id}function nd(e){if(!e)return ad();if(function(e){var t,i;return!!e.color_hex&&"image"===(null===(i=null===(t=e.graphic)||void 0===t?void 0:t.value)||void 0===i?void 0:i[".tag"])}(e)){const t=e.graphic.value.original_url;if(t)return td(t)}if(function(e){return!!e.color_hex&&!e.graphic}(e)){const t=e.color_hex;if(t)return function(e){return{hex:e,type:ed.Color}}(t)}if(function(e){var t,i;return!!e.color_hex&&"video"===(null===(i=null===(t=e.graphic)||void 0===t?void 0:t.value)||void 0===i?void 0:i[".tag"])}(e)){const t=e.graphic.value.original_url;if(t)return function(e){return e?{url:e,type:ed.Video}:ad()}(t)}return ad()}function rd(e){return e.type!==ed.Other}function od(e){const t={};switch(e.type){case ed.Image:t.backgroundImage=`url(${e.url})`;break;case ed.Color:t.backgroundColor=e.hex}return t}function sd(e){return{background:nd(e.backgroundAsset),logo:td(e.logoUrl),name:e.organizationName,websiteUrl:e.websiteUrl,twitterUrl:e.twitterUrl,instagramUrl:e.instagramUrl,linkedinUrl:e.linkedinUrl}}function ld({userBranding:e,teamBranding:t}){return(null==t?void 0:t.ownerTeamName)?(null==t?void 0:t.teamMemberBrandingPolicyEnabled)?sd(e):function({ownerTeamBackground:e,ownerTeamLogo:t,ownerTeamName:i}){return{background:td(e),logo:td(t),name:i}}(t):sd(e)}i.injectInternalStyle("/static/typescript/component_libraries/pro-ui/src/components/branding/shared_previews/file_viewer_preview.module.out-vfl3F1kzN.css",(e=>"._branding-file-viewer-preview-background_1ptn3_1{background-size:cover;height:100%;width:100%}._file-viewer-preview-branding_1ptn3_7{height:max(10vw,10vh);left:var(--spacing__unit--4);position:absolute;top:var(--spacing__unit--4);width:max(10vw,10vh)}._branding-file-viewer-preview-background-video_1ptn3_15{min-height:100vh;min-width:100vw;position:fixed}"));const cd="_branding-file-viewer-preview-background_1ptn3_1",dd="_file-viewer-preview-branding_1ptn3_7",ud="_branding-file-viewer-preview-background-video_1ptn3_15";i.injectInternalStyle("/static/typescript/component_libraries/pro-ui/src/components/branding/shared_previews/logo_and_socials.module.out-vflVNL-oq.css",(e=>"._branding-social-links_1j6eb_1{display:flex;justify-content:center}._branding-social-links_1j6eb_1 svg{color:var(--color__glyph__primary)}._branding-logo_1j6eb_10{height:100%;width:100%}._branding-logo-and-socials_1j6eb_15{justify-content:center}"));const _d={brandingSocialLinks:"_branding-social-links_1j6eb_1",brandingLogo:"_branding-logo_1j6eb_10",brandingLogoAndSocials:"_branding-logo-and-socials_1j6eb_15"};function md({twitterUrl:e,instagramUrl:t,linkedinUrl:a}){const{twitterAltText:n,instagramAltText:o,linkedinAltText:s}=gd(r.useIntl());return[e,t,a].every((e=>!e))?null:qe.default.createElement("div",{className:_d.brandingSocialLinks},e&&qe.default.createElement("a",{href:e,"aria-label":n,target:"_blank",rel:"noreferrer"},qe.default.createElement(i.UIIcon,{src:je.TwitterExternalLogo})),t&&qe.default.createElement("a",{href:t,"aria-label":o,target:"_blank",rel:"noreferrer"},qe.default.createElement(i.UIIcon,{src:je.InstagramExternalLogo})),a&&qe.default.createElement("a",{href:a,"aria-label":s,target:"_blank",rel:"noreferrer"},qe.default.createElement(i.UIIcon,{src:je.LinkedInExternalLogo})))}function pd(e){const{logo:t,websiteUrl:i,twitterUrl:a,instagramUrl:n,linkedinUrl:r}=e;return!rd(t)&&[i,a,n,r].every((e=>!e))?null:qe.default.createElement("div",{className:_d.brandingLogoAndSocials},qe.default.createElement(fd,{...e}),qe.default.createElement(md,{...e}))}function fd({logo:e,websiteUrl:t}){const{logoAltText:i,websiteAltText:a}=gd(r.useIntl()),n=function(e){if(e.type===ed.Image)return e.url}(e);return n?t?qe.default.createElement("a",{href:t,"aria-label":a,target:"_blank",rel:"noreferrer"},qe.default.createElement("img",{alt:i,className:_d.brandingLogo,src:n})):qe.default.createElement("img",{alt:i,className:_d.brandingLogo,src:n}):null}function gd(e){return{websiteAltText:e.formatMessage({id:"Um3c0n",defaultMessage:"brand website"}),logoAltText:e.formatMessage({id:"vwGyWJ",defaultMessage:"brand logo"}),twitterAltText:e.formatMessage({id:"r+jnK8",defaultMessage:"brand Twitter"}),instagramAltText:e.formatMessage({id:"EsNLWD",defaultMessage:"brand Instagram"}),linkedinAltText:e.formatMessage({id:"Z5hnQD",defaultMessage:"brand LinkedIn"})}}const Sd=({children:e,...t})=>{const{background:i}=ld(t);return rd(i)?i.type===ed.Video?qe.default.createElement(qe.default.Fragment,null,qe.default.createElement("div",{className:cd},qe.default.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:ud,"data-testid":"branding-video-background"},qe.default.createElement("source",{src:i.url,type:"video/mp4"})),e)):qe.default.createElement("div",{className:cd,"data-testid":"branding-background",style:od(i)},e):qe.default.createElement(qe.default.Fragment,null,e)};Sd.displayName="FilePreviewBrandingBackground";const Ed=({...e})=>{const t=ld(e),{logo:i,twitterUrl:a,linkedinUrl:n,instagramUrl:r}=t;return!rd(i)&&[a,n,r].every((e=>void 0===e))?null:qe.default.createElement("div",{className:dd},qe.default.createElement(pd,{...t}))};Ed.displayName="FilePreviewBrandingLogoAndSocials";const vd=[i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.SHARED_LINK_EMBED,i.SDKPreviewSurface.SHARED_CONTENT_LINK,i.SDKPreviewSurface.SHARED_COLLECTION,i.SDKPreviewSurface.INBAND_SHARE],hd=e=>{const t=!!vd.includes(e.previewSurface)&&!!e.reduceUpsellsFromLinkOwner,a=i.useExperimentVariant("reduce_upsells_churn_analysis");return!!t||(a.isLoading?void 0:"ON"===a.variant||t)},wd=!!i.getQueryArgs().from_previews_auto_save&&(i.DBHistory.remove_query_param(i.BrowseQueryArg.from_previews_auto_save),!0),Td=(e,t,a,n,o,s,l,c,d,u,m,p,g,S,E,v,h,w,T,I,b,y,A,P=!1,C,N,D,L,M,O)=>{const k=n().file,R=i.getToggleDashChatCallback(k),x=()=>{const e=n().file;return{extension:i.getExtension(e),size:e.bytes,previewType:i.resolvePreviewType(e.preview,i.getFilename(e)),fileId:e.file_id}},F=e=>window.open(e,"_blank");let U,B={};i.UserSurvey.addAttribute("DIGTheme",c),_.is_supported_mobile_browser()||i.UserSurvey.trackEvent("preview_viewed","previews"),i.isSharedFile(k)&&setTimeout((()=>{ze.trackReceiverUserLeapEvent(ze.ReceiverUserLeapEvent.VIEWED_SHARED_FILE)}),5e3);const V=i.makeMetaserverFlowsClient(d),W=hs(k.revision_id,h);switch(a){case i.SDKPreviewSurface.BROWSE:case i.SDKPreviewSurface.HOME:case i.SDKPreviewSurface.HELLOSIGN:case i.SDKPreviewSurface.SEARCH:case i.SDKPreviewSurface.RECENTS:case i.SDKPreviewSurface.STARRED:case i.SDKPreviewSurface.STANDALONE_PREVIEW:case i.SDKPreviewSurface.PHOTOS:case i.SDKPreviewSurface.FILE_LOCKING:case i.SDKPreviewSurface.BACKUP:if(!h)throw new Error("Must be logged in to browse");U=f.makeFileActionsClient(h,n),B={fileSystemClient:ms(h,n,{allowCopyToDropbox:!1,shareToken:o,encryptionOptions:u,reduceUpsells:!0===m,webSignInTag:L,queryClient:p}),fullScreenClient:f.makeFullScreenClient(R),printClient:f.makePrintClient(),navigationClient:fs(S,w,T,I,b,A,F),fileActionsClient:U,urlClient:f.makeUrlClient(e,h),preferencesClient:W,flowsClient:V,stormcrowClient:ws(h),openInButtonClient:vs(h,n,a)};break;case i.SDKPreviewSurface.VERSION_HISTORY:if(!h)throw Error("user required for version history");B={fileSystemClient:void 0,fullScreenClient:f.makeFullScreenClient(R),printClient:f.makePrintClient(),navigationClient:gs(S,w,T,F),urlClient:f.makeUrlClient(e,h),preferencesClient:W,stormcrowClient:ws(h),openInButtonClient:vs(h,n,a)};break;case i.SDKPreviewSurface.SHARED_LINK_EMBED:B={fullScreenClient:f.makeFullScreenClient(R),printClient:f.makePrintClient(),urlClient:f.makeUrlClient(e,h),fileSystemClient:ms(h,n,{allowCopyToDropbox:!0,shareToken:o,encryptionOptions:u,sharePermission:g,reduceUpsells:!0===m,webSignInTag:L,queryClient:p}),navigationClient:Ss(void 0,void 0,void 0,F),openInButtonClient:vs(h,n,a)};break;case i.SDKPreviewSurface.SHARED_LINK:case i.SDKPreviewSurface.SHARED_CONTENT_LINK:case i.SDKPreviewSurface.INBAND_SHARE:case i.SDKPreviewSurface.SHARED_COLLECTION:B={fileSystemClient:ms(h,n,{allowCopyToDropbox:!0,shareToken:o,encryptionOptions:u,sharePermission:g,reduceUpsells:!0===m,webSignInTag:L,userPresentableVerdict:O,queryClient:p}),fullScreenClient:f.makeFullScreenClient(R),printClient:f.makePrintClient(),navigationClient:ps(S,w,T,I,b,F),urlClient:f.makeUrlClient(e,h),preferencesClient:W,flowsClient:V,stormcrowClient:ws(h),openInButtonClient:vs(h,n,a)};break;case i.SDKPreviewSurface.POLLUX_DESKTOP_PREVIEW:case i.SDKPreviewSurface.POLLUX_DESKTOP_SEARCH_PREVIEW:h&&(U=f.makeFileActionsClient(h,n,N)),B={fullScreenClient:f.makeFullScreenClient(),fileActionsClient:U,flowsClient:V};break;case i.SDKPreviewSurface.FSS_DESKTOP_PREVIEW:h&&(U=f.makeFileActionsClient(h,n,N)),B={fullScreenClient:f.makeFullScreenClient(),printClient:f.makeFSSDesktopPrintClient(),fileActionsClient:U,flowsClient:V,navigationClient:Es(F),urlClient:f.makeFSSDesktopPreviewUrlClient(e,h)}}const H=new URLSearchParams(window.location.search),K=H.get("session_id")||H.get("sessionId")||void 0,G={log:Le.makeLogger(a,x,K),logDuration:Le.logDuration,logVideoEvent:(e,t)=>{const i=x();f.logVideoEvent(i,a,e,t)},logVideoEventQuantity:f.logVideoEventQuantity,logVideoEventDuration:f.logVideoEventDuration};return{...{intl:r.intl,apiV2ClientShim:i.makeApiV2ClientShim(d),logger:G,optionalIOClients:{...B,reportExceptionClient:f.makeReportExceptionClient()},deviceType:Ge.getDeviceType(),featureConfig:t,loggingSessionId:D},pluginArgs:{reduceUpsells:!0===m,browseContext:E,browseExceptions:v,canRestoreRevision:C,encryptionOptions:u,featureConfig:t,fileActionsClient:U,getActiveFile:n,previewContentOnly:P,onFileChanged:N,onRestoreRevision:y,setIsPdfEditorActive:l,sharePermission:g,shareToken:o,sharedLinkInfo:s,user:h,commentsPluginInitialParams:M,fileName:i.getFilename(k),userPresentableVerdict:O}}},Id=(e,t,a,n,r,o)=>{const s=[];if(t){const{canCopyToDropboxRoles:l}=t;if(l.length>0){const l=function(e,{canCopyToDropboxRoles:t},a,n,r,o,s,l,c,d,u,_,m,p,f,g,S){const E=s?s.role:i.ROLE_ANONY,v=-1===t.indexOf(E);return $c.buildToDropboxOption(a,n,e,s,E,v,r,o,l,c,d,u,_,m,p,f,g,S)}(e,t,a,n,r,void 0,o);s.push({text:l.text,isDisabled:l.isDisabled,role:l.role})}}return s},bd=t=>{var l;const{file:c,sharedLinkInfo:d,sharePermission:u,shareToken:m,brandingInfo:g,user:S,previewSurface:E,encryptionOptions:v,closeFile:h,flipToNextFile:w,flipToPreviousFile:T,flipToNextSlideshowFile:I,flipToPreviousSlideshowFile:y,previewCollection:A,updateFiles:P,fileIndex:C,fileCount:N,passSessionId:D,previewContentOnly:L=!1,cloudDocPreviewMode:M="open_in_button",onRestoreRevision:O,canRestoreRevision:k,canShowFileFlippers:R,containerId:x,onFileChanged:F,loggingSessionId:U,sourceContext:B,shouldFocusComment:V,editActivationParams:W,defaultLeftSidebarPluginId:K,defaultRightSidebarPluginId:G,hideTour:z,fromRegister:j,userPresentableVerdict:Z,commentId:q,viewer:J,timestamp:Y,dashConversationId:$}=t,te=hd(t),ie=i.getWebSignInTag(!!S,E,u),ae="openInAppData"in t?t.openInAppData:void 0,ne=qe.default.useMemo((()=>({file:c,sharedLinkInfo:d,sharePermission:u,shareToken:m,encryptionOptions:v,openInAppData:ae})),[c,d,u,m,v,ae]),re=qe.default.useRef(ne),oe=qe.default.createRef(),se=qe.default.useCallback((()=>re.current),[]),ce=qe.default.useMemo((()=>x&&document.getElementById(x)||void 0),[x]),[de,ue]=qe.default.useState(!1),{browseContext:_e,browseExceptions:me}=(e=>e.previewSurface===i.SDKPreviewSurface.BROWSE?{browseContext:e.browseContext,browseExceptions:e.browseExceptions}:{})(t),pe=qe.default.useCallback((e=>f.showAuthModal({...e,encryptionOptions:v,loggingExtra:{signup_source:"file_preview_unlabeled_event",...e.loggingExtra},webSignInTag:ie,onCancel:()=>{var t;null===(t=e.onCancel)||void 0===t||t.call(e)}})),[v,ie]),fe=f.useFeatureConfig({canShowFileFlippers:R,previewContentOnly:L,cloudDocPreviewMode:M}),ge=_.is_mobile_or_tablet();i.useLogExposureOnce("preview_collection_slideshow"),i.useLogExposureOnce("previews_open_in_m2"),i.useLogExposureOnce("previews_shared_link_open_on_desktop"),i.useLogExposureOnce("custom_video_thumbnails");const Se=!_.is_mobile_or_tablet()&&!S&&i.isSharedFile(c)&&!!d&&!!m&&!1===te,Ee=(({hideTour:e,surfaceLevelSusiEnabled:t,user:a,previewSurface:n,previewContentOnly:r,isMobile:o,isEditMode:s,sourceContext:l,reduceUpsells:c})=>{var d;const u=i.useFileViewerConfiguration(),_=null!==(d=zs())&&void 0!==d?d:!!a&&!!u.hasSeenPreviewTooltipTourByUserId[a.id];return qe.default.useMemo((()=>!(e||t||c)&&!(!Ks.includes(n)||r||o||s||l===i.SourceContext.UngatedEditor)&&(n===i.SDKPreviewSurface.INBAND_SHARE?!_:[i.SDKPreviewSurface.SHARED_LINK,i.SDKPreviewSurface.SHARED_CONTENT_LINK].includes(n)?((e,t)=>!!e&&!t)(a,_):!_&&!!a)),[_,e,s,o,r,n,l,a])})({previewSurface:E,previewContentOnly:L,isMobile:ge,isEditMode:!!t.editActivationParams,user:S,sourceContext:B,hideTour:!!t.hideTour,surfaceLevelSusiEnabled:Se,reduceUpsells:!0===te}),ve=null===(l=i.useExperiment("previews_shared_link_open_on_desktop").experiment)||void 0===l?void 0:l.variant,he=qe.default.useMemo((()=>"ON"===ve&&E===i.SDKPreviewSurface.STANDALONE_PREVIEW),[E,ve]),we=i.useTheme().theme,Te=qe.default.useMemo((()=>({shouldFocusComment:V||Ye(),commentId:q||Je()})),[V,q]),Ie=H.useQueryClient(),be=qe.default.useMemo((()=>{const e="page_number",t=`amp;${e}`,i=new URLSearchParams(window.location.search),a=i.get(e)||i.get(t);if(a)return b.removeQueryParams([e,t]),parseInt(a,10)-1}),[]),{videoTimestamp:ye,autoPlayVideo:Ae}=((e,t)=>{const[a,n]=qe.default.useState(!0);return qe.default.useMemo((()=>{if(t&&a)return n(!1),{videoTimestamp:t,autoPlayVideo:!!t};const e="timestamp",r=`amp;${e}`,o=new URLSearchParams(window.location.search),s=o.get(e)||o.get(r);if(!s)return{};i.DBHistory.remove_query_param(e),i.DBHistory.remove_query_param(r);const l=parseInt(s,10);return{videoTimestamp:l,autoPlayVideo:!!l}}),[e,t])})(c.file_id,Y),Pe=qe.default.useMemo((()=>new i.ActiveUserApiV2Client),[]),Ne=sc({user:S,file:c,sharePermission:u,featureConfig:fe,previewContentOnly:L,previewSurface:E,setIsPdfEditorActive:ue,onFileChanged:F,apiV2Client:Pe,encryptionOptions:v,sharedLinkInfo:d,ssrDocJumpToPageIndex:be}),De=(e=>qe.default.useMemo((()=>({source_context:e,page_start_ts:performance.timing.navigationStart})),[e]))(B),Le=(e=>{const t=i.useGetDashChatSidebarOpenState(),a=i.useWebIAStoredState(),n=i.useIsDashChatInFSSEnabled();i.useLogExposureOnce("dash_chat_auto_summarize_truncated",!n);const r=i.canAutoOpenOnPreviews(),{isSummarizableM1:o,isSummarizableM2:s}=i.useCheckFileForAutoSummarize(e,r),l=r&&(s||o),c=n&&t;return a.source!==i.WebIASource.QUICK_VIEW_TOOLBAR&&a.source!==i.WebIASource.PREVIEW_PROMPT_SUGGESTION&&(c||l)})(c),ke=(({defaultLeftSidebarId:e,defaultRightSidebarId:t,shouldFocusComment:a,activeCommentId:n,shouldOpenDashChat:r})=>{const[o,s]=qe.default.useState(!1),l=qe.default.useRef(null);l.current=r;const c=!!a||!!n||t===i.COMMENTS_PLUGIN_ID;return qe.default.useMemo((()=>{let a,n=i.UserActionContext.Initialization,r=e;new URLSearchParams(window.location.search).get("show_file_activity")&&(r=i.FILE_ACTIVITY_PLUGIN_ID);const d=l.current&&!o;return d?a=void 0:c?a=i.COMMENTS_PLUGIN_ID:o?(a=i.COMMENTS_PLUGIN_ID,n=i.UserActionContext.UnreadComments):t&&(a=t),new URLSearchParams(window.location.search).get("show_comments")&&(a=i.COMMENTS_PLUGIN_ID),{defaultLeftSidebar:r,defaultRightSidebar:a,userActionContext:n,setHasUnreadComments:s,ignoreRightSidebarPreference:!!d}}),[e,t,o,c])})({defaultLeftSidebarId:K,defaultRightSidebarId:G,shouldFocusComment:V,activeCommentId:Te.commentId,shouldOpenDashChat:Le});Pt(Le,ke,c,$);const Re=Ol({sharedLinkInfo:d,apiV2Client:Pe,previewSurface:E,file:c,previewContentOnly:L,commentsPluginInitialParams:Te,user:S,showAuthModalWithEncryptionOptions:pe,setHasUnreadComments:ke.setHasUnreadComments}),xe=(({comments:e})=>qe.default.useMemo((()=>({[i.COMMENTS_PLUGIN_ID]:e})),[e]))({comments:Re}),Fe=f.useIsTranscriptSearchExperimentEnabled(),Ue=(({viewer:e,user:t,apiV2Client:a,previewSurface:n,file:r,previewContentOnly:o,comments:s,enableTranscriptSearchInSeekbar:l})=>{const c=Gc(t,n,r,a),d=zc(e,t,0,r,a),u=Zc(n,r,l),m=qc(n);return qe.default.useMemo((()=>o||_.is_supported_mobile_browser()?void 0:{[i.FILE_ACTIVITY_PLUGIN_ID]:c,[i.INFO_BLADE_PLUGIN_ID]:d,[i.TRANSCRIPT_BLADE_PLUGIN_ID]:u,[i.DUPLICATE_FILES_BLADE_PLUGIN_ID]:m,[i.COMMENTS_PLUGIN_ID]:s}),[s,m,c,d,o,u])})({viewer:J,user:S,apiV2Client:Pe,previewSurface:E,file:c,previewContentOnly:L,comments:Re,enableTranscriptSearchInSeekbar:Fe}),Be=qe.default.useMemo((()=>({...Td(J,fe,E,se,m,d,ue,we,Pe,v,te,Ie,u,h,_e,me,S,w,T,I,y,O,P,L,k,F,U,ie,Te,Z),logTranscriptSearchMilestone:Me.logTranscriptSearchMilestone,reportTranscriptSearchError:(e,t)=>{switch(e){case"markers_missing":Me.reportMarkersMissing(t.has_search_data,t.has_layer,t.experiment_enabled,t.segment_count);break;case"transcript_missing":Me.reportTranscriptMissing(t.file_id,t.preview_type);break;case"scroll_to_segment_failed":Me.reportScrollToSegmentFailed(t.requested_segment_index,t.total_segments,t.has_virtualized_list)}}})),[S,E,F,te]),Ve=((e,t,a,n,r,o,s,l)=>qe.default.useMemo((()=>{if(i.isSharedFile(t))return{download_button:{enable_download_button:!a,can_download:!!n&&p.isDownloadAllowed(n),copy_targets:e?Id(e,n,r,t,o,l):[]},enable_print:f.canPrint(n),enable_view_on_dropbox_button:!1,canEdit:!1};{const e=!!s&&!s.isCurrentPathWriteable(),n=!(t.read_only||e);return{...i.DEFAULT_FILE_CONFIG,download_button:{enable_download_button:!a,can_download:!0,copy_targets:[]},enable_print:!0,enable_view_on_dropbox_button:!1,canEdit:n}}}),[s,o,t,a,n,r,l,e]))(J,c,L,u,m,v,_e,S),We=(({file:e,activePreviewFile:t,fileConfig:a,currentIndex:n,totalFileCount:r,sourceContext:o,previewSurface:s,previewCollection:l,user:c,previewContentOnly:d,sharedLinkInfo:u,brandingInfo:m,apiV2Client:p})=>{const f=i.parseTimeRangeFromUrl(),g=qe.default.useMemo((()=>d||o===i.SourceContext.SharedLinkCollection?()=>null:({onHide:e})=>qe.default.createElement(Tt,{activePreviewFile:t,user:c,onHide:e})),[t,d,c,o]),S=qe.default.useMemo((()=>{if(m&&u)return{brandingLogoAndSocials:()=>qe.default.createElement(Ed,{userBranding:m,teamBranding:u}),brandingBackground:({children:e})=>qe.default.createElement(Sd,{userBranding:m,teamBranding:u},e)}}),[m,u]),E=i.useStabilizedCallback((()=>{l&&n&&i.maybePrefetchCollection(l,n,void 0,_.is_supported_mobile_browser()),_.is_supported_mobile_browser()&&(i.UserSurvey.trackEvent("mobile_web_preview_viewed","previews"),s===i.SDKPreviewSurface.SHARED_LINK&&i.UserSurvey.trackEvent("mobile_web_receiver_preview_viewed","previews"))})),v=i.useStabilizedCallback((()=>{const t=i.getCampaignsEventContext(e,o);i.emitPreviewPageLoaded(i.CampaignPageName.PREVIEW,t,{disableCampaigns:!0})})),h=qe.default.useMemo((()=>({file_id:e.file_id,ns_id:e.ns_id,sj_id:e.sjid,url:null==u?void 0:u.url})),[e.file_id,e.ns_id,e.sjid,null==u?void 0:u.url]),w=i.getFilename(e),T=i.isBrowseFile(e)?e.fq_path:void 0,I=!i.isBrowseFile(e)||!!e.read_only,b=qe.default.useMemo((()=>({file_id:e.file_id,file_name:w,file_path:T,file_last_modified_date:e.ts?new Date(1e3*e.ts).toISOString():void 0,file_collection_context:r&&void 0!==n?{file_index:n,parent_files_count:r}:void 0,size:e.bytes,timeRange:f,readOnly:I})),[n,e.file_id,e.ts,e.bytes,I,w,T,f,r]),y=qe.default.useMemo((()=>{if(c)return e=>qe.default.createElement(us,{user:c,apiv2ClientBase:p,...e,folderPickerOriginator:"file_viewer"})}),[p,c]),A=qe.default.useMemo((()=>l&&n?e.preview||(null==l?void 0:l[n]):e.preview),[n,e.preview,l]);return qe.default.useMemo((()=>({fileInfo:h,fileMetadata:b,fileConfig:a,sharedLinkInfo:u&&{...u,hasPublicAudienceOrVisibility:!!u.hasPublicAudienceOrVisibility,isSameTeam:(null==c?void 0:c.team_name)===u.ownerTeamName},header:g,callbacks:{onRenderSucceeded:E,onRenderFailed:v},fileSaver:y,prewarmedPreviewMetadata:A,...S})),[h,b,a,u,null==c?void 0:c.team_name,g,E,v,y,A,S])})({file:c,activePreviewFile:ne,featureConfig:fe,fileConfig:Ve,currentIndex:C,totalFileCount:N,sharedLinkInfo:d,brandingInfo:g,user:S,sourceContext:B,previewContentOnly:L,previewSurface:E,previewCollection:A,apiV2Client:Pe}),He=qe.default.useRef(We),Ke=qe.default.useMemo((()=>{var e;const t=null===(e=re.current)||void 0===e?void 0:e.file,a=t&&i.isBrowseFile(t)&&i.isBrowseFile(c),n=a&&t.file_id===c.file_id&&i.sameTimeRangeFromHref(t.href,c.href);return He.current&&(de||n)?(!a||t.fq_path===c.fq_path&&t.href===c.href||(re.current.file=c),He.current):(re.current={file:c,sharedLinkInfo:d,sharePermission:u,shareToken:m,encryptionOptions:v},We)}),[v,c,de,We,u,m,d]);He.current=Ke;const Ge=i.getFilename(c);((e,t)=>{var a;const{fileInfo:n,sharedLinkInfo:r}=t,o=qe.default.useMemo((()=>{var t,a;return{logDuration:()=>{var e;return Promise.resolve(null===(e=Be.logger)||void 0===e?void 0:e.logDuration)},tags:i.makeApiLoggerTags(B,!!S,null===(a=null===(t=e.preview)||void 0===t?void 0:t.content)||void 0===a?void 0:a[".tag"])}}),[null===(a=e.preview)||void 0===a?void 0:a.content]),s=i.getMetadata(e,t);i.useFileViewerPrefetch(Ie,s,n,Be.apiV2ClientShim,!!fe.videojs_preload,_.is_supported_mobile_browser(),r,o),qe.default.useMemo((()=>{i.metaserverFileViewerPrefetch({userId:null==S?void 0:S.id,queryClient:Ie,file:e,sharedLinkInfo:r,apiV2Client:Pe,currentUrl:window.location.href,sourceContext:B})}),[e,r]),((e,t,i,a)=>{qe.default.useMemo((()=>{e&&(null===le.fileContentMetadataPrefetch||void 0===le.fileContentMetadataPrefetch||le.fileContentMetadataPrefetch(e,t,i))}),[t,e,i]),qe.default.useMemo((()=>{void 0===(null==a?void 0:a.content)||"video"!==a.content[".tag"]&&"audio"!==a.content[".tag"]||Ce.prefetchMediaAddon(t.mediaAddonGetFeatures,i)}),[t,a,i])})(n,Be.apiV2ClientShim,Ie,e.preview)})(c,Ke);const ze=((e,t,a,n,r,o)=>{const s=qe.default.useMemo((()=>n?n.source:new URLSearchParams(window.location.search).get("source")),[n]),l=!!f.canShowWatermark(e),c=f.showEditPlugin(e,r,!0,!0,s),d=ee.showEditPlugin(e,r),u=Xe({file:e,sharePermission:r,user:o});return qe.default.useMemo((()=>{let e,r={};if(n||o&&i.isEditModeActive()){const t=b.getActionFromURL();l&&"watermark"===(null==n?void 0:n.source)?e=vo:c?((null==t?void 0:t.initialAction)&&b.isUngatedEditorInitialAction(t.initialAction)&&(r={source:ee.NonSignEntryPoints.PREVIEW_UNGATED_PDF_EDITOR}),e=i.PDF_EDITOR_PLUGIN_ID):d?(r={initialAction:(null==t?void 0:t.initialAction)||(null==n?void 0:n.initialEditAction)},e=i.PHOTO_EDITOR_PLUGIN_ID):u&&(r={initialEditAction:(null==t?void 0:t.initialAction)||(null==n?void 0:n.initialEditAction)},e=i.VIDEO_EDITOR_PLUGIN_ID)}return{shouldFocusComment:t,commentId:a,editActivationParams:{...n,...r},activeEditPlugin:e}}),[a,n,c,d,t,o,u,l])})(c,V,Te.commentId,W,u,S);qe.default.useEffect((()=>{if(E!==i.SDKPreviewSurface.VERSION_HISTORY)return Array.from(document.querySelectorAll(js)).forEach((e=>{e.style.display&&e.setAttribute(Zs,e.style.display),e.style.display="none"})),qs}),[E]),qe.default.useEffect((()=>{if(S&&J&&i.shouldShowWelcomeModal(S,B)){const t=async(t,i)=>{const{showWelcomeModal:a}=await new Promise((function(t,i){e(["./c_modals_welcome_modal"],t,i)}));a(t,i)};t(S,J)}}),[B,S,J]),qe.default.useEffect((()=>{const e=document.title;return()=>{document.title=e}}),[]),qe.default.useEffect((()=>{document.title=Ge}),[Ge]),qe.default.useEffect((()=>(i.scroll_lock_document(),()=>{i.scroll_unlock_document()})),[]),qe.default.useEffect((()=>{const e=a.key.getScope();return a.key.setScope("fvsdk_scope"),()=>{a.key.setScope(e)}}),[]),qe.default.useEffect((()=>{const e=i.Snackbar.manager;return i.Snackbar.manager=oe.current,()=>{i.Snackbar.manager=e}}),[oe]);const je=qe.default.useRef(null),Ze=qe.default.useCallback((e=>{je.current=e;const t=["dragenter","dragover","dragleave","drop"],i=e=>{e.stopPropagation(),e.preventDefault()};for(const a of t)null==e||e.addEventListener(a,i)}),[]);((e,t,a,n)=>{qe.useEffect((()=>{const r={file_views:[{file_info:{file_identifier:t,shared_link_details:a?{url:a.url}:void 0},platform_type:{".tag":"web"}}]};(async()=>{try{const t=X.GetSeenStateRoutes(e);n?await t.rpc("log_file_view",r,{}):await t.rpc("logged_out/log_file_view",r,{})}catch(e){const t=i.filterApiError(e);if(t&&lc.some((e=>null==t?void 0:t.message.includes(e))))return;throw e}})()}),[e,t,n,a])})(Pe,c.file_id,d,!!S),qe.default.useEffect((()=>{wd&&i.UDCL.logEvent({class:"onboard",action:"shown",object:"previews_auto_saved_file",properties:{fileId:c.file_id,timestamp:Date.now(),itemCount:1}})}),[c]);const Qe=(e=>{const[t,a]=n.useState(null);return n.useEffect((()=>{if(e){const e=i.LocalStorage.get(i.SHARED_LINK_INFO_LOCAL_STORAGE_KEY);e&&(a(e),i.LocalStorage.delete(i.SHARED_LINK_INFO_LOCAL_STORAGE_KEY))}}),[e]),t})(wd),$e=d||Qe,et=n.useCallback((({user:t,sharedLinkInfo:a})=>Oe.asyncShowNewFolderShareModal({user:t,shouldShowSignUpsCreateShared:!0,initialContentName:r.intl.formatMessage(kl,{ownerName:a.ownerName,receiverName:t.fname}),sharePrefillContacts:a.ownerEmail&&a.ownerName?[{email:a.ownerEmail,name:a.ownerName}]:void 0,onSuccessSharing:({fqPath:n})=>new Promise((function(t,i){e(["./c_cloud_docs_create_api"],t,i)})).then((({createNewWebShortcut:e})=>e({userApiProps:t,pathName:n,name:a.displayName,url:a.url,onError:()=>{},logSuccessCallback:()=>{},source:i.NewFileMenuFromType.SHARE_AUTO_SAVE}))),onShareClick:()=>{i.dispatchElementClicked("create_shared_folder_share")},browseOnboardingPathway:i.OAPulsarCampaign.CREATE})),[]),tt=Hs(),it=f.useShouldRenderOpen({file:c,user:S,shareToken:m,skipUnityCheck:B===i.SourceContext.EdisonDesktopPreview}),at=(({previewSurface:e,passSessionId:t,pluginArgs:i,fileConfig:a,hasOpenInActions:n})=>qe.default.useMemo((()=>({previewSurface:e,passSessionId:t,pluginArgs:i,fileConfig:a,hasOpenInActions:n})),[e,t,i,a,n]))({pluginArgs:Be.pluginArgs,passSessionId:D,hasOpenInActions:it,previewSurface:E,fileConfig:Ve}),nt=qe.default.useMemo((()=>Se?()=>f.showAuthModal({signupTag:o.RegistrationSource.SHARED_FILE_BANNER_REGISTER,webSignInTag:o.RegistrationSource.SHARED_FILE_BANNER_REGISTER,kind:i.LoginOrRegisterKind.SURFACE_LEVEL_PREVIEW,encryptionOptions:v,sharedLinkUrl:null==d?void 0:d.url,mode:i.Mode.REGISTER}):void 0),[v,null==d?void 0:d.url,Se]),rt=(e=>{const{fromRegister:t,receiver:a,sharedLinkInfo:r,showFolderCreationModal:o,showTour:s,hideTour:l,fromAutoSave:c,isMobileWeb:d}=e,[u,_]=n.useState(!1),m=n.useCallback((()=>{(t&&!l||c)&&(null==a?void 0:a.is_email_verified)&&!(null==a?void 0:a.is_team)&&!d&&!u&&a&&(null==r?void 0:r.ownerName)&&(null==r?void 0:r.ownerEmail)&&o&&(i.Modal.showInstance(qe.default.createElement(Rs,{receiver:a,senderName:r.ownerName,senderPhotoUrl:r.ownerPhotoUrl,showFolderCreationModal:()=>{o({user:a,sharedLinkInfo:r})}})),_(!0))}),[c,t,u,l,d,a,r,o]);return n.useEffect((()=>{s||m()}),[s,m]),m})({receiver:S,sharedLinkInfo:$e,showFolderCreationModal:et,showTour:Ee,hideTour:z,fromRegister:j,fromAutoSave:wd,isMobileWeb:fe.mobile_web});return Yc(S,c,m),qe.default.createElement(yt,{value:at},qe.default.createElement("div",{ref:Ze,id:"fvsdk_container",className:i.cx("_fvsdk-container_ba0ho_5",{"_fvsdk-embed-viewport_ba0ho_25":!!ce}),"data-testid":"fvsdk-container"},qe.default.createElement(i.SnackbarManager,{ref:oe,getParentElement:()=>je.current}),qe.default.createElement(Q.FileViewer,{...Be,id:i.FVSDK_MOUNT_POINT,loggingSessionId:U,isLoggedIn:!!S,sourceSession:De,initialEditorParams:ze,featureConfig:fe},qe.default.createElement(cs,{viewer:J,previewProps:Ke,defaultUi:ke,editors:Ne,sidebars:Ue,comments:Re,showAuthModal:pe,activePreviewFile:ne,user:S,previewSurface:E,shareToken:m,previewContentOnly:L,handleSusiClick:nt,webSignInTag:ie,onFileChanged:F,browseContext:_e,textHighlighters:xe,userPresentableVerdict:Z,ssrDocJumpToPageIndex:be,videoTimestamp:ye,autoPlayVideo:Ae}),S&&he&&qe.default.createElement(Nl,{file:c,user:S,sourceContext:B})),qe.default.createElement(xs,{previewSurface:E,file:c,closeFile:h,showTour:Ee,eventContext:i.getCampaignsEventContext(c,B)}),qe.default.createElement(tt,{file:ne.file,user:S,showTour:Ee,previewSurface:E,shareToken:m,linkOwnerName:null==d?void 0:d.ownerName,skipPreviewTourModal:t.skipPreviewTourModal,showAutoSavePromptWithPreviewTour:wd,openSharedFolderModal:rt}),qe.default.createElement(s.PublishDashPromotions,{file:c})))};bd.displayName="_FileViewer",bd.displayName="_FileViewer";const yd=i.withViewer(bd),Ad=()=>{const t=qe.default.useContext(Pd),[a,n]=qe.default.useState(!1),r=vd.includes(t.previewSurface)?t.shareToken:void 0,o=en(),s=qe.default.useCallback((e=>{var t,a;t=e,a="file_viewer",i.UDCL$1.track(`web_previews/${t}`,{detail:{source:a,is_edison:String(c.isServedByEdisonWebServer())}})}),[]),l=t.onMobileInterstitialDismissed,d=qe.default.useCallback((()=>{n(!0),null==l||l()}),[n,l]),u=hd(t),_="openInAppData"in t&&t.openInAppData&&!a&&!u&&!t.hideOpenInAppInterstitial,m=sessionStorage.getItem("has_seen_interstitial");return qe.default.useEffect((()=>{if(!m&&_&&sessionStorage.setItem("has_seen_interstitial","true"),m&&_&&!t.user){(async()=>{const{GSIEvent:t,GSIEventManager:i}=await new Promise((function(t,i){e(["./c_google_one_tap_lib"],t,i)}));i.getGSIState().gsiInitComplete?i.sendGSIEvent(t.SHOW_PROMPT):i.createGSIEventListener(t.GSI_INIT_COMPLETE,(()=>i.sendGSIEvent(t.SHOW_PROMPT)))})()}}),[_,m,t.user]),i.isSharedFile(t.file)&&"openInAppData"in t&&t.openInAppData&&_&&"true"!==sessionStorage.getItem("has_seen_interstitial")?qe.default.createElement(wt,{file:t.file,onDismiss:d,openInAppData:t.openInAppData,sharedLinkInfo:t.sharedLinkInfo,logUserAction:s,deviceId:t.deviceId}):(r&&o.select(Xa).emit(null),qe.default.createElement(yd,{...t}))};Ad.displayName="FileViewerWithInterstitial";const Pd=qe.default.createContext(null),Cd=i.createRouteObjects([{path:"*",region:i.region({importer:()=>Promise.resolve({default:Ad})})}]),Nd=i.getStoreForFileViewer(),Dd=e=>{i.PreviewsEventLogger.mark(i.PreviewsTimingEvents.SDK_FILE_VIEWER_CODE_START);const t=!i.MODULAR_APP_FRAMEWORK_ACTIVE,a=qe.default.useMemo((()=>t?(i.appendErrorBoundary(Cd),i.createBrowserRouter(Cd)):null),[t]);return qe.default.useEffect((()=>{var t,a,n,r;vd.includes(e.previewSurface)&&(h.Context.defaultValue={rlkey:(null===(t=e.shareToken)||void 0===t?void 0:t.rlkey)||null,tkey:(null===(a=e.shareToken)||void 0===a?void 0:a.linkType)===i.SharedLinkType.Shmodel?e.shareToken.linkKey:null,sckey:(null===(n=e.shareToken)||void 0===n?void 0:n.linkType)===i.SharedLinkType.Content?e.shareToken.linkKey:null,subpath:(null===(r=e.shareToken)||void 0===r?void 0:r.subPath)||null})}),[e.shareToken,e.previewSurface]),qe.default.createElement(Pd.Provider,{value:e},qe.default.createElement(i.Provider,{store:Nd},qe.default.createElement(r.Provider,{value:r.intl},qe.default.createElement(H.QueryClientProvider,{client:H.queryClient},t?qe.default.createElement(qe.default.Suspense,{fallback:null},qe.default.createElement(i.RouterProvider,{router:a})):qe.default.createElement(Ad,null)))))};Dd.displayName="FileViewerWithProvider",Dd.displayName="FileViewerWithProvider";const Ld=i.requireCssWithComponent(Dd,["/static/js/file_viewer/index.web-vflMfKScd.css","/static/js/comments2/index-vflQdvUHu.css","/static/metaserver/static/css/foundation-vflH6wwwv.css","/static/metaserver/static/css/dig-components/index.web-vflaJWt-u.css","/static/typescript/component_libraries/dig-experimental/src/index.web-vflMgkV3K.css","/static/metaserver/static/css/dig-illustrations/index.web-vflye-46V.css","/static/metaserver/static/css/spectrum/index.web-vfl6Hbk66.css","/static/metaserver/static/css/dig/fonts-vflMHuSEC.css","/static/metaserver/static/css/notify-vflPup1uz.css"]);Ld.displayName="FileViewer",t.AUTO_SCROLL_PAUSE_THRESHOLD=1e4,t.COPIED_BUTTON_DISPLAY_THRESHOLD=3e3,t.DEFAULT_VIRTUAL_LIST_HEIGHT=1e3,t.ESTIMATE_SEGMENT_ITEM_HEIGHT=132,t.FileViewerWithCSS=Ld,t.LoggedOutChangesLabel=Hn,t.MAX_AUDIOVIDEO_LENGTH_S=6300,t.MAX_AUDIOVIDEO_SIZE_GB=10,t.MiniModal=Ns,t.MobileActionBar=hi,t.MobileHeader=or,t.ON_CLICK_SHARED_CONTENT_ACTION=Qa,t.PreviewTourWrapper=Ws,t.RESUME_AUTO_SCROLL_BUTTON_PLACEHOLDER_HEIGHT=40,t.SidebarContent=lr,t.SignUpBannerFilePreview=$o,t.SignUpButton=pi,t.TOOLTIP_10_10_TITLE=ta,t.TRANSCRIPT_ERROR_TESTID="transcript-blade-error",t.TitleBarPassUi=Gi,t.TitleBarRightSection=ar,t.TitlebarDropdowns=gr,t.Toolbar=qo,t.TooltipTourConfig=ha,t.TooltipTypeConfig=va,t.TranscriptProgressBar=Pc,t.WATERMARKING_PLUGIN_ID=vo,t.applyWatermark=(e,t,i)=>({type:"ApplyWatermark",payload:{fileViewerId:e,file:t,overwrite:i}}),t.audioVideoEditingActionCondition=fo,t.cropHandler=_o,t.currentMatchSegmentAtom=Nc,t.currentSearchMatch="_currentSearchMatch_1ia60_100",t.currentSearchMatchExperiment="_currentSearchMatchExperiment_1ia60_110",t.deleteActionCondition=ai,t.duplicateFilesActionCondition=Dr,t.editContentText=ao,t.flipHorizontalHandler=co,t.flipVerticalHandler=uo,t.getCurrentWatermarkOptions=Jl,t.getDataForContentInfo=Mi,t.getSelfSignActionArgs=yo,t.getTooltipTourFileType=function(e){if("pdf"===e)return t.TooltipTourFileType.pdf;const a=i.ExtensionCategories[e];return a in t.TooltipTourFileType?a:t.TooltipTourFileType.default},t.getTooltipTourFileTypeForNonShare=function(e,a){const n=i.getExtension(e);if("pdf"===n&&f.showEditPlugin(e,a))return t.TooltipTourFileType.pdf;const r=i.ExtensionCategories[n];return"IMAGE"===r&&ee.showEditPlugin(e,a)?t.TooltipTourFileType.IMAGE:"VIDEO"===r&&te.isExtensionSupported(n)?t.TooltipTourFileType.VIDEO:t.TooltipTourFileType.default},t.getWatermarkScale=Ql,t.hasConsumedInitialSearchTermAtom=Bc,t.initialTimestampAtom=Vc,t.isDownloadPluginEnabled=ba,t.makeDownloadActions=rn,t.makeRestoreAction=cn,t.minSegmentHeight="42",t.moveActionCondition=oi,t.onAdjust=kr,t.onAutoStraighten=Fr,t.onColorCorrect=xr,t.onCrop=Mr,t.onEdit=no,t.onFlip=Or,t.onImageFilter=Ur,t.onRotate=Lr,t.onUpscale=Rr,t.openInApp=_t,t.pdfEditActionCondition=Kr,t.replaceBanner="_replaceBanner_1ia60_159",t.replaceHistoryAtom=Dc,t.resumeAutoScrollButton="_resumeAutoScrollButton_1ia60_115",t.rotateLeftHandler=so,t.rotateRightHandler=lo,t.searchMatchExperiment="_searchMatchExperiment_1ia60_106",t.selfSignActionCondition=bo,t.sendForSignatureActionCondition=Po,t.setCachedUserSeenTour=e=>Gs=e,t.setImageWatermarkOptions=(e,t)=>({type:"SetImageWatermarkOptions",payload:{fileViewerId:e,options:t}}),t.setMode=(e,t)=>({type:"SetMode",payload:{fileViewerId:e,mode:t}}),t.setShowTranscriptionSearchAtom=Fc,t.setStatusReady=e=>({type:"SetStatusReady",payload:{fileViewerId:e}}),t.setTextWatermarkOptions=(e,t)=>({type:"SetTextWatermarkOptions",payload:{fileViewerId:e,options:t}}),t.share=Oi,t.shouldShowDuplicateFiles=Cr,t.showSelfSignWarningModal=e=>{i.mountModal(qe.default.createElement(f.ConfirmationModal,{...e}))},t.showTranscriptionDetailsAtom=Mc,t.showTranscriptionSearchAtom=Rc,t.showing="_showing_1ia60_124",t.starActionConditions=gi,t.textEditingActionCondition=io,t.transcriptActionConditions=Oo,t.transcriptBladeContentWrapper="_transcriptBladeContentWrapper_1ia60_17",t.transcriptCaptionText="_transcriptCaptionText_1ia60_85",t.transcriptCaptionTextEditMode="_transcriptCaptionTextEditMode_1ia60_90",t.transcriptErrorInfo="_transcriptErrorInfo_1ia60_36",t.transcriptFeedbackPanel="_transcriptFeedbackPanel_1ia60_164",t.transcriptFeedbackTextbox="_transcriptFeedbackTextbox_1ia60_193",t.transcriptFeedbackThumbButtonGroup="_transcriptFeedbackThumbButtonGroup_1ia60_172",t.transcriptSearchMatchFoundText="_transcriptSearchMatchFoundText_1ia60_75",t.transcriptSearchNavigatorRowWrapper="_transcriptSearchNavigatorRowWrapper_1ia60_149",t.transcriptSearchNavigatorWrapper="_transcriptSearchNavigatorWrapper_1ia60_80",t.transcriptSearchWrapper="_transcriptSearchWrapper_1ia60_69",t.transcriptSegmentListContentWrapper="_transcriptSegmentListContentWrapper_1ia60_28",t.transcriptSegmentsAtom=Uc,t.transcriptWrittenFeedbackButtons="_transcriptWrittenFeedbackButtons_1ia60_197",t.transcriptWrittenFeedbackChip="_transcriptWrittenFeedbackChip_1ia60_180",t.transcriptWrittenFeedbackChips="_transcriptWrittenFeedbackChips_1ia60_180",t.trimHandler=mo,t.unzipActionConditions=Ro,t.useActionsForActionSheet=({user:e,previewSurface:t,activePreviewFile:a,source:n,webSignInTag:r,userPresentableVerdict:o})=>{const{logUserAction:s}=i.useFileViewerContext(),l=vi({user:e,activePreviewFile:a,previewSurface:t}),c=f.useStarControlWithStore({getActiveFile:()=>a,user:e,onChange:Ei(n,s),starredStore:i.getStoreForStarred()}),d=i.isBrowseFile(a.file),u=i.isSharedFile(a.file),_=H.useQueryClient(),m=i.useShouldShowDashRedesign()&&!!e,p=i.useListAISupportedFileTypes(m);return[e&&d?ui(a,e,n,s):null,e&&d?qt(a,e,n,s):null,m?ti(l,a,n,s,p,l.previewType):null,ri(a,e,n,s,_,o),u?di(a,e,n,s,r):null,u?qt(a,e,n,s):null,si(l,a,e,n,s),li(l,a,e,n,s),Si(l,c),Dt(a,e,n,s),ni(l,a,e,n,s),ci(n,s)].filter((e=>Boolean(e)))},t.useCommentAction=e=>{const{isRightSidebarComments:t,handleClick:a}=f.useCommentSidebarInteraction(i.UserActionContext.ViewMenu);return qe.default.useMemo((()=>wa(e,t,a)),[e,t,a])},t.useDuplicateFilesExperimentVariant=Nr,t.useEmitter=en,t.useImageEnhancements=ho,t.usePluginMigrationContext=bt,t.useStoreSharedLinkInfo=({sharedLinkInfo:e,shouldRedirectToAutoSave:t})=>{n.useEffect((()=>{t&&i.LocalStorage.set(i.SHARED_LINK_INFO_LOCAL_STORAGE_KEY,e)}),[e,t])},t.watermarkActionCondition=Eo}));
//# sourceMappingURL=c_api_v2_redux_file_viewer.js-vflK9l08L.map

//# debugId=f22b55f9-8381-3474-9055-274a025a3b60